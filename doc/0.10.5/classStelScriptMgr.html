<?xml version="1.0" encoding="utf-8"?>
<html>
    <head>
      <title>Stellarium: StelScriptMgr Class Reference</title>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32"><a href="http://www.stellarium.org"><img src="stellarium-logo.png" align="left" border="0" /></a></td>
<td width="1">&nbsp;&nbsp;</td>
<td class="postheader" valign="center">
 <a href="index.html">Home</a>&nbsp;&middot;
 <a href="namespaces.html">All&nbsp;Namespaces</a>&nbsp;&middot;
 <a href="classes.html">All&nbsp;Classes</a>&nbsp;&middot;
 <a href="functions.html">Functions</a>&nbsp;&middot;
 <a href="codingStyle.html">Coding Style</a>&nbsp;&middot;
 <a href="scripting.html">Scripting</a>&nbsp;&middot;
 <a href="plugins.html">Plugins</a>&nbsp;&middot;
 <a href="fileStructure.html">File Structure</a>
</td>
<td align="right" valign="top" width="230"></td>
</tr>
</table>
<!-- Generated by Doxygen 1.5.5 -->
<div class="contents">
<h1>StelScriptMgr Class Reference</h1><!-- doxytag: class="StelScriptMgr" -->Manage scripting in Stellarium.  
<a href="#_details">More...</a>
<p>
<code>#include &lt;<a class="el" href="StelScriptMgr_8hpp-source.html">StelScriptMgr.hpp</a>&gt;</code>
<p>

<p>
<a href="classStelScriptMgr-members.html">List of all members.</a><table border="0" cellpadding="0" cellspacing="0">
<tr><td></td></tr>
<tr><td colspan="2"><br><h2>Public Slots</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">const QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#11e4190d39e133bc58b4de157238fbe7">getName</a> (const QString &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#c8f45eb3027f28c638e5e38d183054b2">getAuthor</a> (const QString &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#b6f4c29b9143939d2cb8e43a1d3180be">getLicense</a> (const QString &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">const QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#f8fb58798e1d91800f9093834529310d">getDescription</a> (const QString &amp;s)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#4ae16f6682d202218f3ae778d14bdbb4">runScript</a> (const QString &amp;fileName, const QString &amp;includePath=&quot;&quot;)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#42b01fcc7175a1aa52c506f38e42e309">stopScript</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#eea51aa0d866d1dcd1daf8e4a6e132a7">setScriptRate</a> (float r)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">double&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#4f7c1d2bb83e9127ca1b7c8fa0d6b078">getScriptRate</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#251adf70871e844384276916ecaa7fa6">debug</a> (const QString &amp;msg)</td></tr>

<tr><td colspan="2"><br><h2>Signals</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#2cf34cd52cbcdc182bd409172432f8e8">scriptRunning</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#dba6f2792b07c7a74dc68209617d70ef">scriptStopped</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">void&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#587d4e9b21a2cb36065c395ddc8269b5">scriptDebug</a> (const QString &amp;)</td></tr>

<tr><td colspan="2"><br><h2>Public Member Functions</h2></td></tr>
<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="00b1167c0dd885ed9db327d9d6685bad"></a><!-- doxytag: member="StelScriptMgr::StelScriptMgr" ref="00b1167c0dd885ed9db327d9d6685bad" args="(QObject *parent=0)" -->
&nbsp;</td><td class="memItemRight" valign="bottom"><b>StelScriptMgr</b> (QObject *parent=0)</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top"><a class="anchor" name="8cf48a1850f0290f201b8cac557fca6e"></a><!-- doxytag: member="StelScriptMgr::getScriptList" ref="8cf48a1850f0290f201b8cac557fca6e" args="()" -->
QStringList&nbsp;</td><td class="memItemRight" valign="bottom"><b>getScriptList</b> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">bool&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#d90cb7cd7921ecdde81f2212c6f0d0c9">scriptIsRunning</a> ()</td></tr>

<tr><td class="memItemLeft" nowrap align="right" valign="top">QString&nbsp;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelScriptMgr.html#93c388aec98eab1e3008f830c4c47dc0">runningScriptId</a> ()</td></tr>

</table>
<hr><a name="_details"></a><h2>Detailed Description</h2>
Manage scripting in Stellarium. <hr><h2>Member Function Documentation</h2>
<a class="anchor" name="d90cb7cd7921ecdde81f2212c6f0d0c9"></a><!-- doxytag: member="StelScriptMgr::scriptIsRunning" ref="d90cb7cd7921ecdde81f2212c6f0d0c9" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool StelScriptMgr::scriptIsRunning           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Find out if a script is running. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>true if a script is running, else false </dd></dl>

</div>
</div><p>
<a class="anchor" name="93c388aec98eab1e3008f830c4c47dc0"></a><!-- doxytag: member="StelScriptMgr::runningScriptId" ref="93c388aec98eab1e3008f830c4c47dc0" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">QString StelScriptMgr::runningScriptId           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the ID (filename) of the currently running script. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>Empty string if no script is running, else the ID of the script which is running. </dd></dl>

</div>
</div><p>
<a class="anchor" name="11e4190d39e133bc58b4de157238fbe7"></a><!-- doxytag: member="StelScriptMgr::getName" ref="11e4190d39e133bc58b4de157238fbe7" args="(const QString &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString StelScriptMgr::getName           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a single line name of the script. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>the file name of the script whose name is to be returned. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>text following a comment with Name: at the start. If no such comment is found, the file name will be returned. If the file is not found or cannot be opened for some reason, an Empty string will be returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="c8f45eb3027f28c638e5e38d183054b2"></a><!-- doxytag: member="StelScriptMgr::getAuthor" ref="c8f45eb3027f28c638e5e38d183054b2" args="(const QString &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString StelScriptMgr::getAuthor           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the name of the script Author. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>the file name of the script whose name is to be returned. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>text following a comment with Author: at the start. If no such comment is found, "" is returned. If the file is not found or cannot be opened for some reason, an Empty string will be returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="b6f4c29b9143939d2cb8e43a1d3180be"></a><!-- doxytag: member="StelScriptMgr::getLicense" ref="b6f4c29b9143939d2cb8e43a1d3180be" args="(const QString &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString StelScriptMgr::getLicense           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets the licensing terms for the script. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>the file name of the script whose name is to be returned. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>text following a comment with License: at the start. If no such comment is found, "" is returned. If the file is not found or cannot be opened for some reason, an Empty string will be returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="f8fb58798e1d91800f9093834529310d"></a><!-- doxytag: member="StelScriptMgr::getDescription" ref="f8fb58798e1d91800f9093834529310d" args="(const QString &amp;s)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">const QString StelScriptMgr::getDescription           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>s</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Gets a description of the script. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>s</em>&nbsp;</td><td>the file name of the script whose name is to be returned. </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>text following a comment with Description: at the start. The description is considered to be over when a line with no comment is found. If no such comment is found, QString("") is returned. If the file is not found or cannot be opened for some reason, an Empty string will be returned. </dd></dl>

</div>
</div><p>
<a class="anchor" name="4ae16f6682d202218f3ae778d14bdbb4"></a><!-- doxytag: member="StelScriptMgr::runScript" ref="4ae16f6682d202218f3ae778d14bdbb4" args="(const QString &amp;fileName, const QString &amp;includePath=&quot;&quot;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">bool StelScriptMgr::runScript           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>fileName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>includePath</em> = <code>&quot;&quot;</code></td><td>&nbsp;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td><td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Run the script located at the given location. 
<p>
<dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>fileName</em>&nbsp;</td><td>the location of the file containing the script. </td></tr>
    <tr><td valign="top"></td><td valign="top"><em>includePath</em>&nbsp;</td><td>the directory to use when searching for include files in the SSC preprocessor. Usually this will be the same as the script file itself, but if you're running a generated script from a temp directory, but want to include a file from elsewhere, it can be usetul to set it to something else (e.g. in ScriptConsole). </td></tr>
  </table>
</dl>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>false if the named script could not be run, true otherwise </dd></dl>

</div>
</div><p>
<a class="anchor" name="42b01fcc7175a1aa52c506f38e42e309"></a><!-- doxytag: member="StelScriptMgr::stopScript" ref="42b01fcc7175a1aa52c506f38e42e309" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StelScriptMgr::stopScript           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Stops any running script. 
<p>
<dl class="return" compact><dt><b>Returns:</b></dt><dd>false if no script was running, true otherwise. </dd></dl>

</div>
</div><p>
<a class="anchor" name="eea51aa0d866d1dcd1daf8e4a6e132a7"></a><!-- doxytag: member="StelScriptMgr::setScriptRate" ref="eea51aa0d866d1dcd1daf8e4a6e132a7" args="(float r)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StelScriptMgr::setScriptRate           </td>
          <td>(</td>
          <td class="paramtype">float&nbsp;</td>
          <td class="paramname"> <em>r</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Changes the rate at which the script executes as a multiple of real time. 
<p>
Note that this is not the same as the rate at which simulation time passes because the script running at normal rate might set the simulation time rate to be non-real time. <dl compact><dt><b>Parameters:</b></dt><dd>
  <table border="0" cellspacing="2" cellpadding="0">
    <tr><td valign="top"></td><td valign="top"><em>r</em>&nbsp;</td><td>rate, e.g. 2.0 = script runs at twice the normal rate </td></tr>
  </table>
</dl>

</div>
</div><p>
<a class="anchor" name="4f7c1d2bb83e9127ca1b7c8fa0d6b078"></a><!-- doxytag: member="StelScriptMgr::getScriptRate" ref="4f7c1d2bb83e9127ca1b7c8fa0d6b078" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double StelScriptMgr::getScriptRate           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Get the rate at which the script is running as a multiple of the normal execution rate. 
<p>

</div>
</div><p>
<a class="anchor" name="251adf70871e844384276916ecaa7fa6"></a><!-- doxytag: member="StelScriptMgr::debug" ref="251adf70871e844384276916ecaa7fa6" args="(const QString &amp;msg)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StelScriptMgr::debug           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname"> <em>msg</em>          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [slot]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
cause the emission of the scriptDebug signal. 
<p>
This is so that functions in <a class="el" href="classStelMainScriptAPI.html" title="Provide script API for Stellarium global functions.">StelMainScriptAPI</a> can explicitly send information to the ScriptConsole 
</div>
</div><p>
<a class="anchor" name="2cf34cd52cbcdc182bd409172432f8e8"></a><!-- doxytag: member="StelScriptMgr::scriptRunning" ref="2cf34cd52cbcdc182bd409172432f8e8" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StelScriptMgr::scriptRunning           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Notification when a script starts running. 
<p>

</div>
</div><p>
<a class="anchor" name="dba6f2792b07c7a74dc68209617d70ef"></a><!-- doxytag: member="StelScriptMgr::scriptStopped" ref="dba6f2792b07c7a74dc68209617d70ef" args="()" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StelScriptMgr::scriptStopped           </td>
          <td>(</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Notification when a script has stopped running. 
<p>

</div>
</div><p>
<a class="anchor" name="587d4e9b21a2cb36065c395ddc8269b5"></a><!-- doxytag: member="StelScriptMgr::scriptDebug" ref="587d4e9b21a2cb36065c395ddc8269b5" args="(const QString &amp;)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void StelScriptMgr::scriptDebug           </td>
          <td>(</td>
          <td class="paramtype">const QString &amp;&nbsp;</td>
          <td class="paramname">          </td>
          <td>&nbsp;)&nbsp;</td>
          <td width="100%"><code> [signal]</code></td>
        </tr>
      </table>
</div>
<div class="memdoc">

<p>
Notification of a script event - warnings, current execution line etc. 
<p>

</div>
</div><p>
</div>
<hr size="1"><address style="text-align: right;"><small>Generated on Wed Jun 2 13:11:14 2010 for Stellarium by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img src="doxygen.png" alt="doxygen" align="middle" border="0"></a> 1.5.5 </small></address>
</body>
</html>
