<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.11"/>
<title>Stellarium: StelProperty Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<script type="text/javascript">
  $(document).ready(function() { init_search(); });
</script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stellarium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stellarium
   &#160;<span id="projectnumber">0.16.1</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.11 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="codingStyle.html"><span>Coding&#160;Style</span></a></li>
      <li><a href="scripting.html"><span>Scripting</span></a></li>
      <li><a href="plugins.html"><span>Plugins</span></a></li>
      <li><a href="fileStructure.html"><span>File&#160;Structure</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
      <li>
        <div id="MSearchBox" class="MSearchBoxInactive">
        <span class="left">
          <img id="MSearchSelect" src="search/mag_sel.png"
               onmouseover="return searchBox.OnSearchSelectShow()"
               onmouseout="return searchBox.OnSearchSelectHide()"
               alt=""/>
          <input type="text" id="MSearchField" value="Search" accesskey="S"
               onfocus="searchBox.OnSearchFieldFocus(true)" 
               onblur="searchBox.OnSearchFieldFocus(false)" 
               onkeyup="searchBox.OnSearchFieldChange(event)"/>
          </span><span class="right">
            <a id="MSearchClose" href="javascript:searchBox.CloseResultsWindow()"><img id="MSearchCloseImg" border="0" src="search/close.png" alt=""/></a>
          </span>
        </div>
      </li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classStelProperty-members.html">List of all members</a> &#124;
<a href="#pub-slots">Public Slots</a> &#124;
<a href="#signals">Signals</a> &#124;
<a href="#pro-slots">Protected Slots</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-attribs">Protected Attributes</a> &#124;
<a href="#friends">Friends</a>  </div>
  <div class="headertitle">
<div class="title">StelProperty Class Reference</div>  </div>
</div><!--header-->
<div class="contents">

<p>Wrapper around a Q_PROPERTY (see the <a href="https://doc.qt.io/qt-5/properties.html">Qt property system</a> for more information) of a specific object, which provides access to the property through a unique ID.  
 <a href="classStelProperty.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="StelPropertyMgr_8hpp_source.html">StelPropertyMgr.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for StelProperty:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classStelProperty__inherit__graph.png" border="0" usemap="#StelProperty_inherit__map" alt="Inheritance graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for StelProperty:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classStelProperty__coll__graph.png" border="0" usemap="#StelProperty_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-slots"></a>
Public Slots</h2></td></tr>
<tr class="memitem:a8175a445382bbca146943d5314d7594d"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#a8175a445382bbca146943d5314d7594d">getId</a> () const </td></tr>
<tr class="memdesc:a8175a445382bbca146943d5314d7594d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the unique ID which is used to identify this property.  <a href="#a8175a445382bbca146943d5314d7594d">More...</a><br /></td></tr>
<tr class="separator:a8175a445382bbca146943d5314d7594d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae103c4cde3b3acea1fee630365f78ea4"><td class="memItemLeft" align="right" valign="top">QVariant&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#ae103c4cde3b3acea1fee630365f78ea4">getValue</a> () const </td></tr>
<tr class="memdesc:ae103c4cde3b3acea1fee630365f78ea4"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the current value of this property as a QVariant.  <a href="#ae103c4cde3b3acea1fee630365f78ea4">More...</a><br /></td></tr>
<tr class="separator:ae103c4cde3b3acea1fee630365f78ea4"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a8377542d34852890d91e10628fee14ad"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#a8377542d34852890d91e10628fee14ad">setValue</a> (const QVariant &amp;value) const </td></tr>
<tr class="memdesc:a8377542d34852890d91e10628fee14ad"><td class="mdescLeft">&#160;</td><td class="mdescRight">Sets the value of the property.  <a href="#a8377542d34852890d91e10628fee14ad">More...</a><br /></td></tr>
<tr class="separator:a8377542d34852890d91e10628fee14ad"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a82ee7bb95091ffec2a8b9765962bc0e9"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#a82ee7bb95091ffec2a8b9765962bc0e9">isReadOnly</a> () const </td></tr>
<tr class="memdesc:a82ee7bb95091ffec2a8b9765962bc0e9"><td class="mdescLeft">&#160;</td><td class="mdescRight">If false, setValue can be used.  <a href="#a82ee7bb95091ffec2a8b9765962bc0e9">More...</a><br /></td></tr>
<tr class="separator:a82ee7bb95091ffec2a8b9765962bc0e9"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a7080396b6b1f34569aea4d7ac49557b7"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#a7080396b6b1f34569aea4d7ac49557b7">isSynchronizable</a> () const </td></tr>
<tr class="memdesc:a7080396b6b1f34569aea4d7ac49557b7"><td class="mdescLeft">&#160;</td><td class="mdescRight">True when this property can be synchronized with external sources.  <a href="#a7080396b6b1f34569aea4d7ac49557b7">More...</a><br /></td></tr>
<tr class="separator:a7080396b6b1f34569aea4d7ac49557b7"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a3196c15c275b01e85bd512e84773e8f8"><td class="memItemLeft" align="right" valign="top">bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#a3196c15c275b01e85bd512e84773e8f8">canNotify</a> () const </td></tr>
<tr class="memdesc:a3196c15c275b01e85bd512e84773e8f8"><td class="mdescLeft">&#160;</td><td class="mdescRight">If true, the Q_PROPERTY has a NOTIFY signal and the <a class="el" href="classStelProperty.html#ae6572c259550481cd34d6f690e214270" title="Emitted when the value of the property changed. ">changed()</a> signal can be used.  <a href="#a3196c15c275b01e85bd512e84773e8f8">More...</a><br /></td></tr>
<tr class="separator:a3196c15c275b01e85bd512e84773e8f8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aea60ff29659ffab7d09532c9f1932627"><td class="memItemLeft" align="right" valign="top">QMetaType::Type&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#aea60ff29659ffab7d09532c9f1932627">getType</a> () const </td></tr>
<tr class="memdesc:aea60ff29659ffab7d09532c9f1932627"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the data type of the <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a>.  <a href="#aea60ff29659ffab7d09532c9f1932627">More...</a><br /></td></tr>
<tr class="separator:aea60ff29659ffab7d09532c9f1932627"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a4c40829c7f346b49a07cd40cf6a63fcd"><td class="memItemLeft" align="right" valign="top">QMetaProperty&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#a4c40829c7f346b49a07cd40cf6a63fcd">getMetaProp</a> () const </td></tr>
<tr class="memdesc:a4c40829c7f346b49a07cd40cf6a63fcd"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the actual Q_PROPERTY wrapped by this instance.  <a href="#a4c40829c7f346b49a07cd40cf6a63fcd">More...</a><br /></td></tr>
<tr class="separator:a4c40829c7f346b49a07cd40cf6a63fcd"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a562a5a36517201d25be107ded9d6ed00"><td class="memItemLeft" align="right" valign="top">QObject *&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#a562a5a36517201d25be107ded9d6ed00">getTarget</a> () const </td></tr>
<tr class="memdesc:a562a5a36517201d25be107ded9d6ed00"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the object to which this property belongs.  <a href="#a562a5a36517201d25be107ded9d6ed00">More...</a><br /></td></tr>
<tr class="separator:a562a5a36517201d25be107ded9d6ed00"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="signals"></a>
Signals</h2></td></tr>
<tr class="memitem:ae6572c259550481cd34d6f690e214270"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#ae6572c259550481cd34d6f690e214270">changed</a> (const QVariant &amp;newValue)</td></tr>
<tr class="memdesc:ae6572c259550481cd34d6f690e214270"><td class="mdescLeft">&#160;</td><td class="mdescRight">Emitted when the value of the property changed.  <a href="#ae6572c259550481cd34d6f690e214270">More...</a><br /></td></tr>
<tr class="separator:ae6572c259550481cd34d6f690e214270"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-slots"></a>
Protected Slots</h2></td></tr>
<tr class="memitem:acc306715a056ecbc40ac824bdafb9fb1"><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classStelProperty.html#acc306715a056ecbc40ac824bdafb9fb1">propertyChanged</a> ()</td></tr>
<tr class="memdesc:acc306715a056ecbc40ac824bdafb9fb1"><td class="mdescLeft">&#160;</td><td class="mdescRight">Reacts to NOTIFY signals from the object (ignoring the optional parameter), and emits the changed signal.  <a href="#acc306715a056ecbc40ac824bdafb9fb1">More...</a><br /></td></tr>
<tr class="separator:acc306715a056ecbc40ac824bdafb9fb1"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:a3bbf0c6b937d716a0166d5b25cb21230"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a3bbf0c6b937d716a0166d5b25cb21230"></a>
&#160;</td><td class="memItemRight" valign="bottom"><b>StelProperty</b> (const QString &amp;id, QObject *target, const QMetaProperty &amp;prop)</td></tr>
<tr class="separator:a3bbf0c6b937d716a0166d5b25cb21230"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-attribs"></a>
Protected Attributes</h2></td></tr>
<tr class="memitem:a38802136957f09a9ca9df1e8d93e2993"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a38802136957f09a9ca9df1e8d93e2993"></a>
QString&#160;</td><td class="memItemRight" valign="bottom"><b>id</b></td></tr>
<tr class="separator:a38802136957f09a9ca9df1e8d93e2993"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae35ea643d19fc9e3501a522f682194d8"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="ae35ea643d19fc9e3501a522f682194d8"></a>
QObject *&#160;</td><td class="memItemRight" valign="bottom"><b>target</b></td></tr>
<tr class="separator:ae35ea643d19fc9e3501a522f682194d8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0b6edcf9db1530078ad83a7f0a91b439"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a0b6edcf9db1530078ad83a7f0a91b439"></a>
QMetaProperty&#160;</td><td class="memItemRight" valign="bottom"><b>prop</b></td></tr>
<tr class="separator:a0b6edcf9db1530078ad83a7f0a91b439"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="friends"></a>
Friends</h2></td></tr>
<tr class="memitem:a48c5fbca375fcd545a31803edd00888e"><td class="memItemLeft" align="right" valign="top"><a class="anchor" id="a48c5fbca375fcd545a31803edd00888e"></a>
class&#160;</td><td class="memItemRight" valign="bottom"><b>StelPropertyMgr</b></td></tr>
<tr class="separator:a48c5fbca375fcd545a31803edd00888e"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Wrapper around a Q_PROPERTY (see the <a href="https://doc.qt.io/qt-5/properties.html">Qt property system</a> for more information) of a specific object, which provides access to the property through a unique ID. </p>
<p>A <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> basically is a tuple of <code>&lt;QObject* target, QMetaProperty prop&gt;</code> identified by a unique string ID that allows to access the property <code>prop</code> of the <code>target</code>, without the requirement of needing information about the classes, data types and method signatures involved. The <a class="el" href="classStelPropertyMgr.html" title="Manages the registration of specific object properties with the StelProperty system. ">StelPropertyMgr</a> acts as a global registry for this information. In some ways, this is similar to how <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> worked with boolean properties - but with arbitrary data.</p>
<p>The use of this class allows easy access to non-boolean Stellarium settings for GUI data-binding (see <a class="el" href="classStelDialog.html" title="Base class for all the GUI windows in Stellarium. ">StelDialog</a> for binding functions) and enables external interfaces, such scripting or the <a class="el" href="group__remoteControl.html">Remote Control Plug-in</a> plugin to access and change the property dynamically. The main differences to <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> are:</p><ul>
<li>The most important difference is that <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> is primarily intended for user actions through keyboard shortcuts and/or GUI buttons. <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> is not intended to be directly used/configurable by users, but rather as a development tool, to easily access and modify the configurable options of all <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> objects.</li>
<li><a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> always requires a Q_PROPERTY while <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> can also work directly with argumentless or boolean slots (i.e. func(), func(bool))</li>
<li><a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> actually registers and uses a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> internally, if possible. This is the case when connected to a bool Q_PROPERTY instead of a slot. The created <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> has the same ID as the <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a>.</li>
<li><a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> uses the NOTIFY handler to find out when the value changes, even if the change originated outside in non-StelProperty code by calling the WRITE slot directly. <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> (if not using a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a>, as explained in the previous point) has to track boolean states on its own, so there may be a mismatch between the state as <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> sees it and the real state in some cases</li>
</ul>
<p>To register a new <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a>, use the <a class="el" href="classStelPropertyMgr.html" title="Manages the registration of specific object properties with the StelProperty system. ">StelPropertyMgr</a>, which can be retrieved using <a class="el" href="classStelApp.html#a59611054345c792ef899f909784cab64" title="Return the property manager. ">StelApp::getStelPropertyManager()</a>. By default, if you are using a <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> (and it is registered with the <a class="el" href="classStelModuleMgr.html" title="Manage a collection of StelModules including both core and plugin modules. ">StelModuleMgr</a>), <em>all</em> the properties of your object are automatically exposed through <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> instances, so in most cases you don't need to do <em>anything</em> more than define your Q_PROPERTY correctly.</p>
<p>To register all properties of a QObject automatically, you can use <a class="el" href="classStelPropertyMgr.html#ad6e0b60a82e53496a50a075d38040de2" title="Registers all Q_PROPERTY definitions on this object as StelProperty. ">StelPropertyMgr::registerObject</a>, which generates a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> with an ID in the format <code>&lt;objectName&gt;.&lt;propertyName&gt;</code> for all Q_PROPERTY definitions on the class. Single properties can be registered with <a class="el" href="classStelPropertyMgr.html#a6aed31781070568fdee529d2ff19d02c" title="Manually register a new StelProperty. ">StelPropertyMgr::registerProperty</a>.</p>
<p>The linked Q_PROPERTY must be valid, that is it has to have at least the READ function and/or a MEMBER definition. Furthermore, it is highly recommended to have the NOTIFY signal correctly implemented, so that interested objects can be notified as soon as the property changes. If a property has the WRITE function (or is defined as MEMBER), its value can be set through this class. For optimal results, when changing the property (e.g. through the WRITE slot), it should be checked if the value really has changed before emitting the NOTIFY signal to prevent unnecessary processing. <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> supports all data types that work with Q_PROPERTY and QVariant. When using custom types, Q_DECLARE_METATYPE and/or qRegisterMetaType() may be needed. If custom data types are required to be accessed from outside the program (for example through the [<a class="el" href="remoteControlDoc.html">Remote Control Plug-in documentation</a>](<a class="el" href="classRemoteControl.html" title="Main class of the RemoteControl plug-in, implementing the StelModule interface. ">RemoteControl</a> plugin) ), some further work may be required to serialize/deserialize them, but all standard data types (<code>bool</code>, <code>int</code>, <code>double</code>, <code>QString</code> ...) work seamlessly out of the box.</p>
<p>Each <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> is identified by an unique QString ID. Properties registered by <a class="el" href="classStelPropertyMgr.html#ad6e0b60a82e53496a50a075d38040de2" title="Registers all Q_PROPERTY definitions on this object as StelProperty. ">StelPropertyMgr::registerObject</a>, which includes all <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> instances registered with the <a class="el" href="classStelModuleMgr.html" title="Manage a collection of StelModules including both core and plugin modules. ">StelModuleMgr</a>, are identified with an ID in the format <code>&lt;objectName&gt;.&lt;propertyName&gt;</code>.</p>
<p>A full example how to define a Q_PROPERTY, using a <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a>: </p><div class="fragment"><div class="line"><span class="keyword">class </span>MyCustomModule : <span class="keyword">public</span> <a class="code" href="classStelModule.html">StelModule</a></div><div class="line">{</div><div class="line">    Q_OBJECT</div><div class="line">    Q_PROPERTY(<span class="keywordtype">int</span> awesomeProperty READ getAwesomeProperty WRITE setAwesomeProperty NOTIFY awesomePropertyChanged)</div><div class="line"></div><div class="line"><span class="keyword">public</span>:</div><div class="line">    MyCustomModule()</div><div class="line">    {</div><div class="line">        <span class="comment">//this is not even required for a StelModule</span></div><div class="line">        <span class="comment">//because the base class constructor sets the object name to the class name</span></div><div class="line">        <span class="comment">//using QMetaObject runtime information</span></div><div class="line">        setObjectName(<span class="stringliteral">&quot;MyCustomModule&quot;</span>);</div><div class="line">    }</div><div class="line">    ...</div><div class="line">    <span class="keywordtype">void</span> init() Q_DECL_OVERRIDE</div><div class="line">    {</div><div class="line">        ...</div><div class="line">        <span class="comment">// to manually register the property as a StelProperty, this could be used,</span></div><div class="line">        <span class="comment">// but it is not even required (nor recommended!) because we are in a StelModule!</span></div><div class="line">        <span class="comment">//registerProperty(&quot;my_arbitrary_ID_for_MyCustomModule_awesomeProperty&quot;, &quot;awesomeProperty&quot;);</span></div><div class="line">        ...</div><div class="line">    }</div><div class="line"></div><div class="line">    <span class="keywordtype">void</span> printProperty()</div><div class="line">    {</div><div class="line">        qDebug()&lt;&lt;prop;</div><div class="line">    }</div><div class="line"><span class="keyword">public</span> slots:</div><div class="line">    <span class="comment">//Returns the current awesomeProperty value</span></div><div class="line">    <span class="keywordtype">int</span> getAwesomeProperty()<span class="keyword"> const </span>{ <span class="keywordflow">return</span> prop; }</div><div class="line"></div><div class="line">    <span class="comment">//Sets the awesomeProperty</span></div><div class="line">    <span class="comment">//Don&#39;t forget to emit the NOTIFY signal if the value actually changed!</span></div><div class="line">    <span class="keywordtype">void</span> setAwesomeProperty(<span class="keywordtype">int</span> val) { <span class="keywordflow">if</span>(val!=prop) { prop = val; emit awesomePropertyChanged(val); } }</div><div class="line">signals:</div><div class="line">    <span class="keywordtype">void</span> awesomePropertyChanged(<span class="keywordtype">int</span> newVal);</div><div class="line"><span class="keyword">private</span>:</div><div class="line">    <span class="keywordtype">int</span> prop;</div><div class="line">};</div></div><!-- fragment --><p>After registration, the property can then be used from arbitrary other code, like so: </p><div class="fragment"><div class="line"><a class="code" href="classStelProperty.html">StelProperty</a>* prop = <a class="code" href="classStelApp.html#a1737cdc7266e4ecc8f2f259048e6f1b6">StelApp::getInstance</a>().<a class="code" href="classStelApp.html#a59611054345c792ef899f909784cab64">getStelPropertyManager</a>()-&gt;<a class="code" href="classStelPropertyMgr.html#a335ca1d5550630f9150ca80aa438e83e">getProperty</a>(<span class="stringliteral">&quot;MyCustomModule.awesomeProperty&quot;</span>);</div><div class="line">prop-&gt;<a class="code" href="classStelProperty.html#a8377542d34852890d91e10628fee14ad">setValue</a>(123);  <span class="comment">//this performs data type conversion if necessary, using QVariant</span></div><div class="line"></div><div class="line"><span class="comment">//alternatively, use this to skip having to get the StelProperty instance:</span></div><div class="line"><span class="comment">//StelApp::getInstance().getStelPropertyManager()-&gt;setStelPropertyValue(&quot;MyCustomModule.awesomeProperty&quot;, 123);</span></div><div class="line"></div><div class="line"><span class="comment">//to see the effect</span></div><div class="line">MyCustomModule *module = GETSTELMODULE(MyCustomModule);</div><div class="line">module-&gt;printProperty(); <span class="comment">//prints 123</span></div></div><!-- fragment --><p>The <a class="el" href="classStelProperty.html#ae6572c259550481cd34d6f690e214270" title="Emitted when the value of the property changed. ">changed()</a> signal can be used to detect whenever the property changes. To connect the <a class="el" href="classStelProperty.html#ae6572c259550481cd34d6f690e214270" title="Emitted when the value of the property changed. ">changed()</a> signal to slots which expect a specific type instead of a QVariant, a <a class="el" href="classStelPropertyProxy.html" title="Abstract base class for a StelProperty proxy implementation, which allow reacting to the StelProperty...">StelPropertyProxy</a> implementation can be used. This file defines <a class="el" href="classStelPropertyIntProxy.html" title="A StelPropertyProxy for int-based properties. ">StelPropertyIntProxy</a>, <a class="el" href="classStelPropertyBoolProxy.html" title="A StelPropertyProxy for bool-based properties. ">StelPropertyBoolProxy</a> and <a class="el" href="classStelPropertyDoubleProxy.html" title="A StelPropertyProxy for double-based properties. ">StelPropertyDoubleProxy</a>, which use QVariant-based type conversion if necessary.</p>
<p>Of course, the whole <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> system does not prevent you from directly using/connecting the properties' signals and slots, which is still recommended if you don't need two-way data binding (for example only reading the current value) because of a lower overhead. Other connections using a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> will work seamlessly.</p>
<p><a class="el" href="classStelDialog.html" title="Base class for all the GUI windows in Stellarium. ">StelDialog</a> supports helper methods for two-way binding using common Qt Widgets and datatypes.</p>
<dl class="section note"><dt>Note</dt><dd>Good candidates for a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> are properties that do not change too often. This includes most settings configurable through the GUI. Bad examples are properties which potentially change very often (e.g. each frame), such as the current view vector, field of view etc. They may cause considerable overhead if used, and therefore should be avoided. </dd></dl>
<dl class="section see"><dt>See also</dt><dd><a class="el" href="classStelPropertyMgr.html" title="Manages the registration of specific object properties with the StelProperty system. ">StelPropertyMgr</a>, <a class="el" href="classStelDialog.html" title="Base class for all the GUI windows in Stellarium. ">StelDialog</a>, <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> </dd></dl>

<p>Definition at line <a class="el" href="StelPropertyMgr_8hpp_source.html#l00206">206</a> of file <a class="el" href="StelPropertyMgr_8hpp_source.html">StelPropertyMgr.hpp</a>.</p>
</div><h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="a3196c15c275b01e85bd512e84773e8f8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StelProperty::canNotify </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If true, the Q_PROPERTY has a NOTIFY signal and the <a class="el" href="classStelProperty.html#ae6572c259550481cd34d6f690e214270" title="Emitted when the value of the property changed. ">changed()</a> signal can be used. </p>

</div>
</div>
<a class="anchor" id="ae6572c259550481cd34d6f690e214270"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StelProperty::changed </td>
          <td>(</td>
          <td class="paramtype">const QVariant &amp;&#160;</td>
          <td class="paramname"><em>newValue</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">signal</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Emitted when the value of the property changed. </p>

</div>
</div>
<a class="anchor" id="a8175a445382bbca146943d5314d7594d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString StelProperty::getId </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the unique ID which is used to identify this property. </p>

<p>Definition at line <a class="el" href="StelPropertyMgr_8hpp_source.html#l00213">213</a> of file <a class="el" href="StelPropertyMgr_8hpp_source.html">StelPropertyMgr.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a4c40829c7f346b49a07cd40cf6a63fcd"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMetaProperty StelProperty::getMetaProp </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the actual Q_PROPERTY wrapped by this instance. </p>

<p>Definition at line <a class="el" href="StelPropertyMgr_8hpp_source.html#l00240">240</a> of file <a class="el" href="StelPropertyMgr_8hpp_source.html">StelPropertyMgr.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a562a5a36517201d25be107ded9d6ed00"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QObject* StelProperty::getTarget </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the object to which this property belongs. </p>

<p>Definition at line <a class="el" href="StelPropertyMgr_8hpp_source.html#l00243">243</a> of file <a class="el" href="StelPropertyMgr_8hpp_source.html">StelPropertyMgr.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="aea60ff29659ffab7d09532c9f1932627"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QMetaType::Type StelProperty::getType </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the data type of the <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a>. </p>

</div>
</div>
<a class="anchor" id="ae103c4cde3b3acea1fee630365f78ea4"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QVariant StelProperty::getValue </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the current value of this property as a QVariant. </p>

</div>
</div>
<a class="anchor" id="a82ee7bb95091ffec2a8b9765962bc0e9"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StelProperty::isReadOnly </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>If false, setValue can be used. </p>

</div>
</div>
<a class="anchor" id="a7080396b6b1f34569aea4d7ac49557b7"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StelProperty::isSynchronizable </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>True when this property can be synchronized with external sources. </p>
<p>This is the case when it is writable, and it is marked as <code>STORED</code> true (default). </p>

</div>
</div>
<a class="anchor" id="acc306715a056ecbc40ac824bdafb9fb1"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">void StelProperty::propertyChanged </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Reacts to NOTIFY signals from the object (ignoring the optional parameter), and emits the changed signal. </p>

</div>
</div>
<a class="anchor" id="a8377542d34852890d91e10628fee14ad"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">bool StelProperty::setValue </td>
          <td>(</td>
          <td class="paramtype">const QVariant &amp;&#160;</td>
          <td class="paramname"><em>value</em></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">slot</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Sets the value of the property. </p>
<p>This can only be used if isReadOnly is false, meaning a WRITE function is defined on the Q_PROPERTY. Data type conversion is performed, if necessary, using the internal logic of QVariant. This basically means that QVariant::canConvert() from the given value to the actual data type of the Q_PROPERTY must be true for the operation to succeed. </p><dl class="section return"><dt>Returns</dt><dd>true if the new value was successfully set </dd></dl>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/aw/devel/stellarium/0.16/src/core/<a class="el" href="StelPropertyMgr_8hpp_source.html">StelPropertyMgr.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Fri Sep 22 2017 20:18:46 for Stellarium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
