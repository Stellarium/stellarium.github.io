<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Stellarium: AbstractAPIService Class Reference</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stellarium-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Stellarium 0.15.2</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.11 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="modules.html"><span>Modules</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li class="current"><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="codingStyle.html"><span>Coding&#160;Style</span></a></li>
      <li><a href="scripting.html"><span>Scripting</span></a></li>
      <li><a href="plugins.html"><span>Plugins</span></a></li>
      <li><a href="fileStructure.html"><span>File&#160;Structure</span></a></li>
      <li><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="annotated.html"><span>Class&#160;List</span></a></li>
      <li><a href="classes.html"><span>Class&#160;Index</span></a></li>
      <li><a href="inherits.html"><span>Class&#160;Hierarchy</span></a></li>
      <li><a href="functions.html"><span>Class&#160;Members</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="summary">
<a href="classAbstractAPIService-members.html">List of all members</a> &#124;
<a href="#pub-methods">Public Member Functions</a> &#124;
<a href="#pro-methods">Protected Member Functions</a> &#124;
<a href="#pro-static-attribs">Static Protected Attributes</a>  </div>
  <div class="headertitle">
<div class="title">AbstractAPIService Class Reference<div class="ingroups"><a class="el" href="group__remoteControl.html">Remote Control Plug-in</a></div></div>  </div>
</div><!--header-->
<div class="contents">

<p>Abstract base class for all <a class="el" href="group__remoteControl.html">Remote Control Plug-in</a> service implementations.  
 <a href="classAbstractAPIService.html#details">More...</a></p>

<p><code>#include &lt;<a class="el" href="AbstractAPIService_8hpp_source.html">AbstractAPIService.hpp</a>&gt;</code></p>
<div id="dynsection-0" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-0-trigger" src="closed.png" alt="+"/> Inheritance diagram for AbstractAPIService:</div>
<div id="dynsection-0-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-0-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classAbstractAPIService__inherit__graph.png" border="0" usemap="#AbstractAPIService_inherit__map" alt="Inheritance graph"/></div>
<map name="AbstractAPIService_inherit__map" id="AbstractAPIService_inherit__map">
<area shape="rect" id="node3" href="classLocationSearchService.html" title="Provides predefined location search functionality, using the StelLocationMgr. " alt="" coords="309,5,467,32"/>
<area shape="rect" id="node4" href="classLocationService.html" title="Provides methods to look up location&#45;related information, and change the current location. " alt="" coords="330,56,446,83"/>
<area shape="rect" id="node5" href="classMainService.html" title="Implements the main API services, including the status operation which can be repeatedly polled to fi..." alt="" coords="341,107,435,133"/>
<area shape="rect" id="node6" href="classObjectService.html" title="Provides operations to look up objects in the Stellarium catalogs. " alt="" coords="336,157,440,184"/>
<area shape="rect" id="node7" href="classScriptService.html" title="Contains services related to script execution. " alt="" coords="338,208,438,235"/>
<area shape="rect" id="node8" href="classSimbadService.html" title="Allows SIMBAD object lookups like SearchDialog uses. " alt="" coords="333,259,443,285"/>
<area shape="rect" id="node9" href="classStelActionService.html" title="Provides services related to StelAction. " alt="" coords="325,309,451,336"/>
<area shape="rect" id="node10" href="classStelPropertyService.html" title="Provides services related to StelProperty. " alt="" coords="319,360,457,387"/>
<area shape="rect" id="node11" href="classViewService.html" title="Provides services related to the view (landscape, sky culture, projection). " alt="" coords="341,411,435,437"/>
</map>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<div id="dynsection-1" onclick="return toggleVisibility(this)" class="dynheader closed" style="cursor:pointer;">
  <img id="dynsection-1-trigger" src="closed.png" alt="+"/> Collaboration diagram for AbstractAPIService:</div>
<div id="dynsection-1-summary" class="dynsummary" style="display:block;">
</div>
<div id="dynsection-1-content" class="dyncontent" style="display:none;">
<div class="center"><img src="classAbstractAPIService__coll__graph.png" border="0" usemap="#AbstractAPIService_coll__map" alt="Collaboration graph"/></div>
<center><span class="legend">[<a href="graph_legend.html">legend</a>]</span></center></div>
<table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pub-methods"></a>
Public Member Functions</h2></td></tr>
<tr class="memitem:a3496aaf4f19cb41fef6fcd830555d1e8"><td class="memItemLeft" align="right" valign="top">&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#a3496aaf4f19cb41fef6fcd830555d1e8">AbstractAPIService</a> (const QByteArray &amp;<a class="el" href="classAbstractAPIService.html#a0e5cf0477a756219f655e2633accf7be">serviceName</a>, QObject *parent=0)</td></tr>
<tr class="memdesc:a3496aaf4f19cb41fef6fcd830555d1e8"><td class="mdescLeft">&#160;</td><td class="mdescRight">Abstract constructor. The service name is used by the <a class="el" href="classAPIController.html" title="This class handles the API-specific requests and dispatches them to the correct AbstractAPISerice imp...">APIController</a> for request path mapping.  <a href="#a3496aaf4f19cb41fef6fcd830555d1e8">More...</a><br /></td></tr>
<tr class="separator:a3496aaf4f19cb41fef6fcd830555d1e8"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a0e5cf0477a756219f655e2633accf7be"><td class="memItemLeft" align="right" valign="top">QByteArray&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#a0e5cf0477a756219f655e2633accf7be">serviceName</a> ()</td></tr>
<tr class="memdesc:a0e5cf0477a756219f655e2633accf7be"><td class="mdescLeft">&#160;</td><td class="mdescRight">Returns the service name, used for request path mapping by the <a class="el" href="classAPIController.html" title="This class handles the API-specific requests and dispatches them to the correct AbstractAPISerice imp...">APIController</a>.  <a href="#a0e5cf0477a756219f655e2633accf7be">More...</a><br /></td></tr>
<tr class="separator:a0e5cf0477a756219f655e2633accf7be"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a5875de91e3e2e1a72ebc216cc9e90c57"><td class="memItemLeft" align="right" valign="top">virtual bool&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#a5875de91e3e2e1a72ebc216cc9e90c57">supportsThreadedOperation</a> () const </td></tr>
<tr class="memdesc:a5875de91e3e2e1a72ebc216cc9e90c57"><td class="mdescLeft">&#160;</td><td class="mdescRight">Return true if the service can safely be run in the HTTP handler thread, instead of having to queue it into the Stellarium main thread.  <a href="#a5875de91e3e2e1a72ebc216cc9e90c57">More...</a><br /></td></tr>
<tr class="separator:a5875de91e3e2e1a72ebc216cc9e90c57"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a284d8a0907cb9cf8dc41d4dc01b8966e"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#a284d8a0907cb9cf8dc41d4dc01b8966e">update</a> (double deltaTime)</td></tr>
<tr class="memdesc:a284d8a0907cb9cf8dc41d4dc01b8966e"><td class="mdescLeft">&#160;</td><td class="mdescRight">Called in the main thread each frame.  <a href="#a284d8a0907cb9cf8dc41d4dc01b8966e">More...</a><br /></td></tr>
<tr class="separator:a284d8a0907cb9cf8dc41d4dc01b8966e"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ae83e0df84fa97c6e247680defc761765"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE <a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#ae83e0df84fa97c6e247680defc761765">get</a> (const QByteArray &amp;operation, const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;parameters)</td></tr>
<tr class="memdesc:ae83e0df84fa97c6e247680defc761765"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around <a class="el" href="classAbstractAPIService.html#adf170a37adb7fd635475ace1d084550b" title="Subclasses should implement this to define reactions to HTTP GET requests. ">getImpl()</a>, constructs an <a class="el" href="structAPIServiceResponse.html" title="Thread-safe version of HttpResponse that can be passed around through QMetaObject::invokeMethod. ">APIServiceResponse</a> object for the response and passes it on.  <a href="#ae83e0df84fa97c6e247680defc761765">More...</a><br /></td></tr>
<tr class="separator:ae83e0df84fa97c6e247680defc761765"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:a9404ad6f3d82a2039a4b7d2f999be636"><td class="memItemLeft" align="right" valign="top">Q_INVOKABLE <a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a>&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#a9404ad6f3d82a2039a4b7d2f999be636">post</a> (const QByteArray &amp;operation, const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;parameters, const QByteArray &amp;data)</td></tr>
<tr class="memdesc:a9404ad6f3d82a2039a4b7d2f999be636"><td class="mdescLeft">&#160;</td><td class="mdescRight">Wrapper around <a class="el" href="classAbstractAPIService.html#ac50f10b152d5a45792737e2e98a88e8d" title="Subclasses should implement this to define reactions to HTTP POST requests. ">postImpl()</a>, constructs an <a class="el" href="structAPIServiceResponse.html" title="Thread-safe version of HttpResponse that can be passed around through QMetaObject::invokeMethod. ">APIServiceResponse</a> object for the response and passes it on.  <a href="#a9404ad6f3d82a2039a4b7d2f999be636">More...</a><br /></td></tr>
<tr class="separator:a9404ad6f3d82a2039a4b7d2f999be636"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-methods"></a>
Protected Member Functions</h2></td></tr>
<tr class="memitem:adf170a37adb7fd635475ace1d084550b"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#adf170a37adb7fd635475ace1d084550b">getImpl</a> (const QByteArray &amp;operation, const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;parameters, <a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a> &amp;response)</td></tr>
<tr class="memdesc:adf170a37adb7fd635475ace1d084550b"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclasses should implement this to define reactions to HTTP GET requests.  <a href="#adf170a37adb7fd635475ace1d084550b">More...</a><br /></td></tr>
<tr class="separator:adf170a37adb7fd635475ace1d084550b"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:ac50f10b152d5a45792737e2e98a88e8d"><td class="memItemLeft" align="right" valign="top">virtual void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#ac50f10b152d5a45792737e2e98a88e8d">postImpl</a> (const QByteArray &amp;operation, const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;parameters, const QByteArray &amp;data, <a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a> &amp;response)</td></tr>
<tr class="memdesc:ac50f10b152d5a45792737e2e98a88e8d"><td class="mdescLeft">&#160;</td><td class="mdescRight">Subclasses should implement this to define reactions to HTTP POST requests.  <a href="#ac50f10b152d5a45792737e2e98a88e8d">More...</a><br /></td></tr>
<tr class="separator:ac50f10b152d5a45792737e2e98a88e8d"><td class="memSeparator" colspan="2">&#160;</td></tr>
<tr class="memitem:aa487e5052af460e038be573ebf474e45"><td class="memItemLeft" align="right" valign="top">QString&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#aa487e5052af460e038be573ebf474e45">wrapHtml</a> (QString &amp;text, const QString &amp;title) const </td></tr>
<tr class="memdesc:aa487e5052af460e038be573ebf474e45"><td class="mdescLeft">&#160;</td><td class="mdescRight">Because the HTML descriptions in Stellarium are often not compatible with "clean" HTML5 which is used for the main interface, this method can be used to explicitely set the doctype to 4.01 transitional for better results, and include the stylesheet <code>iframestyle.css</code>.  <a href="#aa487e5052af460e038be573ebf474e45">More...</a><br /></td></tr>
<tr class="separator:aa487e5052af460e038be573ebf474e45"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table><table class="memberdecls">
<tr class="heading"><td colspan="2"><h2 class="groupheader"><a name="pro-static-attribs"></a>
Static Protected Attributes</h2></td></tr>
<tr class="memitem:a8cd221e3f8fabf5e3b73fea524a02e85"><td class="memItemLeft" align="right" valign="top">static const Qt::ConnectionType&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="classAbstractAPIService.html#a8cd221e3f8fabf5e3b73fea524a02e85">SERVICE_DEFAULT_INVOKETYPE</a></td></tr>
<tr class="memdesc:a8cd221e3f8fabf5e3b73fea524a02e85"><td class="mdescLeft">&#160;</td><td class="mdescRight">This defines the connection type QMetaObject::invokeMethod has to use inside a service: either Qt::DirectConnection for main thread handling, or Qt::BlockingQueuedConnection for HTTP thread handling.  <a href="#a8cd221e3f8fabf5e3b73fea524a02e85">More...</a><br /></td></tr>
<tr class="separator:a8cd221e3f8fabf5e3b73fea524a02e85"><td class="memSeparator" colspan="2">&#160;</td></tr>
</table>
<a name="details" id="details"></a><h2 class="groupheader">Detailed Description</h2>
<div class="textblock"><p>Abstract base class for all <a class="el" href="group__remoteControl.html">Remote Control Plug-in</a> service implementations. </p>
<p>Different implementations of this class are mapped to different HTTP request paths. For each API request, the <a class="el" href="classAPIController.html" title="This class handles the API-specific requests and dispatches them to the correct AbstractAPISerice imp...">APIController</a> finds out which service to use, and calls its <a class="el" href="classAbstractAPIService.html#ae83e0df84fa97c6e247680defc761765" title="Wrapper around getImpl(), constructs an APIServiceResponse object for the response and passes it on...">get()</a> or <a class="el" href="classAbstractAPIService.html#a9404ad6f3d82a2039a4b7d2f999be636" title="Wrapper around postImpl(), constructs an APIServiceResponse object for the response and passes it on...">post()</a> method. </p>

<p>Definition at line <a class="el" href="AbstractAPIService_8hpp_source.html#l00089">89</a> of file <a class="el" href="AbstractAPIService_8hpp_source.html">AbstractAPIService.hpp</a>.</p>
</div><h2 class="groupheader">Constructor &amp; Destructor Documentation</h2>
<a class="anchor" id="a3496aaf4f19cb41fef6fcd830555d1e8"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">AbstractAPIService::AbstractAPIService </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>serviceName</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">QObject *&#160;</td>
          <td class="paramname"><em>parent</em> = <code>0</code>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Abstract constructor. The service name is used by the <a class="el" href="classAPIController.html" title="This class handles the API-specific requests and dispatches them to the correct AbstractAPISerice imp...">APIController</a> for request path mapping. </p>

<p>Definition at line <a class="el" href="AbstractAPIService_8hpp_source.html#l00094">94</a> of file <a class="el" href="AbstractAPIService_8hpp_source.html">AbstractAPIService.hpp</a>.</p>

</div>
</div>
<h2 class="groupheader">Member Function Documentation</h2>
<a class="anchor" id="ae83e0df84fa97c6e247680defc761765"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Q_INVOKABLE <a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a> AbstractAPIService::get </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around <a class="el" href="classAbstractAPIService.html#adf170a37adb7fd635475ace1d084550b" title="Subclasses should implement this to define reactions to HTTP GET requests. ">getImpl()</a>, constructs an <a class="el" href="structAPIServiceResponse.html" title="Thread-safe version of HttpResponse that can be passed around through QMetaObject::invokeMethod. ">APIServiceResponse</a> object for the response and passes it on. </p>
<dl class="section note"><dt>Note</dt><dd>The thread this is called in depends on the supportThreadedOperation() return value </dd></dl>

</div>
</div>
<a class="anchor" id="adf170a37adb7fd635475ace1d084550b"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void AbstractAPIService::getImpl </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a> &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subclasses should implement this to define reactions to HTTP GET requests. </p>
<p>GET requests generally should only query data or program state, and not change it. If there is an error with the request, use <a class="el" href="structAPIServiceResponse.html#a5c2cf35adde3ca7aada8b33585c3e5c8" title="Sets the HTTP status to 400, and sets the response data to the message. ">APIServiceResponse::writeRequestError</a> to notify the client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operation</td><td>The operation string of the request (i.e. the part of the request URL after the service name, without parameters) </td></tr>
    <tr><td class="paramname">parameters</td><td>The extracted service parameters (extracted from the URL) </td></tr>
    <tr><td class="paramname">response</td><td>The response object, write your response into this </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The thread this is called in depends on the supportThreadedOperation() return value </dd></dl>

<p>Reimplemented in <a class="el" href="classMainService.html#aa2f6a0f6bfcbba593dcce8b5a7933a53">MainService</a>, <a class="el" href="classLocationSearchService.html#a01d9e7e1d6e7312997ede30e0f446be5">LocationSearchService</a>, <a class="el" href="classObjectService.html#aadd577676ce1e5cc035ec8af769fdc0b">ObjectService</a>, <a class="el" href="classSimbadService.html#ac76ddbeb3e1893b0c10834cb5c9b64ab">SimbadService</a>, <a class="el" href="classLocationService.html#a7e7e64185315f3763e465b124aa2ed72">LocationService</a>, <a class="el" href="classStelActionService.html#acb19a09510540d9fd78de5d76262bc42">StelActionService</a>, <a class="el" href="classViewService.html#af7379f2b6769cd29fa3f9badb28c1ef8">ViewService</a>, <a class="el" href="classScriptService.html#ae9e255c05936bce3386c207b6d426201">ScriptService</a>, and <a class="el" href="classStelPropertyService.html#a6fa02df62d55c99ab0646be02593fea5">StelPropertyService</a>.</p>

</div>
</div>
<a class="anchor" id="a9404ad6f3d82a2039a4b7d2f999be636"></a>
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">Q_INVOKABLE <a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a> AbstractAPIService::post </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>data</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div><div class="memdoc">

<p>Wrapper around <a class="el" href="classAbstractAPIService.html#ac50f10b152d5a45792737e2e98a88e8d" title="Subclasses should implement this to define reactions to HTTP POST requests. ">postImpl()</a>, constructs an <a class="el" href="structAPIServiceResponse.html" title="Thread-safe version of HttpResponse that can be passed around through QMetaObject::invokeMethod. ">APIServiceResponse</a> object for the response and passes it on. </p>
<dl class="section note"><dt>Note</dt><dd>The thread this is called in depends on the supportThreadedOperation() return value </dd></dl>

</div>
</div>
<a class="anchor" id="ac50f10b152d5a45792737e2e98a88e8d"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void AbstractAPIService::postImpl </td>
          <td>(</td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>operation</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const <a class="el" href="group__remoteControl.html#ga82462a2b65be3d614a81eae20f53cf6b">APIParameters</a> &amp;&#160;</td>
          <td class="paramname"><em>parameters</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QByteArray &amp;&#160;</td>
          <td class="paramname"><em>data</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype"><a class="el" href="structAPIServiceResponse.html">APIServiceResponse</a> &amp;&#160;</td>
          <td class="paramname"><em>response</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Subclasses should implement this to define reactions to HTTP POST requests. </p>
<p>POST requests generally should change data or perform some action. If there is an error with the request, use <a class="el" href="structAPIServiceResponse.html#a5c2cf35adde3ca7aada8b33585c3e5c8" title="Sets the HTTP status to 400, and sets the response data to the message. ">APIServiceResponse::writeRequestError</a> to notify the client. </p><dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">operation</td><td>The operation string of the request (i.e. the part of the request URL after the service name, without parameters) </td></tr>
    <tr><td class="paramname">parameters</td><td>The extracted service parameters (extracted from the URL, and form data, if applicable) </td></tr>
    <tr><td class="paramname">data</td><td>The unmodified data as sent from the client </td></tr>
    <tr><td class="paramname">response</td><td>The response object, write your response into this </td></tr>
  </table>
  </dd>
</dl>
<dl class="section note"><dt>Note</dt><dd>The thread this is called in depends on the supportThreadedOperation() return value </dd></dl>

<p>Reimplemented in <a class="el" href="classMainService.html#af22e74811f9553852ff59b55758ff51e">MainService</a>, <a class="el" href="classLocationService.html#a4228eb3161b16218a082fa5fa4b0f7d9">LocationService</a>, <a class="el" href="classStelActionService.html#a7807fba5247a6f513cf62eef2b4234d4">StelActionService</a>, <a class="el" href="classScriptService.html#aed2c455b7073ae88b0eed3d1d61851d9">ScriptService</a>, and <a class="el" href="classStelPropertyService.html#aec028e3aade2028b140e02a78c672f18">StelPropertyService</a>.</p>

</div>
</div>
<a class="anchor" id="a0e5cf0477a756219f655e2633accf7be"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QByteArray AbstractAPIService::serviceName </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">inline</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Returns the service name, used for request path mapping by the <a class="el" href="classAPIController.html" title="This class handles the API-specific requests and dispatches them to the correct AbstractAPISerice imp...">APIController</a>. </p>

<p>Definition at line <a class="el" href="AbstractAPIService_8hpp_source.html#l00102">102</a> of file <a class="el" href="AbstractAPIService_8hpp_source.html">AbstractAPIService.hpp</a>.</p>

</div>
</div>
<a class="anchor" id="a5875de91e3e2e1a72ebc216cc9e90c57"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual bool AbstractAPIService::supportsThreadedOperation </td>
          <td>(</td>
          <td class="paramname"></td><td>)</td>
          <td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Return true if the service can safely be run in the HTTP handler thread, instead of having to queue it into the Stellarium main thread. </p>
<p>Default implementation returns false, i.e. no special threading precautions have to be used in the <a class="el" href="classAbstractAPIService.html#ae83e0df84fa97c6e247680defc761765" title="Wrapper around getImpl(), constructs an APIServiceResponse object for the response and passes it on...">get()</a> and <a class="el" href="classAbstractAPIService.html#a9404ad6f3d82a2039a4b7d2f999be636" title="Wrapper around postImpl(), constructs an APIServiceResponse object for the response and passes it on...">post()</a> implementation. </p><dl class="section warning"><dt>Warning</dt><dd>If the macro <code>FORCE_THREADED_SERVICES</code> is set, all services will be run in the HTTP threads for testing, and this method will be ignored. </dd></dl>

<p>Reimplemented in <a class="el" href="classLocationSearchService.html#a0a6156df2de6d70c95790b51a7cb2716">LocationSearchService</a>, and <a class="el" href="classSimbadService.html#a941100eb393f5f7bbcf98c4af9b1b4aa">SimbadService</a>.</p>

</div>
</div>
<a class="anchor" id="a284d8a0907cb9cf8dc41d4dc01b8966e"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">virtual void AbstractAPIService::update </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>deltaTime</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">virtual</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Called in the main thread each frame. </p>
<p>Default implementation does nothing. Can be used for ongoing actions, for example movement control. </p>

<p>Reimplemented in <a class="el" href="classMainService.html#a30de16fc1f53d44ca1fb4122e9928e70">MainService</a>.</p>

</div>
</div>
<a class="anchor" id="aa487e5052af460e038be573ebf474e45"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">QString AbstractAPIService::wrapHtml </td>
          <td>(</td>
          <td class="paramtype">QString &amp;&#160;</td>
          <td class="paramname"><em>text</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">const QString &amp;&#160;</td>
          <td class="paramname"><em>title</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td> const</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>Because the HTML descriptions in Stellarium are often not compatible with "clean" HTML5 which is used for the main interface, this method can be used to explicitely set the doctype to 4.01 transitional for better results, and include the stylesheet <code>iframestyle.css</code>. </p>
<dl class="params"><dt>Parameters</dt><dd>
  <table class="params">
    <tr><td class="paramname">text</td><td>The text to wrap with HTML document tags </td></tr>
    <tr><td class="paramname">title</td><td>The title of the page </td></tr>
  </table>
  </dd>
</dl>

</div>
</div>
<h2 class="groupheader">Member Data Documentation</h2>
<a class="anchor" id="a8cd221e3f8fabf5e3b73fea524a02e85"></a>
<div class="memitem">
<div class="memproto">
<table class="mlabels">
  <tr>
  <td class="mlabels-left">
      <table class="memname">
        <tr>
          <td class="memname">const Qt::ConnectionType AbstractAPIService::SERVICE_DEFAULT_INVOKETYPE</td>
        </tr>
      </table>
  </td>
  <td class="mlabels-right">
<span class="mlabels"><span class="mlabel">static</span><span class="mlabel">protected</span></span>  </td>
  </tr>
</table>
</div><div class="memdoc">

<p>This defines the connection type QMetaObject::invokeMethod has to use inside a service: either Qt::DirectConnection for main thread handling, or Qt::BlockingQueuedConnection for HTTP thread handling. </p>

<p>Definition at line <a class="el" href="AbstractAPIService_8hpp_source.html#l00144">144</a> of file <a class="el" href="AbstractAPIService_8hpp_source.html">AbstractAPIService.hpp</a>.</p>

</div>
</div>
<hr/>The documentation for this class was generated from the following file:<ul>
<li>/home/aw/devel/stellarium/0.15/plugins/RemoteControl/src/<a class="el" href="AbstractAPIService_8hpp_source.html">AbstractAPIService.hpp</a></li>
</ul>
</div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Tue Mar 21 2017 14:15:15 for Stellarium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.11
</small></address>
</body>
</html>
