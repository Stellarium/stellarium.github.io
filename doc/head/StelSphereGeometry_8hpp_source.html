<?xml version="1.0" encoding="utf-8"?>
<html>
    <head>
      <title>Stellarium: core/StelSphereGeometry.hpp Source File</title>
      <LINK HREF="doxygen.css" REL="stylesheet" TYPE="text/css">
    </HEAD>
    <BODY BGCOLOR="#FFFFFF">
<table border="0" cellpadding="0" cellspacing="0" width="100%">
<tr>
<td align="left" valign="top" width="32" rowspan="2"><a href="http://www.stellarium.org"><img src="stellarium-logo.png" align="left" border="0" /></a></td>
<td width="1" rowspan="2">&nbsp;&nbsp;</td>
<td style="font-size:120%;font-weight:bolder;">Stellarium 0.12.0</td>
<td align="right" valign="top" width="230" rowspan="2"></td></tr><tr>
<td class="postheader" valign="center">
 <a href="index.html">Home</a>&nbsp;&middot;
 <a href="namespaces.html">All&nbsp;Namespaces</a>&nbsp;&middot;
 <a href="classes.html">All&nbsp;Classes</a>&nbsp;&middot;
 <a href="functions.html">Functions</a>&nbsp;&middot;
 <a href="codingStyle.html">Coding Style</a>&nbsp;&middot;
 <a href="scripting.html">Scripting</a>&nbsp;&middot;
 <a href="plugins.html">Plugins</a>&nbsp;&middot;
 <a href="renderer.html">Renderer</a>&nbsp;&middot;
 <a href="fileStructure.html">File Structure</a>
</td>
</tr>
</table>
<!-- Generated by Doxygen 1.6.3 -->
  <div class="navpath"><a class="el" href="dir_5a58d40a861609d2ce17e428756ab7dd.html">core</a>
  </div>
<div class="contents">
<h1>StelSphereGeometry.hpp</h1><a href="StelSphereGeometry_8hpp.html">Go to the documentation of this file.</a><div class="fragment"><pre class="fragment"><a name="l00001"></a>00001 <span class="comment">/*</span>
<a name="l00002"></a>00002 <span class="comment"> * Stellarium</span>
<a name="l00003"></a>00003 <span class="comment"> * Copyright (C) 2009 Fabien Chereau</span>
<a name="l00004"></a>00004 <span class="comment"> *</span>
<a name="l00005"></a>00005 <span class="comment"> * This program is free software; you can redistribute it and/or</span>
<a name="l00006"></a>00006 <span class="comment"> * modify it under the terms of the GNU General Public License</span>
<a name="l00007"></a>00007 <span class="comment"> * as published by the Free Software Foundation; either version 2</span>
<a name="l00008"></a>00008 <span class="comment"> * of the License, or (at your option) any later version.</span>
<a name="l00009"></a>00009 <span class="comment"> *</span>
<a name="l00010"></a>00010 <span class="comment"> * This program is distributed in the hope that it will be useful,</span>
<a name="l00011"></a>00011 <span class="comment"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<a name="l00012"></a>00012 <span class="comment"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</span>
<a name="l00013"></a>00013 <span class="comment"> * GNU General Public License for more details.</span>
<a name="l00014"></a>00014 <span class="comment"> *</span>
<a name="l00015"></a>00015 <span class="comment"> * You should have received a copy of the GNU General Public License</span>
<a name="l00016"></a>00016 <span class="comment"> * along with this program; if not, write to the Free Software</span>
<a name="l00017"></a>00017 <span class="comment"> * Foundation, Inc., 51 Franklin Street, Suite 500, Boston, MA  02110-1335, USA.</span>
<a name="l00018"></a>00018 <span class="comment"> */</span>
<a name="l00019"></a>00019 
<a name="l00020"></a>00020 <span class="preprocessor">#ifndef _STELSPHEREGEOMETRY_HPP_</span>
<a name="l00021"></a>00021 <span class="preprocessor"></span><span class="preprocessor">#define _STELSPHEREGEOMETRY_HPP_</span>
<a name="l00022"></a>00022 <span class="preprocessor"></span>
<a name="l00023"></a>00023 <span class="preprocessor">#include &lt;QDebug&gt;</span>
<a name="l00024"></a>00024 <span class="preprocessor">#include &lt;QSharedPointer&gt;</span>
<a name="l00025"></a>00025 <span class="preprocessor">#include &lt;QVariant&gt;</span>
<a name="l00026"></a>00026 <span class="preprocessor">#include &lt;QVarLengthArray&gt;</span>
<a name="l00027"></a>00027 <span class="preprocessor">#include &lt;QVector&gt;</span>
<a name="l00028"></a>00028 
<a name="l00029"></a>00029 <span class="preprocessor">#include &quot;OctahedronPolygon.hpp&quot;</span>
<a name="l00030"></a>00030 <span class="preprocessor">#include &quot;renderer/StelVertexBuffer.hpp&quot;</span>
<a name="l00031"></a>00031 <span class="preprocessor">#include &quot;Triplet.hpp&quot;</span>
<a name="l00032"></a>00032 <span class="preprocessor">#include &quot;VecMath.hpp&quot;</span>
<a name="l00033"></a>00033 
<a name="l00034"></a>00034 <span class="keyword">class </span><a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>;
<a name="l00035"></a>00035 <span class="keyword">class </span><a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>;
<a name="l00036"></a>00036 <span class="keyword">class </span><a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>;
<a name="l00037"></a>00037 <span class="keyword">class </span><a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>;
<a name="l00038"></a>00038 <span class="keyword">class </span><a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>;
<a name="l00039"></a>00039 <span class="keyword">class </span><a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>;
<a name="l00040"></a>00040 <span class="keyword">class </span><a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>;
<a name="l00041"></a>00041 
<a name="l00042"></a>00042 
<a name="l00045"></a>00045 
<a name="l00048"></a><a class="code" href="classSphericalRegionP.html">00048</a> <span class="keyword">class </span><a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> : <span class="keyword">public</span> <a class="code" href="classQSharedPointer.html">QSharedPointer</a>&lt;SphericalRegion&gt;
<a name="l00049"></a>00049 {
<a name="l00050"></a>00050 <span class="keyword">public</span>:
<a name="l00051"></a>00051     <span class="comment">// Override the constructors of QSharedPointer</span>
<a name="l00052"></a>00052     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>() {;}
<a name="l00053"></a>00053     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* ptr) : <a class="code" href="classQSharedPointer.html">QSharedPointer&lt;SphericalRegion&gt;</a>(ptr) {;}
<a name="l00054"></a>00054     <span class="keyword">template</span> &lt;<span class="keyword">class</span> Deleter&gt; <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* ptr, Deleter deleter) : <a class="code" href="classQSharedPointer.html">QSharedPointer&lt;SphericalRegion&gt;</a>(ptr, deleter) {;}
<a name="l00055"></a>00055     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>&amp; other) : <a class="code" href="classQSharedPointer.html">QSharedPointer&lt;SphericalRegion&gt;</a>(other) {;}
<a name="l00056"></a>00056     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">const</span> QWeakPointer&lt;SphericalRegion&gt;&amp; other) : <a class="code" href="classQSharedPointer.html">QSharedPointer&lt;SphericalRegion&gt;</a>(other) {;}
<a name="l00057"></a>00057 
<a name="l00096"></a>00096     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegionP.html#a5fe782c782a18100471d9ac22e386da4" title="Create a SphericalRegion from the given input JSON stream.">loadFromJson</a>(QIODevice* in);
<a name="l00097"></a>00097 
<a name="l00100"></a>00100     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegionP.html#a5fe782c782a18100471d9ac22e386da4" title="Create a SphericalRegion from the given input JSON stream.">loadFromJson</a>(<span class="keyword">const</span> QByteArray&amp; a);
<a name="l00101"></a>00101 
<a name="l00104"></a>00104     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegionP.html#a3b9c056f24eef0a5b2ab81a519804584" title="Create a SphericalRegion from the given QVariantMap with a format matching the JSON...">loadFromQVariant</a>(<span class="keyword">const</span> QVariantMap&amp; map);
<a name="l00105"></a>00105     <span class="comment">// It can only be a pure shape definition, without texture coords</span>
<a name="l00106"></a>00106     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegionP.html#a3b9c056f24eef0a5b2ab81a519804584" title="Create a SphericalRegion from the given QVariantMap with a format matching the JSON...">loadFromQVariant</a>(<span class="keyword">const</span> QVariantList&amp; list);
<a name="l00107"></a>00107 
<a name="l00109"></a>00109     <span class="keyword">static</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalRegionP.html#adf2daf3539e62db2094ebf86a8e0ad05" title="Method registered to JSON serializer.">serializeToJson</a>(<span class="keyword">const</span> QVariant&amp; jsonObject, QIODevice* output, <span class="keywordtype">int</span> indentLevel=0);
<a name="l00110"></a>00110 
<a name="l00112"></a><a class="code" href="classSphericalRegionP.html#a73cd9fcb17a3ebb8a46cbdb2e8deb16c">00112</a>     <span class="keyword">static</span> <span class="keywordtype">int</span> <a class="code" href="classSphericalRegionP.html#a73cd9fcb17a3ebb8a46cbdb2e8deb16c" title="The meta type ID associated to a SphericalRegionP.">metaTypeId</a>;
<a name="l00113"></a>00113 
<a name="l00114"></a>00114 <span class="keyword">private</span>:
<a name="l00115"></a>00115 
<a name="l00117"></a>00117     <span class="keyword">static</span> <span class="keywordtype">int</span> initialize();
<a name="l00118"></a>00118 };
<a name="l00119"></a>00119 
<a name="l00120"></a>00120 <span class="comment">// Allow to use SphericalRegionP with the Qt MetaType system.</span>
<a name="l00121"></a>00121 Q_DECLARE_METATYPE(<a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>);
<a name="l00122"></a>00122 
<a name="l00124"></a>00124 QDataStream&amp; <a class="code" href="StelSphereGeometry_8hpp.html#aea19e497cf280a7ace96607e9d23cb6a" title="Serialize the passed SphericalRegionP into a binary blob.">operator&lt;&lt;</a>(QDataStream&amp; out, <span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>&amp; region);
<a name="l00126"></a>00126 QDataStream&amp; <a class="code" href="StelSphereGeometry_8hpp.html#a3d4bd574b2ae9fdad8d503cb0b07d6ba" title="Load the SphericalRegionP from a binary blob.">operator&gt;&gt;</a>(QDataStream&amp; in, <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>&amp; region);
<a name="l00127"></a>00127 
<a name="l00132"></a><a class="code" href="classSphericalRegion.html">00132</a> <span class="keyword">class </span><a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>
<a name="l00133"></a>00133 {
<a name="l00134"></a>00134 <span class="keyword">public</span>:
<a name="l00136"></a><a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d">00136</a>     <span class="keyword">enum</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a>
<a name="l00137"></a>00137     {
<a name="l00138"></a>00138         Point = 0,
<a name="l00139"></a>00139         Cap = 1,
<a name="l00140"></a>00140         AllSky = 2,
<a name="l00141"></a>00141         Polygon = 3,
<a name="l00142"></a>00142         ConvexPolygon = 4,
<a name="l00143"></a>00143         Empty = 5,
<a name="l00144"></a>00144         Invalid = 6
<a name="l00145"></a>00145     };
<a name="l00146"></a>00146 
<a name="l00169"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html">00169</a>     <span class="keyword">struct </span><a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>
<a name="l00170"></a>00170     {
<a name="l00177"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#a337fe06e78f6dd91a2ed3a331820d18f">00177</a>         <a class="code" href="structSphericalRegion_1_1DrawParams.html#a337fe06e78f6dd91a2ed3a331820d18f" title="Construct DrawParams with default parameters and specified projector.">DrawParams</a>(<span class="keyword">class</span> <a class="code" href="classStelProjector.html" title="Provide the main interface to all operations of projecting coordinates from sky to...">StelProjector</a>* projector)
<a name="l00178"></a>00178             : <a class="code" href="structSphericalRegion_1_1DrawParams.html#acc9d6b54dcc39a504e420554a9d11712" title="Projector to use when drawing.">projector_</a>(projector)
<a name="l00179"></a>00179             , <a class="code" href="structSphericalRegion_1_1DrawParams.html#a614a5259891cd8aabea5d07b0806e536" title="If specified, clips the part of the region outside of cap.">clippingCap_</a>(NULL)
<a name="l00180"></a>00180             , <a class="code" href="structSphericalRegion_1_1DrawParams.html#a7313199a2d2b49646398ed23ffef0886" title="Subdivide triangles?">subdivide_</a>(true)
<a name="l00181"></a>00181             , <a class="code" href="structSphericalRegion_1_1DrawParams.html#a0fd5136700219e98eb1c2152dee745f2" title="Maximum distortion.">maxSqDistortion_</a>(5.0)
<a name="l00182"></a>00182         {}
<a name="l00183"></a>00183 
<a name="l00192"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#ac193e9d765c1f41e604e642134a016de">00192</a>         <span class="keywordtype">bool</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html#ac193e9d765c1f41e604e642134a016de" title="Only used to determine whether to update cached vertex buffers.">operator != </a>(<span class="keyword">const</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>&amp; rhs)<span class="keyword"> const </span>
<a name="l00193"></a>00193 <span class="keyword">        </span>{
<a name="l00194"></a>00194             <span class="comment">// Projector is ignored, as even if the pointer points to the same object, </span>
<a name="l00195"></a>00195             <span class="comment">// the objects&#39; state might have changed, making comparison useless. </span>
<a name="l00196"></a>00196             <span class="comment">// Instead, we only cache in cases when projector is not used used outside </span>
<a name="l00197"></a>00197             <span class="comment">// Renderer (i.e. not affecting vertex buffers that get cached) or NULL.</span>
<a name="l00198"></a>00198 
<a name="l00199"></a>00199             <span class="comment">// Clipping caps are only considered equal when NULL (which is the </span>
<a name="l00200"></a>00200             <span class="comment">// most common case, anyway). There is no opportunity for special handling</span>
<a name="l00201"></a>00201             <span class="comment">// like projectors, since, when not NULL, clipping caps are always used </span>
<a name="l00202"></a>00202             <span class="comment">// in vertex buffer generation.</span>
<a name="l00203"></a>00203 
<a name="l00204"></a>00204             <span class="keywordflow">return</span> (<a class="code" href="structSphericalRegion_1_1DrawParams.html#a614a5259891cd8aabea5d07b0806e536" title="If specified, clips the part of the region outside of cap.">clippingCap_</a> == NULL &amp;&amp; rhs.<a class="code" href="structSphericalRegion_1_1DrawParams.html#a614a5259891cd8aabea5d07b0806e536" title="If specified, clips the part of the region outside of cap.">clippingCap_</a> == NULL) ||
<a name="l00205"></a>00205                    <a class="code" href="structSphericalRegion_1_1DrawParams.html#a7313199a2d2b49646398ed23ffef0886" title="Subdivide triangles?">subdivide_</a> != rhs.<a class="code" href="structSphericalRegion_1_1DrawParams.html#a7313199a2d2b49646398ed23ffef0886" title="Subdivide triangles?">subdivide_</a>   ||
<a name="l00206"></a>00206                    <span class="comment">//Fuzzy compare might be better here</span>
<a name="l00207"></a>00207                    <a class="code" href="structSphericalRegion_1_1DrawParams.html#a0fd5136700219e98eb1c2152dee745f2" title="Maximum distortion.">maxSqDistortion_</a> != rhs.<a class="code" href="structSphericalRegion_1_1DrawParams.html#a0fd5136700219e98eb1c2152dee745f2" title="Maximum distortion.">maxSqDistortion_</a>;
<a name="l00208"></a>00208         }
<a name="l00209"></a>00209 
<a name="l00211"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#a77f98392182337a6abd149a1586420f3">00211</a>         <a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>&amp; <a class="code" href="structSphericalRegion_1_1DrawParams.html#a77f98392182337a6abd149a1586420f3" title="If not NULL, used to clip the part of the region outside the cap.">clippingCap</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>* <a class="code" href="structSphericalRegion_1_1DrawParams.html#a77f98392182337a6abd149a1586420f3" title="If not NULL, used to clip the part of the region outside the cap.">clippingCap</a>)
<a name="l00212"></a>00212         {
<a name="l00213"></a>00213             <a class="code" href="structSphericalRegion_1_1DrawParams.html#a614a5259891cd8aabea5d07b0806e536" title="If specified, clips the part of the region outside of cap.">clippingCap_</a> = clippingCap;
<a name="l00214"></a>00214             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00215"></a>00215         }
<a name="l00216"></a>00216 
<a name="l00222"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#a12c043a5d3e0b0acd4adda622e710d03">00222</a>         <a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>&amp; <a class="code" href="structSphericalRegion_1_1DrawParams.html#a12c043a5d3e0b0acd4adda622e710d03" title="Do not subdivide the region to follow projection distortions.">doNotSubdivide</a>()
<a name="l00223"></a>00223         {
<a name="l00224"></a>00224             <a class="code" href="structSphericalRegion_1_1DrawParams.html#a7313199a2d2b49646398ed23ffef0886" title="Subdivide triangles?">subdivide_</a> = <span class="keyword">false</span>;
<a name="l00225"></a>00225             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00226"></a>00226         }
<a name="l00227"></a>00227 
<a name="l00229"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#a91aeab8d06a7dbb3455779248b7881e5">00229</a>         <a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>&amp; <a class="code" href="structSphericalRegion_1_1DrawParams.html#a91aeab8d06a7dbb3455779248b7881e5" title="Specify maximum distortion - we try to subdivide to be withil this limit.">maxSqDistortion</a>(<span class="keyword">const</span> <span class="keywordtype">double</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html#a91aeab8d06a7dbb3455779248b7881e5" title="Specify maximum distortion - we try to subdivide to be withil this limit.">maxSqDistortion</a>)
<a name="l00230"></a>00230         {
<a name="l00231"></a>00231             <a class="code" href="structSphericalRegion_1_1DrawParams.html#a0fd5136700219e98eb1c2152dee745f2" title="Maximum distortion.">maxSqDistortion_</a> = maxSqDistortion;
<a name="l00232"></a>00232             <span class="keywordflow">return</span> *<span class="keyword">this</span>;
<a name="l00233"></a>00233         }
<a name="l00234"></a>00234 
<a name="l00236"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#acc9d6b54dcc39a504e420554a9d11712">00236</a>         <span class="keyword">class </span><a class="code" href="classStelProjector.html" title="Provide the main interface to all operations of projecting coordinates from sky to...">StelProjector</a>* <a class="code" href="structSphericalRegion_1_1DrawParams.html#acc9d6b54dcc39a504e420554a9d11712" title="Projector to use when drawing.">projector_</a>;
<a name="l00237"></a>00237 
<a name="l00239"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#a614a5259891cd8aabea5d07b0806e536">00239</a>         <span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>* <a class="code" href="structSphericalRegion_1_1DrawParams.html#a614a5259891cd8aabea5d07b0806e536" title="If specified, clips the part of the region outside of cap.">clippingCap_</a>;
<a name="l00240"></a>00240 
<a name="l00242"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#a7313199a2d2b49646398ed23ffef0886">00242</a>         <span class="keywordtype">bool</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html#a7313199a2d2b49646398ed23ffef0886" title="Subdivide triangles?">subdivide_</a>;
<a name="l00243"></a>00243 
<a name="l00245"></a><a class="code" href="structSphericalRegion_1_1DrawParams.html#a0fd5136700219e98eb1c2152dee745f2">00245</a>         <span class="keywordtype">double</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html#a0fd5136700219e98eb1c2152dee745f2" title="Maximum distortion.">maxSqDistortion_</a>;
<a name="l00246"></a>00246     };
<a name="l00247"></a>00247 
<a name="l00249"></a><a class="code" href="structSphericalRegion_1_1PlainVertex.html">00249</a>     <span class="keyword">struct </span><a class="code" href="structSphericalRegion_1_1PlainVertex.html" title="3D vertex with only a position.">PlainVertex</a>
<a name="l00250"></a>00250     {
<a name="l00251"></a>00251         <a class="code" href="classVector3.html">Vec3f</a> position;
<a name="l00252"></a>00252         <a class="code" href="structSphericalRegion_1_1PlainVertex.html" title="3D vertex with only a position.">PlainVertex</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3f</a>&amp; position) : position(position){}
<a name="l00253"></a>00253         <a class="code" href="structSphericalRegion_1_1PlainVertex.html" title="3D vertex with only a position.">PlainVertex</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; pos) : position(pos[0], pos[1], pos[2]) {}
<a name="l00254"></a>00254         VERTEX_ATTRIBUTES(<a class="code" href="classVector3.html">Vec3f</a> Position)
<a name="l00255"></a>00255     };
<a name="l00256"></a>00256 
<a name="l00258"></a><a class="code" href="structSphericalRegion_1_1TexturedVertex.html">00258</a>     <span class="keyword">struct </span><a class="code" href="structSphericalRegion_1_1TexturedVertex.html" title="3D vertex with position and a texture coordinate.">TexturedVertex</a>
<a name="l00259"></a>00259     {
<a name="l00260"></a>00260         <a class="code" href="classVector3.html">Vec3f</a> position;
<a name="l00261"></a>00261         <a class="code" href="classVector2.html">Vec2f</a> texCoord;
<a name="l00262"></a>00262         <a class="code" href="structSphericalRegion_1_1TexturedVertex.html" title="3D vertex with position and a texture coordinate.">TexturedVertex</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3f</a>&amp; position, <span class="keyword">const</span> <a class="code" href="classVector2.html">Vec2f</a>&amp; texCoord)
<a name="l00263"></a>00263             : position(position) , texCoord(texCoord) {}
<a name="l00264"></a>00264         <a class="code" href="structSphericalRegion_1_1TexturedVertex.html" title="3D vertex with position and a texture coordinate.">TexturedVertex</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; pos, <span class="keyword">const</span> <a class="code" href="classVector2.html">Vec2f</a>&amp; texCoord)
<a name="l00265"></a>00265             : position(pos[0], pos[1], pos[2]) , texCoord(texCoord) {}
<a name="l00266"></a>00266         VERTEX_ATTRIBUTES(<a class="code" href="classVector3.html">Vec3f</a> Position, <a class="code" href="classVector2.html">Vec2f</a> TexCoord)
<a name="l00267"></a>00267     };
<a name="l00268"></a>00268 
<a name="l00270"></a><a class="code" href="classSphericalRegion.html#a7fa0f04f9a0832453a41810c562ca5bf">00270</a>     <a class="code" href="classSphericalRegion.html#a7fa0f04f9a0832453a41810c562ca5bf" title="Default constructor. Inializes with no vertex buffers.">SphericalRegion</a>()
<a name="l00271"></a>00271         : <a class="code" href="classSphericalRegion.html#a9ada6e39086d99112641f83ab52a101d" title="Cached plain vertex buffer for drawing.">fillPlainVertexBuffer</a>(NULL)
<a name="l00272"></a>00272         , previousFillDrawParams(NULL)
<a name="l00273"></a>00273     {
<a name="l00274"></a>00274         <span class="comment">// Make sure previousFillDrawParams is invalid at start, so it gets replaced </span>
<a name="l00275"></a>00275         <span class="comment">// at first drawFill() call.</span>
<a name="l00276"></a>00276         previousFillDrawParams.<a class="code" href="structSphericalRegion_1_1DrawParams.html#a0fd5136700219e98eb1c2152dee745f2" title="Maximum distortion.">maxSqDistortion_</a> = -42.0f;
<a name="l00277"></a>00277     }
<a name="l00278"></a>00278 
<a name="l00280"></a><a class="code" href="classSphericalRegion.html#a1cf8d53dd31bd7470842264c9492effe">00280</a>     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#a1cf8d53dd31bd7470842264c9492effe" title="Destructor. Cleans up vertex buffers, if any.">~SphericalRegion</a>() 
<a name="l00281"></a>00281     {
<a name="l00282"></a>00282         <span class="keywordflow">if</span>(NULL != <a class="code" href="classSphericalRegion.html#a9ada6e39086d99112641f83ab52a101d" title="Cached plain vertex buffer for drawing.">fillPlainVertexBuffer</a>)
<a name="l00283"></a>00283         {
<a name="l00284"></a>00284             <span class="keyword">delete</span> <a class="code" href="classSphericalRegion.html#a9ada6e39086d99112641f83ab52a101d" title="Cached plain vertex buffer for drawing.">fillPlainVertexBuffer</a>;
<a name="l00285"></a>00285         }
<a name="l00286"></a>00286     }
<a name="l00287"></a>00287 
<a name="l00288"></a>00288     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a> getType() <span class="keyword">const</span> = 0;
<a name="l00289"></a>00289 
<a name="l00292"></a>00292     <span class="keyword">virtual</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> <a class="code" href="classSphericalRegion.html#ad06172d2d701a722a889a6cb21c8617a" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>() <span class="keyword">const</span> =0;
<a name="l00293"></a>00293 
<a name="l00295"></a><a class="code" href="classSphericalRegion.html#a97e908421aee887ffca7b3a3d9248c0a">00295</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classSphericalRegion.html#a97e908421aee887ffca7b3a3d9248c0a" title="Return the area of the region in steradians.">getArea</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#ad06172d2d701a722a889a6cb21c8617a" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>().getArea();}
<a name="l00296"></a>00296 
<a name="l00298"></a><a class="code" href="classSphericalRegion.html#ae93ecc2b8a71d58a3d23e80e7400c109">00298</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#ae93ecc2b8a71d58a3d23e80e7400c109" title="Return true if the region is empty.">isEmpty</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#ad06172d2d701a722a889a6cb21c8617a" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>().isEmpty();}
<a name="l00299"></a>00299 
<a name="l00301"></a><a class="code" href="classSphericalRegion.html#ada8685bc10fde6ea9dc8a8c6bf4a4f15">00301</a>     <span class="keyword">virtual</span> <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classSphericalRegion.html#ada8685bc10fde6ea9dc8a8c6bf4a4f15" title="Return a point located inside the region.">getPointInside</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#ad06172d2d701a722a889a6cb21c8617a" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>().getPointInside();}
<a name="l00302"></a>00302 
<a name="l00304"></a>00304     <span class="keyword">virtual</span> QVector&lt;SphericalCap&gt; <a class="code" href="classSphericalRegion.html#a6a85208e98c2f3fbb79773b874c0b70c" title="Return the list of SphericalCap bounding the ConvexPolygon.">getBoundingSphericalCaps</a>() <span class="keyword">const</span>;
<a name="l00305"></a>00305 
<a name="l00308"></a>00308     <span class="keyword">virtual</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classSphericalRegion.html#a86c361604deaa0187067770522249ef7" title="Return a bounding SphericalCap.">getBoundingCap</a>() <span class="keyword">const</span>;
<a name="l00309"></a>00309 
<a name="l00316"></a>00316     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#ad21e6074c87a5145f4237d057122c4ce" title="Return an enlarged version of this SphericalRegion so that any point distant of more...">getEnlarged</a>(<span class="keywordtype">double</span> margin) <span class="keyword">const</span>;
<a name="l00317"></a>00317 
<a name="l00319"></a><a class="code" href="classSphericalRegion.html#a2ed81646133b3d07ee1c43ca15b0c867">00319</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalRegion.html#a2ed81646133b3d07ee1c43ca15b0c867" title="Get a vector of vertex positions forming the region.">getFillVertexPositions</a>()<span class="keyword"> const</span>
<a name="l00320"></a>00320 <span class="keyword">    </span>{
<a name="l00321"></a>00321         <span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#ad06172d2d701a722a889a6cb21c8617a" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>().<a class="code" href="classOctahedronPolygon.html#a596689bca91274aa110042427ebbbddc" title="Get vertices forming triangles filling out the polygon.">fillVertices</a>();
<a name="l00322"></a>00322     }
<a name="l00323"></a>00323 
<a name="l00326"></a><a class="code" href="classSphericalRegion.html#a238cf717c4ddce2ea6066c030a86e02a">00326</a>     <span class="keyword">virtual</span> PrimitiveType <a class="code" href="classSphericalRegion.html#a238cf717c4ddce2ea6066c030a86e02a" title="Get primitive type determining how vertices in vector returned by getFillVertexPositions()...">getFillPrimitiveType</a>()<span class="keyword"> const </span>
<a name="l00327"></a>00327 <span class="keyword">    </span>{
<a name="l00328"></a>00328         <span class="keywordflow">return</span> PrimitiveType_Triangles;
<a name="l00329"></a>00329     }
<a name="l00330"></a>00330 
<a name="l00333"></a><a class="code" href="classSphericalRegion.html#ac455c127225da9667aad9b621d7ecbfe">00333</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalRegion.html#ac455c127225da9667aad9b621d7ecbfe" title="Get the outline of the contours defining the SphericalPolygon.">getOutlineVertexPositions</a>()<span class="keyword"> const </span>
<a name="l00334"></a>00334 <span class="keyword">    </span>{
<a name="l00335"></a>00335         <span class="comment">// This is a workaround around a compiler bug with Clang (as of Clang 3.2).</span>
<a name="l00336"></a>00336         <span class="comment">// Returning the reference directly results in an uninitialized</span>
<a name="l00337"></a>00337         <span class="comment">// reference which breaks calling code.</span>
<a name="l00338"></a>00338         <span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; result(<a class="code" href="classSphericalRegion.html#ad06172d2d701a722a889a6cb21c8617a" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>().outlineVertices());
<a name="l00339"></a>00339         <span class="keywordflow">return</span> result;
<a name="l00340"></a>00340     }
<a name="l00341"></a>00341 
<a name="l00344"></a><a class="code" href="classSphericalRegion.html#a6ae0211e968dcd622f02d80595093f77">00344</a>     <span class="keyword">virtual</span> PrimitiveType <a class="code" href="classSphericalRegion.html#a6ae0211e968dcd622f02d80595093f77" title="Get primitive type determining how vertices in vector returned by getOutlinePrimitiveType()...">getOutlinePrimitiveType</a>()<span class="keyword"> const</span>
<a name="l00345"></a>00345 <span class="keyword">    </span>{
<a name="l00346"></a>00346         <span class="keywordflow">return</span> PrimitiveType_Lines;
<a name="l00347"></a>00347     }
<a name="l00348"></a>00348 
<a name="l00351"></a>00351     <span class="keyword">virtual</span> QVector&lt;QVector&lt;Vec3d &gt; &gt; <a class="code" href="classSphericalRegion.html#a82d9a17afcba45eb41edddaee34dabf1" title="Get the contours defining the SphericalPolygon when combined using a positive winding...">getSimplifiedContours</a>() <span class="keyword">const</span>;
<a name="l00352"></a>00352     
<a name="l00354"></a>00354     <span class="keyword">virtual</span> QVariantList <a class="code" href="classSphericalRegion.html#ac3a85380943355ce81b25c5dd55d3e92" title="Serialize the region into a QVariant list matching the JSON format.">toQVariant</a>() <span class="keyword">const</span> = 0;
<a name="l00355"></a>00355 
<a name="l00357"></a>00357     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalRegion.html#ac9cbe8c30210a7042a44512c630212f1" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp; out) <span class="keyword">const</span> = 0;
<a name="l00358"></a>00358 
<a name="l00361"></a>00361     QByteArray <a class="code" href="classSphericalRegion.html#a07fafc1224543e1eb399b34a59e52081" title="Output a JSON string representing the polygon.">toJSON</a>() <span class="keyword">const</span>;
<a name="l00362"></a>00362 
<a name="l00365"></a>00365     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00366"></a>00366     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(r.data());}
<a name="l00367"></a>00367     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#ad06172d2d701a722a889a6cb21c8617a" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>().contains(p);}
<a name="l00368"></a>00368     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00369"></a>00369     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00370"></a>00370     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r) <span class="keyword">const</span>;
<a name="l00371"></a>00371     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r) <span class="keyword">const</span>;
<a name="l00372"></a>00372     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00373"></a>00373     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(<span class="keyword">const</span> <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00374"></a>00374 
<a name="l00377"></a>00377     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00378"></a>00378     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(r.data());}
<a name="l00379"></a>00379     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">contains</a>(p);}
<a name="l00380"></a>00380     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00381"></a>00381     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00382"></a>00382     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r) <span class="keyword">const</span>;
<a name="l00383"></a>00383     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r) <span class="keyword">const</span>;
<a name="l00384"></a>00384     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00385"></a>00385     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">intersects</a>(<span class="keyword">const</span> <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00386"></a>00386 
<a name="l00389"></a>00389     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00390"></a>00390     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(r.data());}
<a name="l00391"></a>00391     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00392"></a>00392     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00393"></a>00393     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r) <span class="keyword">const</span>;
<a name="l00394"></a>00394     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r) <span class="keyword">const</span>;
<a name="l00395"></a>00395     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00396"></a>00396     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">getIntersection</a>(<span class="keyword">const</span> <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00397"></a>00397 
<a name="l00400"></a>00400     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00401"></a>00401     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(r.data());}
<a name="l00402"></a>00402     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00403"></a>00403     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00404"></a>00404     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r) <span class="keyword">const</span>;
<a name="l00405"></a>00405     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r) <span class="keyword">const</span>;
<a name="l00406"></a>00406     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00407"></a>00407     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">getUnion</a>(<span class="keyword">const</span> <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00408"></a>00408 
<a name="l00411"></a>00411     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00412"></a>00412     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(r.data());}
<a name="l00413"></a>00413     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00414"></a>00414     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00415"></a>00415     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r) <span class="keyword">const</span>;
<a name="l00416"></a>00416     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r) <span class="keyword">const</span>;
<a name="l00417"></a>00417     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00418"></a>00418     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">getSubtraction</a>(<span class="keyword">const</span> <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>&amp; r) <span class="keyword">const</span>;
<a name="l00419"></a>00419 
<a name="l00426"></a>00426     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalRegion.html#a0df0a7d7091a361c0f9e90b322f08957" title="Draw the region as triangles (i.e.">drawFill</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">const</span> DrawParams&amp; params);
<a name="l00427"></a>00427 
<a name="l00435"></a>00435     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalRegion.html#acb27605e1d6f8783cccd559b3a041c80" title="Draw the outline of the region.">drawOutline</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">const</span> DrawParams&amp; params);
<a name="l00436"></a>00436 
<a name="l00437"></a>00437 <span class="keyword">protected</span>:
<a name="l00439"></a><a class="code" href="classSphericalRegion.html#a9ada6e39086d99112641f83ab52a101d">00439</a>     <a class="code" href="classStelVertexBuffer.html">StelVertexBuffer&lt;PlainVertex&gt;</a>* <a class="code" href="classSphericalRegion.html#a9ada6e39086d99112641f83ab52a101d" title="Cached plain vertex buffer for drawing.">fillPlainVertexBuffer</a>;
<a name="l00440"></a>00440 
<a name="l00445"></a><a class="code" href="classSphericalRegion.html#a0baec9144a80c960eb91170f6e5cf596">00445</a>     <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#a0baec9144a80c960eb91170f6e5cf596" title="Should Renderer draw calls specify a projector?">useProjector</a>;
<a name="l00446"></a>00446 
<a name="l00457"></a>00457     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalRegion.html#a207525d3d37d5e629f041dfed5c65dbf" title="Update the vertex buffer used by drawFill().">updateFillVertexBuffer</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">const</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>&amp; params, <span class="keywordtype">bool</span> handleDiscontinuity);
<a name="l00458"></a>00458 
<a name="l00465"></a>00465     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalRegion.html#aeb72b726c1232af019961c5b43b833b7" title="Drawing part of drawFill() - assumes the buffer/s is/are generated.">drawFillVertexBuffer</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">class</span> <a class="code" href="classStelProjector.html" title="Provide the main interface to all operations of projecting coordinates from sky to...">StelProjector</a>* projector);
<a name="l00466"></a>00466 
<a name="l00472"></a><a class="code" href="classSphericalRegion.html#a3385dd2c79f75e545ad561f41f263412">00472</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalRegion.html#a3385dd2c79f75e545ad561f41f263412" title="Do we need to update vertex buffer/s used by drawFill()?">needToUpdateFillVertexBuffers</a>()<span class="keyword"> const</span>
<a name="l00473"></a>00473 <span class="keyword">    </span>{
<a name="l00474"></a>00474         <span class="comment">// Can&#39;t determine whether we can cache anything - </span>
<a name="l00475"></a>00475         <span class="comment">// we&#39;d need to know if polygon returned by getOctahedronPolygon has changed,</span>
<a name="l00476"></a>00476         <span class="comment">// but since getOctahedronPolygon returns by value, not reference,</span>
<a name="l00477"></a>00477         <span class="comment">// it returns a new octahedronPolygon every time.</span>
<a name="l00478"></a>00478         <span class="comment">//</span>
<a name="l00479"></a>00479         <span class="comment">// If it was by reference, _and_ guaranteed to always point to the same polygon,</span>
<a name="l00480"></a>00480         <span class="comment">// we might store a flag in the polygon determining if its vertex array has </span>
<a name="l00481"></a>00481         <span class="comment">// changed, and use that for caching.</span>
<a name="l00482"></a>00482         <span class="keywordflow">return</span> <span class="keyword">true</span>;
<a name="l00483"></a>00483     }
<a name="l00484"></a>00484 
<a name="l00486"></a><a class="code" href="classSphericalRegion.html#a1c12f5f0b2a21318bc428ec87d0e0408">00486</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalRegion.html#a1c12f5f0b2a21318bc428ec87d0e0408" title="Called after updating vertex buffer/s used by drawFill().">fillVertexBuffersUpdated</a>() {}
<a name="l00487"></a>00487 
<a name="l00488"></a>00488 <span class="keyword">private</span>:
<a name="l00490"></a>00490     DrawParams previousFillDrawParams;
<a name="l00491"></a>00491 
<a name="l00492"></a>00492     <span class="keywordtype">bool</span> containsDefault(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00493"></a>00493     <span class="keywordtype">bool</span> intersectsDefault(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00494"></a>00494     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getIntersectionDefault(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00495"></a>00495     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getUnionDefault(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00496"></a>00496     <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getSubtractionDefault(<span class="keyword">const</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>* r) <span class="keyword">const</span>;
<a name="l00497"></a>00497 };
<a name="l00498"></a>00498 
<a name="l00499"></a>00499 
<a name="l00504"></a><a class="code" href="classSphericalCap.html">00504</a> <span class="keyword">class </span><a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> : <span class="keyword">public</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>
<a name="l00505"></a>00505 {
<a name="l00506"></a>00506 <span class="keyword">public</span>:
<a name="l00508"></a><a class="code" href="classSphericalCap.html#a17b071fd86e04692cac2228ac791bfc1">00508</a>     <a class="code" href="classSphericalCap.html#a17b071fd86e04692cac2228ac791bfc1" title="Construct a SphericalCap with a 90 deg aperture and an undefined direction.">SphericalCap</a>() : <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>(0) {;}
<a name="l00509"></a>00509 
<a name="l00511"></a><a class="code" href="classSphericalCap.html#a4cad01940b0698ffcd04a5a4ce73ade0">00511</a>     <a class="code" href="classSphericalCap.html#a4cad01940b0698ffcd04a5a4ce73ade0" title="Construct a SphericalCap from its direction and assumes a 90 deg aperture.">SphericalCap</a>(<span class="keywordtype">double</span> x, <span class="keywordtype">double</span> y, <span class="keywordtype">double</span> z) : <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>(x,y,z), <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>(0) {;}
<a name="l00512"></a>00512 
<a name="l00516"></a><a class="code" href="classSphericalCap.html#aa17272a27ca3e524bce7ebd9c5d17dac">00516</a>     <a class="code" href="classSphericalCap.html#aa17272a27ca3e524bce7ebd9c5d17dac" title="Construct a SphericalCap from its direction and aperture.">SphericalCap</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; an, <span class="keywordtype">double</span> ar) : <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>(an), <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>(ar) {Q_ASSERT(<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>==0 || std::fabs(<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>.lengthSquared()-1.)&lt;0.0000001);}
<a name="l00517"></a>00517 
<a name="l00519"></a><a class="code" href="classSphericalCap.html#a744dc22150dabee53b91f5aaf4a3204e">00519</a>     <a class="code" href="classSphericalCap.html#a744dc22150dabee53b91f5aaf4a3204e" title="Copy constructor.">SphericalCap</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; other) : <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>(), <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>(other.<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>), <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>(other.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>) {;}
<a name="l00520"></a>00520 
<a name="l00521"></a>00521     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a> getType()<span class="keyword"> const </span>{<span class="keywordflow">return</span> SphericalRegion::Cap;}
<a name="l00522"></a>00522     <span class="keyword">virtual</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> <a class="code" href="classSphericalCap.html#a46b4774f348e0d0bb3ca4d271459b3f4" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>() <span class="keyword">const</span>;
<a name="l00523"></a>00523 
<a name="l00525"></a><a class="code" href="classSphericalCap.html#ae0cb63210695514bb2fc9d5b9276b6db">00525</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classSphericalCap.html#ae0cb63210695514bb2fc9d5b9276b6db" title="Get the area of the intersection of the halfspace on the sphere in steradian.">getArea</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> 2.*M_PI*(1.-<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>);}
<a name="l00526"></a>00526 
<a name="l00528"></a><a class="code" href="classSphericalCap.html#a78efc43b42920fd31ef9cdbf75fe278b">00528</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#a78efc43b42920fd31ef9cdbf75fe278b" title="Return true if the region is empty.">isEmpty</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>&gt;=1.;}
<a name="l00529"></a>00529 
<a name="l00531"></a><a class="code" href="classSphericalCap.html#a44fb7a59326f76e3df214efc856ca172">00531</a>     <span class="keyword">virtual</span> <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classSphericalCap.html#a44fb7a59326f76e3df214efc856ca172" title="Return a point located inside the SphericalCap.">getPointInside</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>;}
<a name="l00532"></a>00532 
<a name="l00534"></a><a class="code" href="classSphericalCap.html#abc33b0f7121c5fcdba10db07ee58d28c">00534</a>     <span class="keyword">virtual</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classSphericalCap.html#abc33b0f7121c5fcdba10db07ee58d28c" title="Return itself.">getBoundingCap</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> *<span class="keyword">this</span>;}
<a name="l00535"></a>00535 
<a name="l00536"></a>00536     <span class="comment">// Contain and intersect    </span>
<a name="l00537"></a>00537     <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;v)<span class="keyword"> const </span>
<a name="l00538"></a>00538 <span class="keyword">    </span>{
<a name="l00539"></a>00539         Q_ASSERT(<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>==0 || std::fabs(v.lengthSquared()-1.)&lt;0.00000021);
<a name="l00540"></a>00540         <span class="keywordflow">return</span> (v*<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>&gt;=<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>);
<a name="l00541"></a>00541     }
<a name="l00542"></a>00542     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00543"></a>00543     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; h)<span class="keyword"> const</span>
<a name="l00544"></a>00544 <span class="keyword">    </span>{
<a name="l00545"></a>00545         <span class="keyword">const</span> <span class="keywordtype">double</span> a = <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>*h.<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>-<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>;
<a name="l00546"></a>00546         <span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>&lt;=h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a> &amp;&amp; ( a&gt;=1. || (a&gt;=0. &amp;&amp; a*a &gt;= (1.-<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>)*(1.-h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>)));
<a name="l00547"></a>00547     }
<a name="l00548"></a>00548     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>&lt;=-1;}
<a name="l00549"></a>00549     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00550"></a>00550     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00554"></a><a class="code" href="classSphericalCap.html#a940bce48c96d1be5b410f1a22c36384a">00554</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; h)<span class="keyword"> const</span>
<a name="l00555"></a>00555 <span class="keyword">    </span>{
<a name="l00556"></a>00556         <span class="keyword">const</span> <span class="keywordtype">double</span> a = <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a> - <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>*h.<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>;
<a name="l00557"></a>00557         <span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>+h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>&lt;=0. || a&lt;=0. || (a&lt;=1. &amp;&amp; a*a &lt;= (1.-<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>)*(1.-h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>));
<a name="l00558"></a>00558     }
<a name="l00559"></a>00559     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>&lt;=1.;}
<a name="l00560"></a>00560 
<a name="l00564"></a>00564     <span class="keyword">virtual</span> QVariantList <a class="code" href="classSphericalCap.html#a43685b8ffdb2fee0efd471513680a146" title="Serialize the region into a QVariant map matching the JSON format.">toQVariant</a>() <span class="keyword">const</span>;
<a name="l00565"></a>00565 
<a name="l00566"></a><a class="code" href="classSphericalCap.html#a20a3f66ac0dd69e7fc42fa59eb08fe69">00566</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalCap.html#a20a3f66ac0dd69e7fc42fa59eb08fe69" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp; out)<span class="keyword"> const </span>{out &lt;&lt; <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a> &lt;&lt; <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>;}
<a name="l00567"></a>00567 
<a name="l00569"></a>00569     <span class="comment">// Methods specific to SphericalCap</span>
<a name="l00570"></a>00570 
<a name="l00572"></a><a class="code" href="classSphericalCap.html#a8a72cd4829cb85e342a336cf6f3185c8">00572</a>     <span class="keywordtype">double</span> <a class="code" href="classSphericalCap.html#a8a72cd4829cb85e342a336cf6f3185c8" title="Return the radiusof the cap in radian.">getRadius</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> std::acos(<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>);}
<a name="l00573"></a>00573 
<a name="l00578"></a><a class="code" href="classSphericalCap.html#a541ab7fd8ed21fb639231fdad4710929">00578</a>     <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#a541ab7fd8ed21fb639231fdad4710929" title="Returns whether a HalfSpace (like a SphericalCap with d=0) intersects with this SphericalCap...">intersectsHalfSpace</a>(<span class="keywordtype">double</span> hn0, <span class="keywordtype">double</span> hn1, <span class="keywordtype">double</span> hn2)<span class="keyword"> const</span>
<a name="l00579"></a>00579 <span class="keyword">    </span>{
<a name="l00580"></a>00580         <span class="keyword">const</span> <span class="keywordtype">double</span> a = <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>[0]*hn0+<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>[1]*hn1+<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>[2]*hn2;
<a name="l00581"></a>00581         <span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>&lt;=0. || a&lt;=0. || (a&lt;=1. &amp;&amp; a*a &lt;= (1.-<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>));
<a name="l00582"></a>00582     }
<a name="l00583"></a>00583 
<a name="l00586"></a>00586     <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#ac9e0e8aa424523b32333542942a6ecbb" title="Clip the passed great circle connecting points v1 and v2.">clipGreatCircle</a>(<a class="code" href="classVector3.html">Vec3d</a>&amp; v1, <a class="code" href="classVector3.html">Vec3d</a>&amp; v2) <span class="keyword">const</span>;
<a name="l00587"></a>00587 
<a name="l00589"></a><a class="code" href="classSphericalCap.html#acaa7807b0b23709266b105bb4781b3f4">00589</a>     <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#acaa7807b0b23709266b105bb4781b3f4" title="Comparison operator.">operator==</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; other)<span class="keyword"> const </span>{<span class="keywordflow">return</span> (<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>==other.<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a> &amp;&amp; <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>==other.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>);}
<a name="l00590"></a>00590 
<a name="l00592"></a>00592     QVector&lt;Vec3d&gt; <a class="code" href="classSphericalCap.html#a6f03c90666ed94a6980d2846c19deb55" title="Return the list of closed contours defining the polygon boundaries.">getClosedOutlineContour</a>() <span class="keyword">const</span>;
<a name="l00593"></a>00593 
<a name="l00595"></a>00595     <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#ab97ea5889e30f28d225b63ba1f6862b6" title="Return whether the cap intersect with a convex contour defined by nbVertice.">intersectsConvexContour</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>* vertice, <span class="keywordtype">int</span> nbVertice) <span class="keyword">const</span>;
<a name="l00596"></a>00596 
<a name="l00598"></a>00598     <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#acd200ec34551324b704b0fd66946dfb0" title="Does the cap contain the passed triangle?">containsTriangle</a>(<span class="keyword">const</span> <a class="code" href="structTriplet.html" title="A simple struct holding a triplet of values of some type.">Triplet&lt;Vec3d&gt;</a> triangle) <span class="keyword">const</span>;
<a name="l00599"></a>00599 
<a name="l00601"></a>00601     <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#abc05099e517bf9d019bf7180850ab425" title="Does the cap intersect with the passed triangle?">intersectsTriangle</a>(<span class="keyword">const</span> <a class="code" href="structTriplet.html" title="A simple struct holding a triplet of values of some type.">Triplet&lt;Vec3d&gt;</a>&amp; triangle) <span class="keyword">const</span>;
<a name="l00602"></a>00602 
<a name="l00604"></a>00604     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalCap.html#a5f666d26370205c8f69b15475dd95050" title="Deserialize the region. This method must allow as fast as possible deserialization...">deserialize</a>(QDataStream&amp; in);
<a name="l00605"></a>00605 
<a name="l00608"></a>00608     <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="classSphericalCap.html#a3173a3230821306590571485d1f9ee3e" title="Return the relative overlap between the areas of the 2 caps, i.e: min(intersectionArea/c1...">relativeAreaOverlap</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; c1, <span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; c2);
<a name="l00609"></a>00609 
<a name="l00612"></a>00612     <span class="keyword">static</span> <span class="keywordtype">double</span> <a class="code" href="classSphericalCap.html#a4b25c84f2900d976769fdd73639a25bf" title="Return the relative overlap between the diameter of the 2 caps, i.e: min(intersectionDistance/c1...">relativeDiameterOverlap</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; c1, <span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; c2);
<a name="l00613"></a>00613 
<a name="l00616"></a>00616     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalCap.html#a9a0f025e8e84d55bf5a4c0742f42fd78" title="Compute the intersection of 2 halfspaces on the sphere (usually on 2 points) and...">intersectionPoints</a>(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; h1, <span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; h2, <a class="code" href="classVector3.html">Vec3d</a>&amp; p1, <a class="code" href="classVector3.html">Vec3d</a>&amp; p2);
<a name="l00617"></a>00617 
<a name="l00619"></a><a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c">00619</a>     <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>;
<a name="l00621"></a><a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3">00621</a>     <span class="keywordtype">double</span> <a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>;
<a name="l00622"></a>00622 };
<a name="l00623"></a>00623 
<a name="l00627"></a><a class="code" href="StelSphereGeometry_8hpp.html#ae63ea515bc43dbc8f6e6b8f86cbb3fc4">00627</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="StelSphereGeometry_8hpp.html#ae63ea515bc43dbc8f6e6b8f86cbb3fc4" title="Return whether the halfspace defined by the vectors v1^v2 and with aperture 90 deg...">sideHalfSpaceContains</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; v2, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p)
<a name="l00628"></a>00628 {
<a name="l00629"></a>00629     <span class="keywordflow">return</span> (v1[1] * v2[2] - v1[2] * v2[1])*p[0] +
<a name="l00630"></a>00630             (v1[2] * v2[0] - v1[0] * v2[2])*p[1] +
<a name="l00631"></a>00631             (v1[0] * v2[1] - v1[1] * v2[0])*p[2]&gt;=-1e-17;
<a name="l00632"></a>00632 }
<a name="l00633"></a>00633 
<a name="l00635"></a><a class="code" href="StelSphereGeometry_8hpp.html#ae432e02c6aadfc571980b68540fad8f4">00635</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="StelSphereGeometry_8hpp.html#ae63ea515bc43dbc8f6e6b8f86cbb3fc4" title="Return whether the halfspace defined by the vectors v1^v2 and with aperture 90 deg...">sideHalfSpaceContains</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; v2, <span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; h)
<a name="l00636"></a>00636 {
<a name="l00637"></a>00637     <a class="code" href="classVector3.html">Vec3d</a> n(v1[1]*v2[2]-v1[2]*v2[1], v2[0]*v1[2]-v2[2]*v1[0], v2[1]*v1[0]-v2[0]*v1[1]);
<a name="l00638"></a>00638     n.normalize();
<a name="l00639"></a>00639     <span class="keyword">const</span> <span class="keywordtype">double</span> a = n*h.<a class="code" href="classSphericalCap.html#acc1e4d18a51b380f87cf427eb7f5686c" title="The direction unit vector. Only if d==0, this vector doesn&amp;#39;t need to be unit...">n</a>;
<a name="l00640"></a>00640     <span class="keywordflow">return</span> 0&lt;=h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a> &amp;&amp; ( a&gt;=1. || (a&gt;=0. &amp;&amp; a*a &gt;= 1.-h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>*h.<a class="code" href="classSphericalCap.html#acf5d0a04709bf521b18d2a9c2879fbe3" title="The cos of cone radius.">d</a>));
<a name="l00641"></a>00641 }
<a name="l00642"></a>00642 
<a name="l00644"></a><a class="code" href="StelSphereGeometry_8hpp.html#a25e67301c7ff9219d2a611ab1000d548">00644</a> <span class="keyword">inline</span> <span class="keywordtype">bool</span> <a class="code" href="StelSphereGeometry_8hpp.html#a25e67301c7ff9219d2a611ab1000d548" title="Return whether the halfspace defined by the vectors v1 and v2 intersects the SphericalCap...">sideHalfSpaceIntersects</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; v1, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; v2, <span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; h)
<a name="l00645"></a>00645 {
<a name="l00646"></a>00646     <a class="code" href="classVector3.html">Vec3d</a> n(v1[1]*v2[2]-v1[2]*v2[1], v2[0]*v1[2]-v2[2]*v1[0], v2[1]*v1[0]-v2[0]*v1[1]);
<a name="l00647"></a>00647     n.normalize();
<a name="l00648"></a>00648     <span class="keywordflow">return</span>  h.<a class="code" href="classSphericalCap.html#a541ab7fd8ed21fb639231fdad4710929" title="Returns whether a HalfSpace (like a SphericalCap with d=0) intersects with this SphericalCap...">intersectsHalfSpace</a>(n[0], n[1], n[2]);
<a name="l00649"></a>00649 }
<a name="l00650"></a>00650 
<a name="l00653"></a><a class="code" href="classSphericalPoint.html">00653</a> <span class="keyword">class </span><a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a> : <span class="keyword">public</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>
<a name="l00654"></a>00654 {
<a name="l00655"></a>00655 <span class="keyword">public</span>:
<a name="l00656"></a>00656     <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; an) : <a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>(an) {Q_ASSERT(std::fabs(1.-<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>.length())&lt;0.0000001);}
<a name="l00657"></a>00657     <span class="keyword">virtual</span> ~<a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>() {;}
<a name="l00658"></a>00658 
<a name="l00659"></a>00659     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a> getType()<span class="keyword"> const </span>{<span class="keywordflow">return</span> SphericalRegion::Point;}
<a name="l00660"></a>00660     <span class="keyword">virtual</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> <a class="code" href="classSphericalPoint.html#a4ca0a369d797832de406f6caaa8ecdde" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>() <span class="keyword">const</span>;
<a name="l00661"></a><a class="code" href="classSphericalPoint.html#a19947f00dcf804b181b2b297e7f3ed90">00661</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classSphericalPoint.html#a19947f00dcf804b181b2b297e7f3ed90" title="Return the area of the region in steradians.">getArea</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> 0.;}
<a name="l00662"></a><a class="code" href="classSphericalPoint.html#a3f3d523021a5a33664df1ce7762c825b">00662</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalPoint.html#a3f3d523021a5a33664df1ce7762c825b" title="Return true if the region is empty.">isEmpty</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00663"></a><a class="code" href="classSphericalPoint.html#ae9880ac26766632b3166746a70d1a538">00663</a>     <span class="keyword">virtual</span> <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classSphericalPoint.html#ae9880ac26766632b3166746a70d1a538" title="Return a point located inside the region.">getPointInside</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>;}
<a name="l00664"></a><a class="code" href="classSphericalPoint.html#aca9076a3b6451fbd725006212e6e3221">00664</a>     <span class="keyword">virtual</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classSphericalPoint.html#aca9076a3b6451fbd725006212e6e3221" title="Return a bounding SphericalCap.">getBoundingCap</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>(<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>, 1);}
<a name="l00667"></a>00667     <span class="keyword">virtual</span> QVariantList <a class="code" href="classSphericalPoint.html#ae17aac7c7ae0ad2a15e9e4e5c630f096" title="Serialize the region into a QVariant map matching the JSON format.">toQVariant</a>() <span class="keyword">const</span>;
<a name="l00668"></a><a class="code" href="classSphericalPoint.html#adefd011f3fe70ae7d5ea3491313d3407">00668</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalPoint.html#adefd011f3fe70ae7d5ea3491313d3407" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp; out)<span class="keyword"> const </span>{out &lt;&lt; <a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>;}
<a name="l00669"></a>00669 
<a name="l00670"></a>00670     <span class="comment">// Contain and intersect</span>
<a name="l00671"></a>00671     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>==p;}
<a name="l00672"></a>00672     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00673"></a>00673     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00674"></a>00674     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00675"></a>00675     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>==r.<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>;}
<a name="l00676"></a>00676     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00677"></a>00677     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp;) <span class="keyword">const</span>;
<a name="l00678"></a>00678     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp;) <span class="keyword">const</span>;
<a name="l00679"></a>00679     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> r.contains(<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>);}
<a name="l00680"></a>00680     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>==r.<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>;}
<a name="l00681"></a>00681     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00682"></a>00682 
<a name="l00684"></a>00684     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalPoint.html#ac0951f1df12fa49ec6fd575849972b5b" title="Deserialize the region. This method must allow as fast as possible deserialization...">deserialize</a>(QDataStream&amp; in);
<a name="l00685"></a>00685 
<a name="l00687"></a><a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82">00687</a>     <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>;
<a name="l00688"></a>00688 };
<a name="l00689"></a>00689 
<a name="l00692"></a><a class="code" href="classAllSkySphericalRegion.html">00692</a> <span class="keyword">class </span><a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a> : <span class="keyword">public</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>
<a name="l00693"></a>00693 {
<a name="l00694"></a>00694 <span class="keyword">public</span>:
<a name="l00695"></a>00695     <span class="keyword">virtual</span> ~<a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>() {;}
<a name="l00696"></a>00696 
<a name="l00697"></a>00697     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a> getType()<span class="keyword"> const </span>{<span class="keywordflow">return</span> SphericalRegion::AllSky;}
<a name="l00698"></a><a class="code" href="classAllSkySphericalRegion.html#afd91b03480d0cbe8b9e24fac627b6e5f">00698</a>     <span class="keyword">virtual</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> <a class="code" href="classAllSkySphericalRegion.html#afd91b03480d0cbe8b9e24fac627b6e5f" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>()<span class="keyword"> const </span>
<a name="l00699"></a>00699 <span class="keyword">    </span>{
<a name="l00700"></a>00700         <span class="keywordflow">return</span> OctahedronPolygon::getAllSkyOctahedronPolygon();
<a name="l00701"></a>00701     }
<a name="l00702"></a><a class="code" href="classAllSkySphericalRegion.html#a569158c51aec3967830ca9354b0e4f3c">00702</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classAllSkySphericalRegion.html#a569158c51aec3967830ca9354b0e4f3c" title="Return the area of the region in steradians.">getArea</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> 4.*M_PI;}
<a name="l00703"></a><a class="code" href="classAllSkySphericalRegion.html#a740fade6d7437ca507dd83aa597d58f1">00703</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classAllSkySphericalRegion.html#a740fade6d7437ca507dd83aa597d58f1" title="Return true if the region is empty.">isEmpty</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00704"></a><a class="code" href="classAllSkySphericalRegion.html#ab56382a9fe17baeac3901444b98f5928">00704</a>     <span class="keyword">virtual</span> <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classAllSkySphericalRegion.html#ab56382a9fe17baeac3901444b98f5928" title="Return a point located inside the region.">getPointInside</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classVector3.html">Vec3d</a>(1,0,0);}
<a name="l00705"></a><a class="code" href="classAllSkySphericalRegion.html#a02a304bf895f40bc2dc6549967be4e11">00705</a>     <span class="keyword">virtual</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classAllSkySphericalRegion.html#a02a304bf895f40bc2dc6549967be4e11" title="Return a bounding SphericalCap.">getBoundingCap</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>(<a class="code" href="classVector3.html">Vec3d</a>(1,0,0), -2);}
<a name="l00708"></a>00708     <span class="keyword">virtual</span> QVariantList <a class="code" href="classAllSkySphericalRegion.html#afd555aac64bd892ed9f91c32013e4e17" title="Serialize the region into a QVariant map matching the JSON format.">toQVariant</a>() <span class="keyword">const</span>;
<a name="l00709"></a><a class="code" href="classAllSkySphericalRegion.html#af34de593066e87e48703fe68aa8ff848">00709</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classAllSkySphericalRegion.html#af34de593066e87e48703fe68aa8ff848" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp;)<span class="keyword"> const </span>{;}
<a name="l00710"></a>00710 
<a name="l00711"></a>00711     <span class="comment">// Contain and intersect</span>
<a name="l00712"></a>00712     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00713"></a>00713     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00714"></a>00714     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00715"></a>00715     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00716"></a>00716     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00717"></a>00717     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00718"></a>00718     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00719"></a>00719     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00720"></a>00720     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00721"></a>00721     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00722"></a>00722     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00723"></a>00723 
<a name="l00724"></a>00724     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> staticInstance;
<a name="l00725"></a>00725 };
<a name="l00726"></a>00726 
<a name="l00729"></a><a class="code" href="classEmptySphericalRegion.html">00729</a> <span class="keyword">class </span><a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a> : <span class="keyword">public</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>
<a name="l00730"></a>00730 {
<a name="l00731"></a>00731 <span class="keyword">public</span>:
<a name="l00732"></a>00732     <span class="comment">// Avoid name hiding when overloading the virtual methods.</span>
<a name="l00733"></a>00733     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">SphericalRegion::intersects</a>;
<a name="l00734"></a>00734     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">SphericalRegion::contains</a>;
<a name="l00735"></a>00735     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">SphericalRegion::getIntersection</a>;
<a name="l00736"></a>00736     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">SphericalRegion::getUnion</a>;
<a name="l00737"></a>00737     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">SphericalRegion::getSubtraction</a>;
<a name="l00738"></a>00738 
<a name="l00739"></a>00739     <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>() {;}
<a name="l00740"></a>00740     <span class="keyword">virtual</span> ~<a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>() {;}
<a name="l00741"></a>00741 
<a name="l00742"></a>00742     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a> getType()<span class="keyword"> const </span>{<span class="keywordflow">return</span> SphericalRegion::Empty;}
<a name="l00743"></a><a class="code" href="classEmptySphericalRegion.html#aeea4632c114769fd42afd193944472cf">00743</a>     <span class="keyword">virtual</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> <a class="code" href="classEmptySphericalRegion.html#aeea4632c114769fd42afd193944472cf" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>()<span class="keyword"> const </span>
<a name="l00744"></a>00744 <span class="keyword">    </span>{
<a name="l00745"></a>00745         <span class="keywordflow">return</span> OctahedronPolygon::getEmptyOctahedronPolygon();
<a name="l00746"></a>00746     }
<a name="l00747"></a><a class="code" href="classEmptySphericalRegion.html#adfc4da958020a33e638e14f17ac0dd10">00747</a>     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classEmptySphericalRegion.html#adfc4da958020a33e638e14f17ac0dd10" title="Return the area of the region in steradians.">getArea</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> 0.;}
<a name="l00748"></a><a class="code" href="classEmptySphericalRegion.html#ae8b19a3f135ffc21dfd75bb4738af7ad">00748</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classEmptySphericalRegion.html#ae8b19a3f135ffc21dfd75bb4738af7ad" title="Return true if the region is empty.">isEmpty</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00749"></a><a class="code" href="classEmptySphericalRegion.html#a8da8f32f485a5e7a1003d5d1505d4bad">00749</a>     <span class="keyword">virtual</span> <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classEmptySphericalRegion.html#a8da8f32f485a5e7a1003d5d1505d4bad" title="Return a point located inside the region.">getPointInside</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classVector3.html">Vec3d</a>(1,0,0);}
<a name="l00750"></a><a class="code" href="classEmptySphericalRegion.html#ad1938a0ed2c16d70da5c5ce720532fdd">00750</a>     <span class="keyword">virtual</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classEmptySphericalRegion.html#ad1938a0ed2c16d70da5c5ce720532fdd" title="Return a bounding SphericalCap.">getBoundingCap</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>(<a class="code" href="classVector3.html">Vec3d</a>(1,0,0), 2);}
<a name="l00753"></a>00753     <span class="keyword">virtual</span> QVariantList <a class="code" href="classEmptySphericalRegion.html#ae3bc2fc62644f05f6e81b3d67bdbc998" title="Serialize the region into a QVariant map matching the JSON format.">toQVariant</a>() <span class="keyword">const</span>;
<a name="l00754"></a><a class="code" href="classEmptySphericalRegion.html#a468e061c120583cd0b8663d4a2f92138">00754</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classEmptySphericalRegion.html#a468e061c120583cd0b8663d4a2f92138" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp;)<span class="keyword"> const </span>{;}
<a name="l00755"></a>00755 
<a name="l00756"></a>00756     <span class="comment">// Contain and intersect</span>
<a name="l00757"></a>00757     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00758"></a>00758     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00759"></a>00759     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00760"></a>00760     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00761"></a>00761     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00762"></a>00762     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00763"></a>00763     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00764"></a>00764     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00765"></a>00765     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00766"></a>00766     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00767"></a>00767     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00768"></a>00768 
<a name="l00769"></a>00769     <span class="keyword">static</span> <span class="keyword">const</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> staticInstance;
<a name="l00770"></a>00770 };
<a name="l00771"></a>00771 
<a name="l00772"></a>00772 
<a name="l00776"></a><a class="code" href="classSphericalPolygon.html">00776</a> <span class="keyword">class </span><a class="code" href="classSphericalPolygon.html">SphericalPolygon</a> : <span class="keyword">public</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>
<a name="l00777"></a>00777 {
<a name="l00778"></a>00778 <span class="keyword">public</span>:
<a name="l00779"></a>00779     <span class="comment">// Avoid name hiding when overloading the virtual methods.</span>
<a name="l00780"></a>00780     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">SphericalRegion::intersects</a>;
<a name="l00781"></a>00781     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">SphericalRegion::contains</a>;
<a name="l00782"></a>00782     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#a1e7d5a165cdf526e881fe0ad576cbe6f" title="Return a new SphericalRegion consisting of the intersection of this and the given...">SphericalRegion::getIntersection</a>;
<a name="l00783"></a>00783     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#abbe2b6762c059483799c65152684c847" title="Return a new SphericalRegion consisting of the union of this and the given region...">SphericalRegion::getUnion</a>;
<a name="l00784"></a>00784     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#a858389275f9f5f785e56c212ff4400c0" title="Return a new SphericalRegion consisting of the subtraction of the given region from...">SphericalRegion::getSubtraction</a>;
<a name="l00785"></a>00785 
<a name="l00786"></a>00786     <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>() {;}
<a name="l00788"></a><a class="code" href="classSphericalPolygon.html#acbbedf2e9133c0ebfc38260d7be5538f">00788</a>     <a class="code" href="classSphericalPolygon.html#acbbedf2e9133c0ebfc38260d7be5538f" title="Constructor from a list of contours.">SphericalPolygon</a>(<span class="keyword">const</span> QVector&lt;QVector&lt;Vec3d&gt; &gt;&amp; contours) : octahedronPolygon(contours) {;}
<a name="l00790"></a><a class="code" href="classSphericalPolygon.html#a0def0a190f994bb7a76b856a4de3a985">00790</a>     <a class="code" href="classSphericalPolygon.html#a0def0a190f994bb7a76b856a4de3a985" title="Constructor from one contour.">SphericalPolygon</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; contour) : octahedronPolygon(contour) {;}
<a name="l00791"></a>00791     <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>(<span class="keyword">const</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a>&amp; octContour) : octahedronPolygon(octContour) {;}
<a name="l00792"></a>00792     <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>(<span class="keyword">const</span> QList&lt;OctahedronPolygon&gt;&amp; octContours) : octahedronPolygon(octContours) {;}
<a name="l00793"></a>00793 
<a name="l00794"></a>00794     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a> getType()<span class="keyword"> const </span>{<span class="keywordflow">return</span> SphericalRegion::Polygon;}
<a name="l00795"></a><a class="code" href="classSphericalPolygon.html#a74b5c4612bc14910b6c1a6403d2b83a9">00795</a>     <span class="keyword">virtual</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> <a class="code" href="classSphericalPolygon.html#a74b5c4612bc14910b6c1a6403d2b83a9" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>()<span class="keyword"> const </span>
<a name="l00796"></a>00796 <span class="keyword">    </span>{
<a name="l00797"></a>00797         <span class="keywordflow">return</span> octahedronPolygon;
<a name="l00798"></a>00798     }
<a name="l00799"></a>00799 
<a name="l00804"></a>00804     <span class="keyword">virtual</span> QVariantList <a class="code" href="classSphericalPolygon.html#a327ceb78540dbd0ccf41490948efcb60" title="Serialize the region into a QVariant map matching the JSON format.">toQVariant</a>() <span class="keyword">const</span>;
<a name="l00805"></a>00805     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalPolygon.html#a50fd1acf33a4916ba13eab8af0991be6" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp; out) <span class="keyword">const</span>;
<a name="l00806"></a>00806 
<a name="l00807"></a>00807     <span class="keyword">virtual</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classSphericalPolygon.html#a4109b0e3f63e314c7b4cab45248900a9" title="Return a bounding SphericalCap.">getBoundingCap</a>() <span class="keyword">const</span>;
<a name="l00808"></a>00808 
<a name="l00809"></a>00809     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p)<span class="keyword"> const </span>{<span class="keywordflow">return</span> octahedronPolygon.contains(p);}
<a name="l00810"></a>00810     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> octahedronPolygon.contains(r.octahedronPolygon);}
<a name="l00811"></a>00811     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00812"></a>00812     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> octahedronPolygon.contains(r.<a class="code" href="classSphericalCap.html#a46b4774f348e0d0bb3ca4d271459b3f4" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>());}
<a name="l00813"></a>00813     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> octahedronPolygon.contains(r.<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>);}
<a name="l00814"></a>00814     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> octahedronPolygon.contains(r.<a class="code" href="classAllSkySphericalRegion.html#afd91b03480d0cbe8b9e24fac627b6e5f" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>());}
<a name="l00815"></a>00815 
<a name="l00816"></a>00816     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> octahedronPolygon.intersects(r.octahedronPolygon);}
<a name="l00817"></a>00817     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00818"></a>00818     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> r.intersects(*<span class="keyword">this</span>);}
<a name="l00819"></a>00819     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> octahedronPolygon.contains(r.<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>);}
<a name="l00820"></a>00820     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> !<a class="code" href="classSphericalRegion.html#ae93ecc2b8a71d58a3d23e80e7400c109" title="Return true if the region is empty.">isEmpty</a>();}
<a name="l00821"></a>00821 
<a name="l00822"></a>00822     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getIntersection(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> contains(r.<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>) ? <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">new</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>(r)) : <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>::staticInstance;}
<a name="l00823"></a>00823     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getIntersection(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp; )<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">new</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>(octahedronPolygon));}
<a name="l00824"></a>00824 
<a name="l00825"></a>00825     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getUnion(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">new</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>(octahedronPolygon));}
<a name="l00826"></a>00826     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getUnion(<span class="keyword">const</span> <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">new</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>(octahedronPolygon));}
<a name="l00827"></a>00827 
<a name="l00828"></a>00828     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getSubtraction(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">new</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>(octahedronPolygon));}
<a name="l00829"></a>00829     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> getSubtraction(<span class="keyword">const</span> <a class="code" href="classEmptySphericalRegion.html">EmptySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a>(<span class="keyword">new</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>(octahedronPolygon));}
<a name="l00830"></a>00830 
<a name="l00832"></a>00832     <span class="comment">// Methods specific to SphericalPolygon</span>
<a name="l00836"></a><a class="code" href="classSphericalPolygon.html#af37f4fe54797cba8340d8fd53b96ac7a">00836</a> <span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classSphericalPolygon.html#af37f4fe54797cba8340d8fd53b96ac7a" title="Set the contours defining the SphericalPolygon.">setContours</a>(<span class="keyword">const</span> QVector&lt;QVector&lt;Vec3d&gt; &gt;&amp; contours) 
<a name="l00837"></a>00837     {
<a name="l00838"></a>00838         octahedronPolygon = <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a>(contours);
<a name="l00839"></a>00839     }
<a name="l00840"></a>00840 
<a name="l00843"></a><a class="code" href="classSphericalPolygon.html#af35743fc89ac37600662c8a50d1fff92">00843</a>     <span class="keywordtype">void</span> <a class="code" href="classSphericalPolygon.html#af35743fc89ac37600662c8a50d1fff92" title="Set a single contour defining the SphericalPolygon.">setContour</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; contour) 
<a name="l00844"></a>00844     {
<a name="l00845"></a>00845         octahedronPolygon = <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a>(contour);
<a name="l00846"></a>00846     }
<a name="l00847"></a>00847 
<a name="l00849"></a><a class="code" href="classSphericalPolygon.html#ac2c1a149d0a281edec98837014f4604d">00849</a>     QVector&lt;QVector&lt;Vec3d&gt; &gt; <a class="code" href="classSphericalPolygon.html#ac2c1a149d0a281edec98837014f4604d" title="Return the list of closed contours defining the polygon boundaries.">getClosedOutlineContours</a>()<span class="keyword"> const </span>{Q_ASSERT(0); <span class="keywordflow">return</span> QVector&lt;QVector&lt;Vec3d&gt; &gt;();}
<a name="l00850"></a>00850 
<a name="l00852"></a>00852     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalPolygon.html#add8d3885f79086dd45d811fc13e4b934" title="Deserialize the region. This method must allow as fast as possible deserialization...">deserialize</a>(QDataStream&amp; in);
<a name="l00853"></a>00853 
<a name="l00855"></a>00855     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalPolygon.html#ac3022cfa54aad59e2a889051ab1c0c42" title="Create a new SphericalRegionP which is the union of all the passed ones.">multiUnion</a>(<span class="keyword">const</span> QList&lt;SphericalRegionP&gt;&amp; regions, <span class="keywordtype">bool</span> optimizeByPreGrouping=<span class="keyword">false</span>);
<a name="l00856"></a>00856     
<a name="l00858"></a>00858     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalPolygon.html#aecebcc5dbbe9ba16cd1035dfd8e65572" title="Create a new SphericalRegionP which is the intersection of all the passed ones.">multiIntersection</a>(<span class="keyword">const</span> QList&lt;SphericalRegionP&gt;&amp; regions);
<a name="l00859"></a>00859 
<a name="l00860"></a>00860 <span class="keyword">private</span>:
<a name="l00861"></a>00861     <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> octahedronPolygon;
<a name="l00862"></a>00862 };
<a name="l00863"></a>00863 
<a name="l00864"></a>00864 
<a name="l00867"></a><a class="code" href="classSphericalConvexPolygon.html">00867</a> <span class="keyword">class </span><a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a> : <span class="keyword">public</span> <a class="code" href="classSphericalRegion.html" title="Abstract class defining a region of the sphere.">SphericalRegion</a>
<a name="l00868"></a>00868 {
<a name="l00869"></a>00869 <span class="keyword">public</span>:
<a name="l00870"></a>00870     <span class="comment">// Avoid name hiding when overloading the virtual methods.</span>
<a name="l00871"></a>00871     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#aad8cd7ee1b5fecf192ebcce3f247839a" title="Returns whether a SphericalRegion intersects with this region.">SphericalRegion::intersects</a>;
<a name="l00872"></a>00872     <span class="keyword">using</span> <a class="code" href="classSphericalRegion.html#aea4b03f16f5f5f8ceb7386924d55ade9" title="Returns whether a SphericalRegion is contained into this region.">SphericalRegion::contains</a>;
<a name="l00873"></a>00873 
<a name="l00875"></a><a class="code" href="classSphericalConvexPolygon.html#acabc582644d83fa6c4cced0322c373b7">00875</a>     <a class="code" href="classSphericalConvexPolygon.html#acabc582644d83fa6c4cced0322c373b7" title="Default constructor.">SphericalConvexPolygon</a>() {;}
<a name="l00876"></a>00876 
<a name="l00878"></a><a class="code" href="classSphericalConvexPolygon.html#a9570b2c18fd2d14cddb8564ed67db8e2">00878</a>     <a class="code" href="classSphericalConvexPolygon.html#acabc582644d83fa6c4cced0322c373b7" title="Default constructor.">SphericalConvexPolygon</a>(<span class="keyword">const</span> QVector&lt;QVector&lt;Vec3d&gt; &gt;&amp; contours)
<a name="l00879"></a>00879         : <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a>(true)
<a name="l00880"></a>00880     {
<a name="l00881"></a>00881         Q_ASSERT(contours.size()==1); 
<a name="l00882"></a>00882         <a class="code" href="classSphericalConvexPolygon.html#acbcfde21a0303df610d22bbe0e273ceb" title="Set a single contour defining the SphericalPolygon.">setContour</a>(contours.at(0));
<a name="l00883"></a>00883     }
<a name="l00884"></a>00884 
<a name="l00886"></a><a class="code" href="classSphericalConvexPolygon.html#af1bdb57152f0112afaa8f838f3f51f20">00886</a>     <a class="code" href="classSphericalConvexPolygon.html#acabc582644d83fa6c4cced0322c373b7" title="Default constructor.">SphericalConvexPolygon</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>) 
<a name="l00887"></a>00887         : <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a>(true)
<a name="l00888"></a>00888     {
<a name="l00889"></a>00889         <a class="code" href="classSphericalConvexPolygon.html#acbcfde21a0303df610d22bbe0e273ceb" title="Set a single contour defining the SphericalPolygon.">setContour</a>(contour);
<a name="l00890"></a>00890     }
<a name="l00891"></a>00891 
<a name="l00893"></a><a class="code" href="classSphericalConvexPolygon.html#a153283dca6639e1a158fa9b6975e1dec">00893</a>     <a class="code" href="classSphericalConvexPolygon.html#acabc582644d83fa6c4cced0322c373b7" title="Default constructor.">SphericalConvexPolygon</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e0,<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e1,<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e2) 
<a name="l00894"></a>00894         : <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a>(true)
<a name="l00895"></a>00895     {
<a name="l00896"></a>00896         <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a> &lt;&lt; e0 &lt;&lt; e1 &lt;&lt; e2; <a class="code" href="classSphericalConvexPolygon.html#aed33ef6f5c3cd211eeb143b0b80f411e" title="Update the bounding cap from the vertex list.">updateBoundingCap</a>();
<a name="l00897"></a>00897     }
<a name="l00898"></a>00898 
<a name="l00900"></a><a class="code" href="classSphericalConvexPolygon.html#a60efd442a4cbc9d4e7b7d2fbbdc0b970">00900</a>     <a class="code" href="classSphericalConvexPolygon.html#acabc582644d83fa6c4cced0322c373b7" title="Default constructor.">SphericalConvexPolygon</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e0,<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e1,<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e2, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e3)  
<a name="l00901"></a>00901         : <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a>(true)
<a name="l00902"></a>00902     {
<a name="l00903"></a>00903         <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a> &lt;&lt; e0 &lt;&lt; e1 &lt;&lt; e2 &lt;&lt; e3; <a class="code" href="classSphericalConvexPolygon.html#aed33ef6f5c3cd211eeb143b0b80f411e" title="Update the bounding cap from the vertex list.">updateBoundingCap</a>();
<a name="l00904"></a>00904     }
<a name="l00905"></a>00905 
<a name="l00906"></a>00906     <span class="keyword">virtual</span> <a class="code" href="classSphericalRegion.html#af8072451526f088ffb334fe4f9aee29d" title="define types for all supported regions.">SphericalRegionType</a> getType()<span class="keyword"> const </span>{<span class="keywordflow">return</span> SphericalRegion::ConvexPolygon;}
<a name="l00907"></a>00907 
<a name="l00908"></a><a class="code" href="classSphericalConvexPolygon.html#a76b1fc7b0aefcd7c5f5b2fca2fee4900">00908</a>     <span class="keyword">virtual</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a> <a class="code" href="classSphericalConvexPolygon.html#a76b1fc7b0aefcd7c5f5b2fca2fee4900" title="Return the octahedron contour representation of the polygon.">getOctahedronPolygon</a>()<span class="keyword"> const </span>
<a name="l00909"></a>00909 <span class="keyword">    </span>{
<a name="l00910"></a>00910         <span class="keywordflow">return</span> <a class="code" href="classOctahedronPolygon.html">OctahedronPolygon</a>(<a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>);
<a name="l00911"></a>00911     }
<a name="l00912"></a>00912 
<a name="l00913"></a><a class="code" href="classSphericalConvexPolygon.html#a4e25ccfde8fd9961057bbb81602014ab">00913</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalConvexPolygon.html#a4e25ccfde8fd9961057bbb81602014ab" title="Get a vector of vertex positions forming the region.">getFillVertexPositions</a>()<span class="keyword"> const</span>
<a name="l00914"></a>00914 <span class="keyword">    </span>{
<a name="l00915"></a>00915         <span class="keywordflow">return</span> <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>;
<a name="l00916"></a>00916     }
<a name="l00917"></a>00917 
<a name="l00918"></a><a class="code" href="classSphericalConvexPolygon.html#af8b8276073b1695ae4482000be8e6aff">00918</a>     <span class="keyword">virtual</span> PrimitiveType <a class="code" href="classSphericalConvexPolygon.html#af8b8276073b1695ae4482000be8e6aff" title="Get primitive type determining how vertices in vector returned by getFillVertexPositions()...">getFillPrimitiveType</a>()<span class="keyword"> const </span>
<a name="l00919"></a>00919 <span class="keyword">    </span>{
<a name="l00920"></a>00920         <span class="keywordflow">return</span> PrimitiveType_TriangleFan;
<a name="l00921"></a>00921     }
<a name="l00922"></a>00922 
<a name="l00923"></a><a class="code" href="classSphericalConvexPolygon.html#a3b5fe5b0b1896460a0e28b83a87aa628">00923</a>     <span class="keyword">virtual</span> <span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalConvexPolygon.html#a3b5fe5b0b1896460a0e28b83a87aa628" title="Get the outline of the contours defining the SphericalPolygon.">getOutlineVertexPositions</a>()<span class="keyword"> const </span>
<a name="l00924"></a>00924 <span class="keyword">    </span>{
<a name="l00925"></a>00925         <span class="keywordflow">return</span> <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>;
<a name="l00926"></a>00926     }
<a name="l00927"></a>00927 
<a name="l00928"></a><a class="code" href="classSphericalConvexPolygon.html#a10eeeab2fb08aaa1c3c83f962d02db57">00928</a>     <span class="keyword">virtual</span> PrimitiveType <a class="code" href="classSphericalConvexPolygon.html#a10eeeab2fb08aaa1c3c83f962d02db57" title="Get primitive type determining how vertices in vector returned by getOutlinePrimitiveType()...">getOutlinePrimitiveType</a>()<span class="keyword"> const</span>
<a name="l00929"></a>00929 <span class="keyword">    </span>{
<a name="l00930"></a>00930         <span class="keywordflow">return</span> PrimitiveType_LineLoop;
<a name="l00931"></a>00931     }
<a name="l00932"></a>00932 
<a name="l00933"></a>00933     <span class="keyword">virtual</span> <span class="keywordtype">double</span> <a class="code" href="classSphericalConvexPolygon.html#a2753b883d5421e283ab24b8f0a8e8bd6" title="Return the area of the region in steradians.">getArea</a>() <span class="keyword">const</span>;
<a name="l00934"></a><a class="code" href="classSphericalConvexPolygon.html#abdbc922aed075ff37360f2edee248588">00934</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalConvexPolygon.html#abdbc922aed075ff37360f2edee248588" title="Return true if the region is empty.">isEmpty</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>.isEmpty();}
<a name="l00935"></a>00935     <span class="keyword">virtual</span> <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="classSphericalConvexPolygon.html#a7799c94e208084f3047115b874e1cf9d" title="Return a point located inside the region.">getPointInside</a>() <span class="keyword">const</span>;
<a name="l00936"></a><a class="code" href="classSphericalConvexPolygon.html#abfe023a03008e1a12b26031c393ec2de">00936</a>     <span class="keyword">virtual</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classSphericalConvexPolygon.html#abfe023a03008e1a12b26031c393ec2de" title="Return a bounding SphericalCap.">getBoundingCap</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalConvexPolygon.html#ab03749cc50b4e9bee826a23c184c5be1" title="Cache the bounding cap.">cachedBoundingCap</a>;}
<a name="l00937"></a>00937     QVector&lt;SphericalCap&gt; <a class="code" href="classSphericalConvexPolygon.html#a10dea34d426a74ff1d7b205367ad4c27" title="Return the list of SphericalCap bounding the ConvexPolygon.">getBoundingSphericalCaps</a>() <span class="keyword">const</span>;
<a name="l00942"></a>00942     <span class="keyword">virtual</span> QVariantList <a class="code" href="classSphericalConvexPolygon.html#ad8e355939fa2338b7e96f49e1869e878" title="Serialize the region into a QVariant map matching the JSON format.">toQVariant</a>() <span class="keyword">const</span>;
<a name="l00943"></a><a class="code" href="classSphericalConvexPolygon.html#aeb511aba860c18d96952b626388e4fcf">00943</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalConvexPolygon.html#aeb511aba860c18d96952b626388e4fcf" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp; out)<span class="keyword"> const </span>{out &lt;&lt; <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>;}
<a name="l00944"></a>00944 
<a name="l00945"></a>00945     <span class="comment">// Contain and intersect</span>
<a name="l00946"></a>00946     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p) <span class="keyword">const</span>;
<a name="l00947"></a>00947     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00948"></a>00948     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00949"></a>00949     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r) <span class="keyword">const</span>;
<a name="l00950"></a>00950     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> contains(r.<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>);}
<a name="l00951"></a>00951     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> contains(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">false</span>;}
<a name="l00952"></a>00952     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">if</span> (!<a class="code" href="classSphericalConvexPolygon.html#ab03749cc50b4e9bee826a23c184c5be1" title="Cache the bounding cap.">cachedBoundingCap</a>.intersects(r)) <span class="keywordflow">return</span> <span class="keyword">false</span>; <span class="keywordflow">return</span> r.intersects(*<span class="keyword">this</span>);}
<a name="l00953"></a>00953     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPolygon.html">SphericalPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00954"></a>00954     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>&amp; r) <span class="keyword">const</span>;
<a name="l00955"></a>00955     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classSphericalPoint.html" title="Special SphericalRegion for a point on the sphere.">SphericalPoint</a>&amp; r)<span class="keyword"> const </span>{<span class="keywordflow">return</span> contains(r.<a class="code" href="classSphericalPoint.html#a4f2d45a495c8e5b85a3a6d1a92faca82" title="The unit vector of the point direction.">n</a>);}
<a name="l00956"></a>00956     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> intersects(<span class="keyword">const</span> <a class="code" href="classAllSkySphericalRegion.html" title="Special SphericalRegion for the whole sphere.">AllSkySphericalRegion</a>&amp;)<span class="keyword"> const </span>{<span class="keywordflow">return</span> <span class="keyword">true</span>;}
<a name="l00957"></a>00957 
<a name="l00959"></a>00959 <span class="comment">//  virtual SphericalRegionP getIntersection(const SphericalPolygon&amp; r) const;</span>
<a name="l00960"></a>00960 <span class="comment">//  virtual SphericalRegionP getIntersection(const SphericalConvexPolygon&amp; r) const;</span>
<a name="l00961"></a>00961 <span class="comment">//  virtual SphericalRegionP getIntersection(const SphericalCap&amp; r) const;</span>
<a name="l00962"></a>00962 <span class="comment">//  virtual SphericalRegionP getIntersection(const SphericalPoint&amp; r) const;</span>
<a name="l00963"></a>00963 <span class="comment">//  virtual SphericalRegionP getIntersection(const AllSkySphericalRegion&amp; r) const;</span>
<a name="l00964"></a>00964 <span class="comment">//  virtual SphericalRegionP getUnion(const SphericalPolygon&amp; r) const;</span>
<a name="l00965"></a>00965 <span class="comment">//  virtual SphericalRegionP getUnion(const SphericalConvexPolygon&amp; r) const;</span>
<a name="l00966"></a>00966 <span class="comment">//  virtual SphericalRegionP getUnion(const SphericalCap&amp; r) const;</span>
<a name="l00967"></a>00967 <span class="comment">//  virtual SphericalRegionP getUnion(const SphericalPoint&amp; r) const;</span>
<a name="l00968"></a>00968 <span class="comment">//  virtual SphericalRegionP getUnion(const EmptySphericalRegion&amp; r) const;</span>
<a name="l00969"></a>00969 <span class="comment">//  virtual SphericalRegionP getSubtraction(const SphericalPolygon&amp; r) const;</span>
<a name="l00970"></a>00970 <span class="comment">//  virtual SphericalRegionP getSubtraction(const SphericalConvexPolygon&amp; r) const;</span>
<a name="l00971"></a>00971 <span class="comment">//  virtual SphericalRegionP getSubtraction(const SphericalCap&amp; r) const;</span>
<a name="l00972"></a>00972 <span class="comment">//  virtual SphericalRegionP getSubtraction(const SphericalPoint&amp; r) const;</span>
<a name="l00973"></a>00973 <span class="comment">//  virtual SphericalRegionP getSubtraction(const EmptySphericalRegion&amp; r) const;</span>
<a name="l00974"></a>00974 
<a name="l00976"></a>00976     <span class="comment">// Methods specific to SphericalConvexPolygon</span>
<a name="l00980"></a><a class="code" href="classSphericalConvexPolygon.html#acbcfde21a0303df610d22bbe0e273ceb">00980</a> <span class="comment"></span>    <span class="keywordtype">void</span> <a class="code" href="classSphericalConvexPolygon.html#acbcfde21a0303df610d22bbe0e273ceb" title="Set a single contour defining the SphericalPolygon.">setContour</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; acontour) 
<a name="l00981"></a>00981     {
<a name="l00982"></a>00982         <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a> = acontour;
<a name="l00983"></a>00983         <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a> = <span class="keyword">true</span>;
<a name="l00984"></a>00984         <a class="code" href="classSphericalConvexPolygon.html#aed33ef6f5c3cd211eeb143b0b80f411e" title="Update the bounding cap from the vertex list.">updateBoundingCap</a>();
<a name="l00985"></a>00985     }
<a name="l00986"></a>00986 
<a name="l00988"></a><a class="code" href="classSphericalConvexPolygon.html#adb7d1cf191eb4fcb782ebd92fbd54a36">00988</a>     <span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalConvexPolygon.html#adb7d1cf191eb4fcb782ebd92fbd54a36" title="Get the single contour defining the SphericalConvexPolygon.">getConvexContour</a>()<span class="keyword"> const </span>{<span class="keywordflow">return</span> <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>;}
<a name="l00989"></a>00989 
<a name="l00991"></a>00991     <span class="keywordtype">bool</span> <a class="code" href="classSphericalConvexPolygon.html#ac23cec90669b039a786b12c04b0c1a3a" title="Check if the polygon is valid, i.e. it has no side &amp;gt;180.">checkValid</a>() <span class="keyword">const</span>;
<a name="l00992"></a>00992 
<a name="l00994"></a>00994     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalConvexPolygon.html#aa198942828286fed9013a111c3d5c3cf" title="Check if the passed contour is convex and valid, i.e. it has no side &amp;gt;180.">checkValidContour</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>);
<a name="l00995"></a>00995 
<a name="l00997"></a>00997     <span class="keyword">static</span> <a class="code" href="classSphericalRegionP.html" title="A shared pointer on a SphericalRegion.">SphericalRegionP</a> <a class="code" href="classSphericalConvexPolygon.html#a81af266616c8f691d6154389f9c3983a" title="Deserialize the region. This method must allow as fast as possible deserialization...">deserialize</a>(QDataStream&amp; in);
<a name="l00998"></a>00998 
<a name="l00999"></a>00999 <span class="keyword">protected</span>:
<a name="l01001"></a><a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae">01001</a>     QVector&lt;Vec3d&gt; <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>;
<a name="l01002"></a>01002 
<a name="l01004"></a><a class="code" href="classSphericalConvexPolygon.html#ab03749cc50b4e9bee826a23c184c5be1">01004</a>     <a class="code" href="classSphericalCap.html" title="A SphericalCap is defined by a direction and an aperture.">SphericalCap</a> <a class="code" href="classSphericalConvexPolygon.html#ab03749cc50b4e9bee826a23c184c5be1" title="Cache the bounding cap.">cachedBoundingCap</a>;
<a name="l01005"></a>01005 
<a name="l01007"></a><a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22">01007</a>     <span class="keywordtype">bool</span> <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a>;
<a name="l01008"></a>01008 
<a name="l01010"></a>01010     <span class="keywordtype">void</span> <a class="code" href="classSphericalConvexPolygon.html#aed33ef6f5c3cd211eeb143b0b80f411e" title="Update the bounding cap from the vertex list.">updateBoundingCap</a>();
<a name="l01011"></a>01011 
<a name="l01012"></a>01012     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalConvexPolygon.html#a7c2b65093aaa654752b8825ba9f6182d" title="Update the vertex buffer used by drawFill().">updateFillVertexBuffer</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">const</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>&amp; params, <span class="keywordtype">bool</span> handleDiscontinuity);
<a name="l01013"></a>01013 
<a name="l01014"></a>01014     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalConvexPolygon.html#a5cdedc8955e8c10551bf0d1e3ab18086" title="Drawing part of drawFill() - assumes the buffer/s is/are generated.">drawFillVertexBuffer</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">class</span> <a class="code" href="classStelProjector.html" title="Provide the main interface to all operations of projecting coordinates from sky to...">StelProjector</a>* projector);
<a name="l01015"></a>01015 
<a name="l01016"></a><a class="code" href="classSphericalConvexPolygon.html#a2c3e6d4118a93891166ceef64e96fd90">01016</a>     <span class="keyword">virtual</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalConvexPolygon.html#a2c3e6d4118a93891166ceef64e96fd90" title="Do we need to update vertex buffer/s used by drawFill()?">needToUpdateFillVertexBuffers</a>()<span class="keyword"> const</span>
<a name="l01017"></a>01017 <span class="keyword">    </span>{
<a name="l01018"></a>01018         <span class="keywordflow">return</span> <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a>;
<a name="l01019"></a>01019     }
<a name="l01020"></a>01020 
<a name="l01021"></a><a class="code" href="classSphericalConvexPolygon.html#ac363a62a41e695fec44a7eeff060aaae">01021</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalConvexPolygon.html#ac363a62a41e695fec44a7eeff060aaae" title="Called after updating vertex buffer/s used by drawFill().">fillVertexBuffersUpdated</a>()
<a name="l01022"></a>01022     {
<a name="l01023"></a>01023         <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a> = <span class="keyword">false</span>;
<a name="l01024"></a>01024     }
<a name="l01025"></a>01025 
<a name="l01031"></a>01031     <span class="keyword">static</span> <span class="keywordtype">bool</span> <a class="code" href="classSphericalConvexPolygon.html#ade037e3e531465f9c8b33f033331e7d3" title="Computes whether the passed points are all outside of at least one SphericalCap defining...">areAllPointsOutsideOneSide</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>* thisContour, <span class="keywordtype">int</span> nbThisContour, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>* points, <span class="keywordtype">int</span> nbPoints);
<a name="l01032"></a>01032 
<a name="l01034"></a><a class="code" href="classSphericalConvexPolygon.html#a3b3465b3c396e73cfa93d499f467e202">01034</a>     <span class="keywordtype">bool</span> <a class="code" href="classSphericalConvexPolygon.html#ade037e3e531465f9c8b33f033331e7d3" title="Computes whether the passed points are all outside of at least one SphericalCap defining...">areAllPointsOutsideOneSide</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; points)<span class="keyword"> const</span>
<a name="l01035"></a>01035 <span class="keyword">    </span>{
<a name="l01036"></a>01036         <span class="keywordflow">return</span> <a class="code" href="classSphericalConvexPolygon.html#ade037e3e531465f9c8b33f033331e7d3" title="Computes whether the passed points are all outside of at least one SphericalCap defining...">areAllPointsOutsideOneSide</a>(<a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>.constData(), <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>.size(), points.constData(), points.size());
<a name="l01037"></a>01037     }
<a name="l01038"></a>01038 
<a name="l01039"></a>01039     <span class="keywordtype">bool</span> containsConvexContour(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>* vertice, <span class="keywordtype">int</span> nbVertex) <span class="keyword">const</span>;
<a name="l01040"></a>01040 };
<a name="l01041"></a>01041 
<a name="l01042"></a>01042 
<a name="l01045"></a>01045 <span class="comment">//class SphericalConvexPolygonSet : public SphericalRegion</span>
<a name="l01046"></a>01046 <span class="comment">//{</span>
<a name="l01047"></a>01047 <span class="comment">//public:</span>
<a name="l01048"></a>01048 <span class="comment">//  // Avoid name hiding when overloading the virtual methods.</span>
<a name="l01049"></a>01049 <span class="comment">//  using SphericalRegion::intersects;</span>
<a name="l01050"></a>01050 <span class="comment">//  using SphericalRegion::contains;</span>
<a name="l01051"></a>01051 <span class="comment">//</span>
<a name="l01052"></a>01052 <span class="comment">//  //! Default constructor.</span>
<a name="l01053"></a>01053 <span class="comment">//  SphericalConvexPolygonSet() {;}</span>
<a name="l01054"></a>01054 <span class="comment">//</span>
<a name="l01055"></a>01055 <span class="comment">//  //! Constructor from a list of contours.</span>
<a name="l01056"></a>01056 <span class="comment">//  SphericalConvexPolygonSet(const QVector&lt;QVector&lt;Vec3d&gt; &gt;&amp; contours);</span>
<a name="l01057"></a>01057 <span class="comment">//</span>
<a name="l01058"></a>01058 <span class="comment">//  virtual SphericalRegionType getType() const {return SphericalRegion::ConvexPolygonSet;}</span>
<a name="l01059"></a>01059 <span class="comment">//  virtual OctahedronPolygon getOctahedronPolygon() const;</span>
<a name="l01060"></a>01060 <span class="comment">//  virtual StelVertexArray getFillVertexArray() const;</span>
<a name="l01061"></a>01061 <span class="comment">//  virtual StelVertexArray getOutlineVertexArray() const;</span>
<a name="l01062"></a>01062 <span class="comment">//  virtual double getArea() const;</span>
<a name="l01063"></a>01063 <span class="comment">//  virtual bool isEmpty() const;</span>
<a name="l01064"></a>01064 <span class="comment">//  virtual Vec3d getPointInside() const;</span>
<a name="l01065"></a>01065 <span class="comment">//  virtual SphericalCap getBoundingCap() const {return cachedBoundingCap;}</span>
<a name="l01066"></a>01066 <span class="comment">//  QVector&lt;SphericalCap&gt; getBoundingSphericalCaps() const;</span>
<a name="l01067"></a>01067 <span class="comment">//  //! Serialize the region into a QVariant map matching the JSON format.</span>
<a name="l01068"></a>01068 <span class="comment">//  //! The format is</span>
<a name="l01069"></a>01069 <span class="comment">//  //! @code[&quot;CONVEX_POLYGON_SET&quot;, [[ra,dec], [ra,dec], [ra,dec], [ra,dec]], [[ra,dec], [ra,dec], [ra,dec], [ra,dec]]]@endcode</span>
<a name="l01070"></a>01070 <span class="comment">//  //! where the coords from a list of closed convex contour, with each points defined by ra dec in degree in the ICRS frame.</span>
<a name="l01071"></a>01071 <span class="comment">//  virtual QVariantList toQVariant() const;</span>
<a name="l01072"></a>01072 <span class="comment">//  virtual void serialize(QDataStream&amp; out) const;</span>
<a name="l01073"></a>01073 <span class="comment">//</span>
<a name="l01074"></a>01074 <span class="comment">//  // Contain and intersect</span>
<a name="l01075"></a>01075 <span class="comment">//  virtual bool contains(const Vec3d&amp; p) const;</span>
<a name="l01076"></a>01076 <span class="comment">//  virtual bool contains(const SphericalPolygon&amp; r) const;</span>
<a name="l01077"></a>01077 <span class="comment">//  virtual bool contains(const SphericalConvexPolygon&amp; r) const;</span>
<a name="l01078"></a>01078 <span class="comment">//  virtual bool contains(const SphericalCap&amp; r) const;</span>
<a name="l01079"></a>01079 <span class="comment">//  virtual bool contains(const SphericalPoint&amp; r) const {return contains(r.n);}</span>
<a name="l01080"></a>01080 <span class="comment">//  virtual bool contains(const AllSkySphericalRegion&amp;) const {return false;}</span>
<a name="l01081"></a>01081 <span class="comment">//  virtual bool intersects(const SphericalCap&amp; r) const {if (!cachedBoundingCap.intersects(r)) return false; return r.intersects(*this);}</span>
<a name="l01082"></a>01082 <span class="comment">//  virtual bool intersects(const SphericalPolygon&amp; r) const;</span>
<a name="l01083"></a>01083 <span class="comment">//  virtual bool intersects(const SphericalConvexPolygon&amp; r) const;</span>
<a name="l01084"></a>01084 <span class="comment">//  virtual bool intersects(const SphericalPoint&amp; r) const {return contains(r.n);}</span>
<a name="l01085"></a>01085 <span class="comment">//  virtual bool intersects(const AllSkySphericalRegion&amp;) const {return true;}</span>
<a name="l01086"></a>01086 <span class="comment">//</span>
<a name="l01087"></a>01087 <span class="comment">//  ////////////////////////////////////////////////////////////////////</span>
<a name="l01088"></a>01088 <span class="comment">//  // Methods specific to SphericalConvexPolygonSet</span>
<a name="l01089"></a>01089 <span class="comment">//  ////////////////////////////////////////////////////////////////////</span>
<a name="l01090"></a>01090 <span class="comment">//  //! Deserialize the region. This method must allow as fast as possible deserialization.</span>
<a name="l01091"></a>01091 <span class="comment">//  static SphericalRegionP deserialize(QDataStream&amp; in);</span>
<a name="l01092"></a>01092 <span class="comment">//</span>
<a name="l01093"></a>01093 <span class="comment">//protected:</span>
<a name="l01094"></a>01094 <span class="comment">//  QVector&lt;SphericalConvexPolygon&gt; contours;</span>
<a name="l01095"></a>01095 <span class="comment">//</span>
<a name="l01096"></a>01096 <span class="comment">//  //! Cache the bounding cap.</span>
<a name="l01097"></a>01097 <span class="comment">//  SphericalCap cachedBoundingCap;</span>
<a name="l01098"></a>01098 <span class="comment">//</span>
<a name="l01099"></a>01099 <span class="comment">//  //! Update the bounding cap from the vertex list.</span>
<a name="l01100"></a>01100 <span class="comment">//  void updateBoundingCap();</span>
<a name="l01101"></a>01101 <span class="comment">//};</span>
<a name="l01102"></a>01102 
<a name="l01103"></a>01103 
<a name="l01106"></a><a class="code" href="classSphericalTexturedConvexPolygon.html">01106</a> <span class="keyword">class </span><a class="code" href="classSphericalTexturedConvexPolygon.html" title="Extension of SphericalConvexPolygon for textured polygon.">SphericalTexturedConvexPolygon</a> : <span class="keyword">public</span> <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>
<a name="l01107"></a>01107 {
<a name="l01108"></a>01108 <span class="keyword">public</span>:
<a name="l01110"></a><a class="code" href="classSphericalTexturedConvexPolygon.html#aa9bfa0c2376f6ca13c7d54f45a910819">01110</a>     <a class="code" href="classSphericalTexturedConvexPolygon.html#aa9bfa0c2376f6ca13c7d54f45a910819" title="Default constructor.">SphericalTexturedConvexPolygon</a>() : <a class="code" href="classSphericalTexturedConvexPolygon.html#a5ab815bc50bd84a8b4ba71bf7849a0c8" title="Vertex buffer used in our override of drawFill() (using vertices with texcoords)...">fillTexturedVertexBuffer</a>(NULL) 
<a name="l01111"></a>01111     {
<a name="l01112"></a>01112         <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a> = <span class="keyword">true</span>;
<a name="l01113"></a>01113     }
<a name="l01114"></a>01114 
<a name="l01116"></a><a class="code" href="classSphericalTexturedConvexPolygon.html#a44b79f4022ade70bd62066c645812aae">01116</a>     <a class="code" href="classSphericalTexturedConvexPolygon.html#aa9bfa0c2376f6ca13c7d54f45a910819" title="Default constructor.">SphericalTexturedConvexPolygon</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a>, <span class="keyword">const</span> QVector&lt;Vec2f&gt;&amp; texCoord) 
<a name="l01117"></a>01117         : <a class="code" href="classSphericalTexturedConvexPolygon.html#a5ab815bc50bd84a8b4ba71bf7849a0c8" title="Vertex buffer used in our override of drawFill() (using vertices with texcoords)...">fillTexturedVertexBuffer</a>(NULL)
<a name="l01118"></a>01118     {
<a name="l01119"></a>01119         <a class="code" href="classSphericalTexturedConvexPolygon.html#a846bbe50cc73763518a2bbadc46ffc33" title="Set a single contour defining the SphericalPolygon.">setContour</a>(contour, texCoord);
<a name="l01120"></a>01120         <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a> = <span class="keyword">true</span>;
<a name="l01121"></a>01121     }
<a name="l01122"></a>01122 
<a name="l01125"></a><a class="code" href="classSphericalTexturedConvexPolygon.html#a8cd0b41d5c57075d13fb13fcade7e9b8">01125</a>     <a class="code" href="classSphericalTexturedConvexPolygon.html#aa9bfa0c2376f6ca13c7d54f45a910819" title="Default constructor.">SphericalTexturedConvexPolygon</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e0,<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e1,<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e2, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a> &amp;e3) 
<a name="l01126"></a>01126         : <a class="code" href="classSphericalConvexPolygon.html" title="A special case of SphericalPolygon for which the polygon is convex.">SphericalConvexPolygon</a>(e0,e1,e2,e3)
<a name="l01127"></a>01127         , <a class="code" href="classSphericalTexturedConvexPolygon.html#a5ab815bc50bd84a8b4ba71bf7849a0c8" title="Vertex buffer used in our override of drawFill() (using vertices with texcoords)...">fillTexturedVertexBuffer</a>(NULL)
<a name="l01128"></a>01128     {
<a name="l01129"></a>01129         <a class="code" href="classSphericalTexturedConvexPolygon.html#a3502415f33eabb5dcc35b140cd444cee" title="A list of uv texture coordinates corresponding to the triangle vertices.">textureCoords</a> &lt;&lt; <a class="code" href="classVector2.html">Vec2f</a>(0.f, 0.f) &lt;&lt; <a class="code" href="classVector2.html">Vec2f</a>(1.f, 0.f) &lt;&lt; <a class="code" href="classVector2.html">Vec2f</a>(1.f, 1.f) &lt;&lt; <a class="code" href="classVector2.html">Vec2f</a>(0.f, 1.f);
<a name="l01130"></a>01130         <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a> = <span class="keyword">true</span>;
<a name="l01131"></a>01131     }
<a name="l01132"></a>01132 
<a name="l01133"></a>01133     <span class="keyword">virtual</span> ~<a class="code" href="classSphericalTexturedConvexPolygon.html" title="Extension of SphericalConvexPolygon for textured polygon.">SphericalTexturedConvexPolygon</a>()
<a name="l01134"></a>01134     {
<a name="l01135"></a>01135         <span class="keywordflow">if</span>(NULL != <a class="code" href="classSphericalTexturedConvexPolygon.html#a5ab815bc50bd84a8b4ba71bf7849a0c8" title="Vertex buffer used in our override of drawFill() (using vertices with texcoords)...">fillTexturedVertexBuffer</a>)
<a name="l01136"></a>01136         {
<a name="l01137"></a>01137             <span class="keyword">delete</span> <a class="code" href="classSphericalTexturedConvexPolygon.html#a5ab815bc50bd84a8b4ba71bf7849a0c8" title="Vertex buffer used in our override of drawFill() (using vertices with texcoords)...">fillTexturedVertexBuffer</a>;
<a name="l01138"></a>01138         }
<a name="l01139"></a>01139     }
<a name="l01140"></a>01140 
<a name="l01144"></a><a class="code" href="classSphericalTexturedConvexPolygon.html#a846bbe50cc73763518a2bbadc46ffc33">01144</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalTexturedConvexPolygon.html#a846bbe50cc73763518a2bbadc46ffc33" title="Set a single contour defining the SphericalPolygon.">setContour</a>(<span class="keyword">const</span> QVector&lt;Vec3d&gt;&amp; acontour, <span class="keyword">const</span> QVector&lt;Vec2f&gt;&amp; texCoord) 
<a name="l01145"></a>01145     {
<a name="l01146"></a>01146         <a class="code" href="classSphericalTexturedConvexPolygon.html#a846bbe50cc73763518a2bbadc46ffc33" title="Set a single contour defining the SphericalPolygon.">SphericalConvexPolygon::setContour</a>(acontour); 
<a name="l01147"></a>01147         <a class="code" href="classSphericalTexturedConvexPolygon.html#a3502415f33eabb5dcc35b140cd444cee" title="A list of uv texture coordinates corresponding to the triangle vertices.">textureCoords</a>=texCoord;
<a name="l01148"></a>01148         <a class="code" href="classSphericalConvexPolygon.html#a5f71f318301d1df7d9f455b323aa1e22" title="Does the drawFill() vertex buffer need an update?">fillVertexBufferNeedsUpdate</a> = <span class="keyword">true</span>;
<a name="l01149"></a>01149     }
<a name="l01150"></a>01150 
<a name="l01157"></a>01157     <span class="keyword">virtual</span> QVariantList <a class="code" href="classSphericalTexturedConvexPolygon.html#aa6b61d4b13300867a41777404a315c5d" title="Serialize the region into a QVariant map matching the JSON format.">toQVariant</a>() <span class="keyword">const</span>;
<a name="l01158"></a>01158 
<a name="l01159"></a><a class="code" href="classSphericalTexturedConvexPolygon.html#a89b8e11713ad0c57e759c2c22f49aa44">01159</a>     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalTexturedConvexPolygon.html#a89b8e11713ad0c57e759c2c22f49aa44" title="Serialize the region. This method must allow as fast as possible serialization and...">serialize</a>(QDataStream&amp; out)<span class="keyword"> const </span>{out &lt;&lt; <a class="code" href="classSphericalConvexPolygon.html#af083ebf4d4ac3dd3c96e513c83eb0dae" title="A list of vertices of the convex contour.">contour</a> &lt;&lt; <a class="code" href="classSphericalTexturedConvexPolygon.html#a3502415f33eabb5dcc35b140cd444cee" title="A list of uv texture coordinates corresponding to the triangle vertices.">textureCoords</a>;}
<a name="l01160"></a>01160 
<a name="l01161"></a>01161 <span class="keyword">protected</span>:
<a name="l01164"></a><a class="code" href="classSphericalTexturedConvexPolygon.html#a3502415f33eabb5dcc35b140cd444cee">01164</a>     QVector&lt;Vec2f&gt; <a class="code" href="classSphericalTexturedConvexPolygon.html#a3502415f33eabb5dcc35b140cd444cee" title="A list of uv texture coordinates corresponding to the triangle vertices.">textureCoords</a>;
<a name="l01165"></a>01165 
<a name="l01167"></a><a class="code" href="classSphericalTexturedConvexPolygon.html#a5ab815bc50bd84a8b4ba71bf7849a0c8">01167</a>     <a class="code" href="classStelVertexBuffer.html">StelVertexBuffer&lt;TexturedVertex&gt;</a>* <a class="code" href="classSphericalTexturedConvexPolygon.html#a5ab815bc50bd84a8b4ba71bf7849a0c8" title="Vertex buffer used in our override of drawFill() (using vertices with texcoords)...">fillTexturedVertexBuffer</a>;
<a name="l01168"></a>01168 
<a name="l01169"></a>01169     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalTexturedConvexPolygon.html#a4861b6f6c1e65482f819269c7fbd2553" title="Update the vertex buffer used by drawFill().">updateFillVertexBuffer</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">const</span> <a class="code" href="structSphericalRegion_1_1DrawParams.html" title="Parameters specifying how to draw a SphericalRegion.">DrawParams</a>&amp; params, <span class="keywordtype">bool</span> handleDiscontinuity);
<a name="l01170"></a>01170 
<a name="l01171"></a>01171     <span class="keyword">virtual</span> <span class="keywordtype">void</span> <a class="code" href="classSphericalTexturedConvexPolygon.html#ac524d8c93c69f72c1fb6cc3be148fc49" title="Drawing part of drawFill() - assumes the buffer/s is/are generated.">drawFillVertexBuffer</a>(<span class="keyword">class</span> <a class="code" href="classStelRenderer.html" title="Main class of the Renderer subsystem.">StelRenderer</a>* renderer, <span class="keyword">class</span> <a class="code" href="classStelProjector.html" title="Provide the main interface to all operations of projecting coordinates from sky to...">StelProjector</a>* projector);
<a name="l01172"></a>01172 };
<a name="l01173"></a>01173 
<a name="l01174"></a>01174 
<a name="l01182"></a>01182 <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="StelSphereGeometry_8hpp.html#a86f5fe8cc8dcac018f30591184757e24" title="Compute the intersection of 2 great circles segments.">greatCircleIntersection</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p1, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p2, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p3, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p4, <span class="keywordtype">bool</span>&amp; ok);
<a name="l01183"></a>01183 
<a name="l01190"></a>01190 <a class="code" href="classVector3.html">Vec3d</a> <a class="code" href="StelSphereGeometry_8hpp.html#a86f5fe8cc8dcac018f30591184757e24" title="Compute the intersection of 2 great circles segments.">greatCircleIntersection</a>(<span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p1, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; p2, <span class="keyword">const</span> <a class="code" href="classVector3.html">Vec3d</a>&amp; nHalfSpace, <span class="keywordtype">bool</span>&amp; ok);
<a name="l01191"></a>01191 
<a name="l01192"></a>01192 <span class="preprocessor">#endif // _STELSPHEREGEOMETRY_HPP_</span>
<a name="l01193"></a>01193 <span class="preprocessor"></span>
</pre></div></div>
<hr class="footer"/><address style="text-align: right;"><small>Generated on Sat Sep 15 13:01:11 2012 for Stellarium by&nbsp;
<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/></a> 1.6.3 </small></address>
</body>
</html>
