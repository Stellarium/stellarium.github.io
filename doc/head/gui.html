<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stellarium: GUI</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stellarium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stellarium
   &#160;<span id="projectnumber">0.20.4</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">GUI </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#introduction">Introduction</a></li>
<li class="level1"><a href="#svg">SVG vector icon designs</a></li>
<li class="level1"><a href="#filenames">Icon filenames:</a></li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="introduction"></a>
Introduction</h1>
<p>The GUI is based on Qt Widgets.</p>
<p>Relevant files:</p>
<ul>
<li>Icons: <code>data/gui/*.png</code></li>
<li>List of icons: <code>data/gui/guiRes.qrc</code></li>
<li>Interface CSS: <code>data/gui/normalStyle.css</code></li>
<li>SVG file with vector icons: <code>data/gui/icons.svg</code></li>
<li>Qt UI files: <code>src/gui/*.ui</code></li>
<li>SVG files with vector icons for plugins: <code>plugins/.../icons.svg</code></li>
<li>Qt UI files for plugins: <code>plugins/.../*.ui</code></li>
</ul>
<p>The structure of widgets inside every window should be defined in <code>*</code>.ui files. But the style should be defined in <code>normalStyle.css</code>. The icon used for each icon is usually defined in <code>*</code>.ui files too.</p>
<p>When making mistakes in the stylesheet (/data/normalStyle.css), errors may be silent. Enable debug logging by adding a <code>~/.config/QtProject/qtlogging.ini</code>:</p>
<div class="fragment"><div class="line">[Rules]</div><div class="line"> .debug=<span class="keyword">true</span></div><div class="line">qt.*.debug=<span class="keyword">false</span></div></div><!-- fragment --><h1><a class="anchor" id="svg"></a>
SVG vector icon designs</h1>
<p>Every icon was drawn with Inkscape in SVG, and then exported to PNG.</p>
<p>There is a lot of documentation inside the <code>data/gui/icons.svg</code> SVG file itself, in the <code>documentation</code> layer.</p>
<p>Notes:</p>
<ul>
<li>When designing small icons it is very important to align the elements to a 1px by 1px grid. Otherwise exported icons will look a little blurry because of antialiasing. This is not an Inkscape limitation, icons should be pixel-perfect.</li>
<li>For blurs and shadows we use the <em>Filters -&gt; Shadows and Glows -&gt; Drop shadow</em> tool. Blurs in Inkscape are quite strange, each blur element has a bounding box. It is important to make the bounding box big enough so a cut is not visible. Also important to make the bounding box small enough so the blur does not extend outside the icon (icons are located one next to the other, blur can get into other icons!). To adjust the bounding box use <em>Filters -&gt; Filter Editor -&gt; Filter General Settings</em>.</li>
<li><p class="startli">Blurs in Inkscape have some kind of bug. Let's say that we want a blur with amount equal to 0.5 units, the result is different depending on the kind of object, each one of these will look different:</p><ul>
<li>Objects like rectangles</li>
<li>Paths (even if the path has a rectangular shape)</li>
<li>Groups of objects (even if you just did a group of a single element)</li>
</ul>
<p class="startli">This is the reason why you should <em>always create a group before applying a blur</em>, even if you have only one element. This way, a blur of 0.5 units will have a consistent look across icons.</p>
</li>
</ul>
<h1><a class="anchor" id="filenames"></a>
Icon filenames:</h1>
<p>Every kind of icon has a different prefix on the filename. E.g. <code>bbtHelp-off.png</code> and <code>bbtSearch-on.png</code> </p>
<ul>
<li>bbt: Left bar buttons, also named actions. Each one has an on and off state.</li>
<li>bt: Bottom bar buttons. Each one has an on and off state.</li>
<li>btbg: Backgrounds of bottom bar buttons.</li>
<li>tab: Buttons on window tabs. A version for the selected and the unselected tabs.</li>
<li>uibt: Images for classic UI buttons. Each one has a normal and a disabled state used when the button is greyed out.</li>
<li>uie: UI elements, things that go inside of UI windows like checkboxes.</li>
<li>misc: Some more misc images. </li>
</ul>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Mon Dec 28 2020 18:00:41 for Stellarium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
