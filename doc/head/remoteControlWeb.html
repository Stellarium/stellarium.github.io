<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stellarium: RemoteControl plugin web interface</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stellarium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stellarium
   &#160;<span id="projectnumber">0.20.2</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="remoteControlDoc.html">Remote Control Plug-in documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">RemoteControl plugin web interface </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#remoteControlWebStructure">File and directory structure</a></li>
<li class="level1"><a href="#remoteControlWebEdit">Editing the interface</a><ul><li class="level2"><a href="#remoteControlWebBasic">Basic extension</a><ul><li class="level3"><a href="#remoteControlWebUIClasses">UI control classes</a><ul><li class="level4"><a href="#remoteControlWebUIspinner">spinner</a></li>
<li class="level4"><a href="#remoteControlWebUIslider">slider</a></li>
<li class="level4"><a href="#remoteControlWebUIjquerybutton">jquerybutton</a></li>
<li class="level4"><a href="#remoteControlWebUIselectmenu">selectmenu</a></li>
</ul>
</li>
<li class="level3"><a href="#remoteControlWebProp">Special behaviour classes</a><ul><li class="level4"><a href="#remoteControlWebstelproperty">stelproperty (Connection to StelProperty)</a></li>
<li class="level4"><a href="#remoteControlWebstelaction">stelaction (Connection to StelAction)</a></li>
<li class="level4"><a href="#remoteControlWebStelssc">stelssc (Direct script execution)</a></li>
<li class="level4"><a href="#remoteControlWebStelplugin">stelplugin (Plugin-specific sections)</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#remoteControlWebTranslation">Translation information</a></li>
<li class="level2"><a href="#remoteControlJS">JavaScript module reference</a><ul><li class="level3"><a href="#rcApiRemotecontrol">api/remotecontrol</a></li>
<li class="level3"><a href="#rcApiActions">api/actions</a></li>
<li class="level3"><a href="#rcApiFlags">api/flags</a></li>
<li class="level3"><a href="#rcApiLocation">api/location</a></li>
<li class="level3"><a href="#rcApiProperties">api/properties</a></li>
<li class="level3"><a href="#rcApiScripts">api/scripts</a></li>
<li class="level3"><a href="#rcApiSearch">api/search</a></li>
<li class="level3"><a href="#rcApiTime">api/time</a></li>
<li class="level3"><a href="#rcApiUpdatequeue">api/updatequeue</a></li>
<li class="level3"><a href="#rcApiViewcontrol">api/viewcontrol</a></li>
<li class="level3"><a href="#rcApiViewoptions">api/viewoptions</a></li>
<li class="level3"><a href="#rcUiMainui">ui/mainui</a></li>
<li class="level3"><a href="#rcUiActions">ui/actions</a></li>
<li class="level3"><a href="#rcUiCombobox">ui/combobox</a></li>
<li class="level3"><a href="#rcUiJqueryuifixes">ui/jqueryuifixes</a></li>
<li class="level3"><a href="#rcUiLocation">ui/location</a></li>
<li class="level3"><a href="#rcUiScripts">ui/scripts</a></li>
<li class="level3"><a href="#rcUiSearch">ui/search</a></li>
<li class="level3"><a href="#rcUiTime">ui/time</a></li>
<li class="level3"><a href="#rcUiViewcontrol">ui/viewcontrol</a></li>
<li class="level3"><a href="#rcUiViewoptions">ui/viewoptions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>The <a class="el" href="remoteControlDoc.html">RemoteControl plugin</a>, by default, provides a HTML web interface through the same integrated HTTP server that serves the <a class="el" href="remoteControlApi.html">RemoteControl API</a>. All content found in the <code>data/webroot</code> folder is served. Note that the <code>/api/</code> path is reserved for the <a class="el" href="remoteControlApi.html">HTTP API</a>, and therefore can not be used as a folder. The <code>index.html</code> file is mapped to the root, so you can access it using <a href="http://localhost:8090">http://localhost:8090</a> with the default port setting of 8090. A slightly modified alternative interface (mainly larger buttons for now) for 7" tablets and other touch devices is available at <a href="http://localhost:8090/tablet7in.html">http://localhost:8090/tablet7in.html</a>.</p>
<p>A reasonably modern browser is required to access the interface. Some features of <a href="https://developer.mozilla.org/en-US/docs/Web/Guide/HTML/HTML5">HTML5</a> and <a href="https://developer.mozilla.org/en/docs/Web/CSS/CSS3">CSS3</a> are used.</p>
<p>The interface heavily relies on <a href="https://jquery.com/">jQuery</a> for easier JavaScript coding. The code is structured into modules, and loaded using <a href="http://requirejs.org/">require.js</a>, which automatically resolves dependencies and load order.</p>
<h1><a class="anchor" id="remoteControlWebStructure"></a>
File and directory structure</h1>
<p>Note that not all files are listed here, only those of special interest.</p>
<ul>
<li>webroot/ - root directory<ul>
<li>index.html - Default interface, also mapped to the root folder</li>
<li>style.css - Main stylesheet</li>
<li>tablet7in.html - Modified interface for tablet devices</li>
<li>style_tablet7in.css - Additional stylesheet for tablet7in.html</li>
<li>translate_files - Defines which files are passed through <a class="el" href="classStelTranslator.html" title="Class used to translate strings to any language. ">StelTranslator</a>, see <a class="el" href="remoteControlWeb.html#remoteControlWebTranslation">Translation information</a></li>
<li>iframestyle.css - defines the style for internal frames (landscape description, etc.)</li>
<li>/js/ - Contains the JavaScript files required for the interfaces<ul>
<li>main.js - This is the configuration file for require.js. Loads <a class="el" href="remoteControlWeb.html#rcUiMainui">ui/mainui</a> as main module.</li>
<li>settings.js - Contains some configuration options for the web interface</li>
<li>translationdata.js - Auto-generated file containing strings to translate through <a class="el" href="classStelTranslator.html" title="Class used to translate strings to any language. ">StelTranslator</a>, see <a class="el" href="remoteControlWeb.html#remoteControlWebTranslation">Translation information</a></li>
<li>/api/ - Contains .js modules that define the connection to the <a class="el" href="remoteControlApi.html">RemoteControl API</a><ul>
<li><a class="el" href="remoteControlWeb.html#rcApiRemotecontrol">api/remotecontrol</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiActions">api/actions</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiFlags">api/flags</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiLocation">api/location</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiProperties">api/properties</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiScripts">api/scripts</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiSearch">api/search</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiTime">api/time</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiUpdatequeue">api/updatequeue</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiViewcontrol">api/viewcontrol</a></li>
<li><a class="el" href="remoteControlWeb.html#rcApiViewoptions">api/viewoptions</a></li>
</ul>
</li>
<li>/ui/ - Contains UI-related .js modules which depend on the /api/ .js modules<ul>
<li><a class="el" href="remoteControlWeb.html#rcUiMainui">ui/mainui</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiActions">ui/actions</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiCombobox">ui/combobox</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiJqueryuifixes">ui/jqueryuifixes</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiLocation">ui/location</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiScripts">ui/scripts</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiSearch">ui/search</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiTime">ui/time</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiViewcontrol">ui/viewcontrol</a></li>
<li><a class="el" href="remoteControlWeb.html#rcUiViewoptions">ui/viewoptions</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="remoteControlWebEdit"></a>
Editing the interface</h1>
<p>With knowledge of HTML, CSS and JavaScript (the latter not required for basic modifications), the interface can be customized.</p>
<h2><a class="anchor" id="remoteControlWebBasic"></a>
Basic extension</h2>
<p>When using the standard JavaScript provided, they allow to use pre-defined CSS "marker" classes which do not style the element per-se (i.e. have no entries in the .css files), but allow you to add functionality to HTML elements without editing the JavaScript code. Some of these classes also allow you to add further attributes to the element (usually <a href="https://developer.mozilla.org/en/docs/Web/Guide/HTML/Using_data_attributes">HTML5 data attributes</a>) to further customize their behaviour.</p>
<h3><a class="anchor" id="remoteControlWebUIClasses"></a>
UI control classes</h3>
<p>Some classes allow generating UI controls that are similar to what you expect for desktop apps. These use <a href="https://jqueryui.com/">jQuery UI</a> with some modifications.</p>
<h4><a class="anchor" id="remoteControlWebUIspinner"></a>
spinner</h4>
<p>If added to an HTML <code>input</code> element, it sets the control up as a numerical Spinner widget (using jQuery UI: <a href="https://api.jqueryui.com/spinner/">https://api.jqueryui.com/spinner/</a>). It supports the following optional parameters:</p><ul>
<li><code>data-min</code> - Defines the minimum value of the spinner</li>
<li><code>data-max</code> - Defines the maximum value of the spinner</li>
<li><code>data-step</code> - Defines the desired step size of the spinner, default is 1. May be different from the number format.</li>
<li><code>data-numberformat</code> - Defines how the number is formatted, using <a href="https://github.com/jquery/globalize/blob/v0.1.1/README.md#numbers">globalize.js 0.1.1 syntax</a></li>
</ul>
<p>The element will emit the custom <code>spinuserinput</code> event whenever the value changes (either through the buttons or direct keyboard input). An example, showing how a spinner is created and handled: </p><div class="fragment"><div class="line"><span class="comment">//make a spinner from -50 to 50, always showing 2 decimal points and stepping 0.1 per click</span></div><div class="line">&lt;input <span class="keywordtype">id</span>=<span class="stringliteral">&quot;myspinner&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;spinner&quot;</span> data-min=<span class="stringliteral">&quot;-50&quot;</span> data-max=<span class="stringliteral">&quot;50&quot;</span> data-step=<span class="stringliteral">&quot;0.1&quot;</span> data-numberformat=<span class="stringliteral">&quot;n2&quot;</span>/&gt;</div><div class="line"></div><div class="line"><span class="comment">//input handling in javascript</span></div><div class="line">$(<span class="stringliteral">&quot;#myspinner&quot;</span>).on(<span class="stringliteral">&quot;spinuserinput&quot;</span>, <span class="keyword">function</span>(evt,ui) {</div><div class="line">    <span class="comment">//print the new value</span></div><div class="line">    console.log(ui.value);</div><div class="line">});</div></div><!-- fragment --><h4><a class="anchor" id="remoteControlWebUIslider"></a>
slider</h4>
<p>If added to an HTML <code>div</code> element, it sets the control up as a numerical slider widget (using jQuery UI: <a href="https://api.jqueryui.com/slider/">https://api.jqueryui.com/slider/</a>). It supports the following optional parameters:</p><ul>
<li><code>data-min</code> - Defines the minimum value of the slider</li>
<li><code>data-max</code> - Defines the maximum value of the slider</li>
<li><code>data-step</code> - Defines the desired step size of the slider, default is 1. May be different from the number format.</li>
</ul>
<p>The element will emit the <code>slide</code> event when the slider is moved. </p><div class="fragment"><div class="line"><span class="comment">//make a slider from -50 to 50, stepsize 0.1</span></div><div class="line">&lt;div <span class="keywordtype">id</span>=<span class="stringliteral">&quot;myslider&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;slider&quot;</span> data-min=<span class="stringliteral">&quot;-50&quot;</span> data-max=<span class="stringliteral">&quot;50&quot;</span> data-step=<span class="stringliteral">&quot;0.1&quot;</span>/&gt;</div><div class="line"></div><div class="line"><span class="comment">//input handling in javascript</span></div><div class="line">$(<span class="stringliteral">&quot;#myslider&quot;</span>).on(<span class="stringliteral">&quot;slide&quot;</span>, <span class="keyword">function</span>(evt,ui) {</div><div class="line">    <span class="comment">//print the new value</span></div><div class="line">    console.log(ui.value);</div><div class="line">});</div></div><!-- fragment --><h4><a class="anchor" id="remoteControlWebUIjquerybutton"></a>
jquerybutton</h4>
<p>If added to an HTML <code>button</code> element, it converts it to a <a href="https://jqueryui.com/button/">jQuery UI button</a>. This is mainly a cosmetic operation.</p>
<h4><a class="anchor" id="remoteControlWebUIselectmenu"></a>
selectmenu</h4>
<p>If added to an HTML <code>select</code> element, it creates a <a href="https://jqueryui.com/selectmenu/">jQuery UI selectmenu</a> from it. This allows simple popup selection menus (like a QComboBox).</p>
<h3><a class="anchor" id="remoteControlWebProp"></a>
Special behaviour classes</h3>
<p>These classes allow automatic connection to <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> and <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> elements defined in Stellarium, allowing particularly easy extension of the web interface.</p>
<h4><a class="anchor" id="remoteControlWebstelproperty"></a>
stelproperty (Connection to StelProperty)</h4>
<p>Allows direct connection of an element to a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a>, meaning the element is automatically updated whenever the value in Stellarium changes &mdash; regardless of the source of the change: it can come from the main GUI, scripting, or even other <a class="el" href="group__remoteControl.html#classRemoteControl" title="Main class of the RemoteControl plug-in, implementing the StelModule interface. ">RemoteControl</a> web interface instances! Together with the <a class="el" href="remoteControlWeb.html#remoteControlWebUIClasses">UI control classes</a> listed above, this allows closely and easily recreating standard Stellarium interface elements. This is supported for:</p><ul>
<li><code>input</code> elements with the <code>spinner</code> class (for numerical properties)<br />
 The <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> to use is identified by the standard <code>input</code> attribute <code>name</code>. Updates the <code>value</code> property of the <code>input</code> when the <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> changes, and reacts to <code>spinuserinput</code> events to update the property</li>
<li><code>input</code> elements of type <code>checkbox</code> (<code>&lt;input type="checkbox"&gt;</code> (for boolean properties)<br />
 The <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> to use is identified by the standard <code>input</code> attribute <code>name</code>. Uses the <code>checked</code> property and the <code>click</code> event.</li>
<li><code>div</code> elements with the <code>slider</code> class (for numerical properties)<br />
 The <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> to use is identified by the custom attribute <code>data-prop</code>. Connects to the <code>slider</code> widget property <code>value</code>.</li>
<li><code>select</code> elements (also supports the optional <code>selectmenu</code> classs)<br />
 The <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> to use is identified by the standard <code>select</code> attribute <code>name</code>. Sets the <code>option</code> that has the same <code>value</code> as the <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> value. Useful for single selection out of a list of possibilities.</li>
<li><code>span</code> elements, for read-only property display with optional number format<br />
 The <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> to use is identified by the custom attribute <code>data-prop</code>. The value is displayed using the element's text content. The optional <code>data-numberformat</code> attribute is used for the number format using <a href="https://github.com/jquery/globalize/blob/v0.1.1/README.md#numbers">globalize.js 0.1.1 syntax</a></li>
<li><code>button</code> or <code>input[type="button"]</code> elements, for write-only setting of a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> to a pre-defined value when clicked<br />
 The <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> to use is identified by the standard attribute <code>name</code>, and the value to set it to is defined by the attribute <code>value</code>.</li>
</ul>
<p>An example, setting up a spinner for the <code>MilkyWay.intensity</code> <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a>: </p><div class="fragment"><div class="line">&lt;!-- this is all that is required, the rest is done automatically --&gt;</div><div class="line">&lt;input class=&quot;spinner stelproperty&quot; name=&quot;MilkyWay.intensity&quot; data-min=&quot;0&quot; data-max=&quot;10&quot; data-step=&quot;0.1&quot; data-numberformat=&quot;n2&quot;/&gt;</div></div><!-- fragment --><p>Many more examples can be found by studying the <code>index.html</code> code.</p>
<h4><a class="anchor" id="remoteControlWebstelaction"></a>
stelaction (Connection to StelAction)</h4>
<p>When this class is added to <code>button</code> elements or <code>input</code> elements of <code>type="button"</code> or <code>type="checkbox"</code>, this connects the control to a <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a>. The action is identified by the <code>name</code> attribute. If the action is a boolean action (i.e. <a class="el" href="classStelAction.html#a43aac276f4b229adeb0bd50c7f84262f">StelAction::isCheckable</a> is true), checkboxes show the current state of the action, and buttons get the <code>active</code> CSS class assigned if the action is currently true.</p>
<p>Examples: </p><div class="fragment"><div class="line">&lt;!-- This is how the main bottom button bar is defined --&gt;</div><div class="line">&lt;ul class=&quot;ui-corner-all ui-widget-content button32list margin-vertical&quot;&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btConstellationLines&quot; name=&quot;actionShow_Constellation_Lines&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btConstellationLabels&quot; name=&quot;actionShow_Constellation_Labels&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btConstellationArt&quot; name=&quot;actionShow_Constellation_Art&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btEquatorialGrid&quot; name=&quot;actionShow_Equatorial_Grid&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btAzimuthalGrid&quot; name=&quot;actionShow_Azimuthal_Grid&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btGround&quot; name=&quot;actionShow_Ground&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btCardinalPoints&quot; name=&quot;actionShow_Cardinal_Points&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btAtmosphere&quot; name=&quot;actionShow_Atmosphere&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btNebula&quot; name=&quot;actionShow_Nebulas&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btPlanets&quot; name=&quot;actionShow_Planets_Labels&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btEquatorialMount&quot; name=&quot;actionSwitch_Equatorial_Mount&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btGotoSelectedObject&quot; name=&quot;actionSet_Tracking&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btNightView&quot; name=&quot;actionShow_Night_Mode&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">      &lt;li&gt;&lt;button class=&quot;stelaction icon32 btFullScreen&quot; name=&quot;actionSet_Full_Screen_Global&quot;&gt;&lt;/button&gt;&lt;/li&gt;</div><div class="line">&lt;/ul&gt;</div><div class="line"></div><div class="line">&lt;!-- This is how to set up checkboxes --&gt;</div><div class="line">&lt;label&gt;&lt;input type=&quot;checkbox&quot; class=&quot;stelaction&quot; name=&quot;actionShow_Planets&quot; /&gt;&lt;?= tr(&quot;Show Solar System objects&quot;)?&gt;&lt;/label&gt;</div><div class="line">&lt;label&gt;&lt;input type=&quot;checkbox&quot; class=&quot;stelaction&quot; name=&quot;actionShow_Planets_Hints&quot; /&gt;&lt;?= tr(&quot;Show planet markers&quot;)?&gt;&lt;/label&gt;</div><div class="line">&lt;label&gt;&lt;input type=&quot;checkbox&quot; class=&quot;stelaction&quot; name=&quot;actionShow_Planets_Orbits&quot; /&gt;&lt;?= tr(&quot;Show planet orbits&quot;)?&gt;&lt;/label&gt;</div></div><!-- fragment --><h4><a class="anchor" id="remoteControlWebStelssc"></a>
stelssc (Direct script execution)</h4>
<p>This class allows you to define buttons that directly execute Stellarium <a class="el" href="scripting.html">Scripting Engine</a> code. Supported for <code>button</code> and <code>input</code> elements of type <code>button</code>. The code to execute should be stored inside the element's <code>value</code> property. If the custom attribute <code>data-useincludes</code> attribute is added (with any value), the default include folder is added for optional includes, but this is not recommended unless necessary.</p>
<p>An example: </p><div class="fragment"><div class="line">&lt;!-- some buttons which move the view to predefined angles --&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 0., 3.)&quot;&gt;0&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 30., 3.)&quot;&gt;30&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 60., 3.)&quot;&gt;60&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 90., 3.)&quot;&gt;90&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 120., 3.)&quot;&gt;120&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 150., 3.)&quot;&gt;150&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 180., 3.)&quot;&gt;180&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 210., 3.)&quot;&gt;210&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 240., 3.)&quot;&gt;240&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 270., 3.)&quot;&gt;270&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 300., 3.)&quot;&gt;300&amp;deg;&lt;/button&gt;</div><div class="line">&lt;button type=&quot;button&quot; class=&quot;stelssc&quot; value=&quot;core.moveToAltAzi(0., 330., 3.)&quot;&gt;330&amp;deg;&lt;/button&gt;</div></div><!-- fragment --><dl class="section warning"><dt>Warning</dt><dd>The <code>stelssc</code> approach has some disadvantages, so try to use it only when necessary:<ul>
<li>causes a larger overhead for Stellarium internally than other methods provided by the web interface</li>
<li>the scripts can't be executed if another script is currently running, an error message will be shown in this case<ul>
<li>this also includes the user clicking too fast on any <code>stelssc</code> buttons!</li>
</ul>
</li>
</ul>
</dd></dl>
<h4><a class="anchor" id="remoteControlWebStelplugin"></a>
stelplugin (Plugin-specific sections)</h4>
<p>With the CSS class <code>stelplugin</code>, one can create special HTML sections that are only shown when a specified <a class="el" href="plugins.html">plugin</a> is currently loaded by Stellarium. If the plugin is not loaded, the whole element and all it's children are removed from the DOM. This class can be added to any element. The plugin which is required is defined by the <code>data-plugin</code> attribute, which should be set to the plugin ID.</p>
<p>The optional <code>data-pluginjs</code> attribute can be used to define an additional JavaScript module that is only loaded when the plugin is loaded. This can be used to implement additional behaviour through JS, if required. It is recommended to put these modules into the <code>webroot/js/plugins</code> folder.</p>
<p>An example, defining the plugin panel for the <a class="el" href="group__archaeoLines.html">ArchaeoLines Plug-in</a> : </p><div class="fragment"><div class="line">&lt;div <span class="keywordtype">id</span>=<span class="stringliteral">&quot;vo_archaeolines&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;smallblock stelplugin&quot;</span> data-plugin=<span class="stringliteral">&quot;ArchaeoLines&quot;</span> data-pluginjs=<span class="stringliteral">&quot;plugins/archaeolines&quot;</span>&gt;</div><div class="line">  &lt;h3&gt;&lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction valign-middle&quot;</span> name=<span class="stringliteral">&quot;actionShow_Archaeo_Lines&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;ArchaeoLines&quot;</span>)?&gt;&lt;/label&gt;&lt;/h3&gt;</div><div class="line">  &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;inline-block blocklabel&quot;</span>&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showEquinoxLine&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Equinox&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showSolsticeLines&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Solstices&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showCrossquarterLines&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Crossquarters&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showMajorStandstillLines&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Major Standstill&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showMinorStandstillLines&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Minor Standstill&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;div <span class="keyword">class</span>=<span class="stringliteral">&quot;inline-block blocklabel&quot;</span>&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showZenithPassageLine&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Zenith Passage&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showNadirPassageLine&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Nadir Passage&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showSelectedObjectLine&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Selected Object&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showCurrentSunLine&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Current Sun&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">    &lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionAL_showCurrentMoonLine&quot;</span>/&gt;&lt;?= tr(<span class="stringliteral">&quot;Current Moon&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">  &lt;/div&gt;</div><div class="line">  &lt;label <span class="keyword">class</span>=<span class="stringliteral">&quot;display-block&quot;</span> <span class="keywordflow">for</span>=<span class="stringliteral">&quot;select_ArchaeoLines_enumShowCurrentPlanet&quot;</span>&gt;&lt;?= tr(<span class="stringliteral">&quot;Current Planet:&quot;</span>)?&gt;&lt;/label&gt;</div><div class="line">  &lt;select <span class="keywordtype">id</span>=<span class="stringliteral">&quot;select_ArchaeoLines_enumShowCurrentPlanet&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;selectmenu stelproperty display-block&quot;</span> name=<span class="stringliteral">&quot;ArchaeoLines.enumShowCurrentPlanet&quot;</span>&gt;</div><div class="line">    &lt;option value=<span class="stringliteral">&quot;10&quot;</span>&gt;&lt;?= tr(<span class="stringliteral">&quot;None&quot;</span>)?&gt;&lt;/option&gt;</div><div class="line">    &lt;option value=<span class="stringliteral">&quot;11&quot;</span>&gt;&lt;?= tr(<span class="stringliteral">&quot;Mercury&quot;</span>)?&gt;&lt;/option&gt;</div><div class="line">    &lt;option value=<span class="stringliteral">&quot;12&quot;</span>&gt;&lt;?= tr(<span class="stringliteral">&quot;Venus&quot;</span>)?&gt;&lt;/option&gt;</div><div class="line">    &lt;option value=<span class="stringliteral">&quot;13&quot;</span>&gt;&lt;?= tr(<span class="stringliteral">&quot;Mars&quot;</span>)?&gt;&lt;/option&gt;</div><div class="line">    &lt;option value=<span class="stringliteral">&quot;14&quot;</span>&gt;&lt;?= tr(<span class="stringliteral">&quot;Jupiter&quot;</span>)?&gt;&lt;/option&gt;</div><div class="line">    &lt;option value=<span class="stringliteral">&quot;15&quot;</span>&gt;&lt;?= tr(<span class="stringliteral">&quot;Saturn&quot;</span>)?&gt;&lt;/option&gt;</div><div class="line">  &lt;/select&gt;</div><div class="line">&lt;/div&gt;</div><div class="line"></div><div class="line"><span class="comment">//the contents of plugins/archaeolines.js</span></div><div class="line">define([<span class="stringliteral">&quot;jquery&quot;</span>],<span class="keyword">function</span>($){</div><div class="line">        <span class="stringliteral">&quot;use strict&quot;</span>;</div><div class="line"></div><div class="line">        <span class="comment">//this is just an example how to use additional dynamically loaded plugin files</span></div><div class="line">        console.log(<span class="stringliteral">&quot;Hello, this is a asynchronously loaded plugin javascript file!&quot;</span>);</div><div class="line"></div><div class="line">});</div></div><!-- fragment --><h2><a class="anchor" id="remoteControlWebTranslation"></a>
Translation information</h2>
<p>The interface can be translated using methods similar to the main program. All strings in the HTML markup that should be translated can be written between pseudo-PHP style tags and the <code>tr</code> function to achieve the same effect as the <code>q_()</code> macro in C++, like so: </p><div class="fragment"><div class="line">&lt;label&gt;&lt;input type=<span class="stringliteral">&quot;checkbox&quot;</span> <span class="keyword">class</span>=<span class="stringliteral">&quot;stelaction&quot;</span> name=<span class="stringliteral">&quot;actionShow_Planets&quot;</span> /&gt;&lt;?= tr(<span class="stringliteral">&quot;Show Solar System objects&quot;</span>)?&gt;&lt;/label&gt;</div></div><!-- fragment --><p>All files which are listed in the <code>webroot/translate_files</code> file will be parsed, and all <code>&lt;?= tr("----")?&gt;</code> tags will be replaced using the <a class="el" href="classStelTranslator.html" title="Class used to translate strings to any language. ">StelTranslator</a> for the current application language.</p>
<p>If you require translated strings through JavaScript, you should use the <code>tr</code> method of the <a class="el" href="remoteControlWeb.html#rcApiRemotecontrol">api/remotecontrol</a> module, which also works similar to the <code>q_()</code> macro. There is a special procedure for the JavaScript strings: the target <code>RemoteControl-update-translationdata</code> should be run whenever new JavaScript strings have been added. This updates the file <code>webroot/js/translationdata.js</code> with all current <code>tr()</code> strings. <a href="https://www.python.org/">Python</a> is required to be installed for this operation.</p>
<p>Like the main program, the strings can be extracted from the HTML/JS code using gettext/xgettext. There are CMake targets for this like for the C++ code (<code>generate-pot-stellarium-remotecontrol</code>, <code>update-po-stellarium-remotecontrol</code>, etc.) and they are also executed with the combined targets (<code>generate-pot</code>, <code>update-po</code> etc.).</p>
<h2><a class="anchor" id="remoteControlJS"></a>
JavaScript module reference</h2>
<p>All interface code is developed using <a href="http://requirejs.org/docs/api.html#define">require.js modules</a>. This allows defining the dependencies of each module, as well as easier maintainability. Each module should be defined in its own .js file. The module ID corresponds to the .js file name without the file extension.</p>
<p>In short, to define a module, wrap it in a <code>define</code> call, and optionally add dependencies. A basic example (for more ways to do it see the require.js doc): </p><div class="fragment"><div class="line"><span class="comment">//myawesomemodule.js</span></div><div class="line"><span class="comment">//the IDs of the dependencies are listed in an array as first parameter</span></div><div class="line"><span class="comment">//the second parameter is usually a function which takes the actual instances of the dependencies as a parameter,</span></div><div class="line"><span class="comment">//  in the same order as they are in the array!</span></div><div class="line">define([<span class="stringliteral">&quot;jquery&quot;</span>, <span class="stringliteral">&quot;api/remotecontrol&quot;</span>], <span class="keyword">function</span>($,rc) {</div><div class="line">    <span class="stringliteral">&quot;use strict&quot;</span>; <span class="comment">//it is recommended to use strict mode for each module</span></div><div class="line"></div><div class="line">    <span class="comment">//do something as soon as this module is loaded</span></div><div class="line">    console.log(<span class="stringliteral">&quot;my awesome module is being loaded!&quot;</span>);</div><div class="line"></div><div class="line">    <span class="comment">//do something when the DOM is ready (because that is not guaranteed while the module is first bein loaded!)</span></div><div class="line">    $(<span class="keyword">function</span>(){</div><div class="line">        console.log(<span class="stringliteral">&quot;the document is ready, you can access the elements now!&quot;</span>);</div><div class="line">        <span class="comment">//access an element and modifiy it</span></div><div class="line">        $(<span class="stringliteral">&quot;#myelement&quot;</span>).text(<span class="stringliteral">&quot;hey, this is awesome&quot;</span>);</div><div class="line">    });</div><div class="line"></div><div class="line">    <span class="comment">//react to the serverDataReceived event of the remotecontrol module</span></div><div class="line">    $(rc).on(<span class="stringliteral">&quot;serverDataReceived&quot;</span>, <span class="keyword">function</span>(evt,data) {</div><div class="line">        console.log(<span class="stringliteral">&quot;Stellarium just sent us new data!&quot;</span>);</div><div class="line">        console.log(<span class="stringliteral">&quot;The current jDay is &quot;</span> + data.time);</div><div class="line">    });</div><div class="line"></div><div class="line">    <span class="comment">//provide some public methods that other modules may call</span></div><div class="line">    <span class="keywordflow">return</span> {</div><div class="line">        myAwesomeMethod: <span class="keyword">function</span>() {</div><div class="line">            console.log(<span class="stringliteral">&quot;Hello there!&quot;</span>);</div><div class="line">        }</div><div class="line">    };</div><div class="line">});</div><div class="line"></div><div class="line"><span class="comment">//another module (in another file) can now reference our module as dependency to load it and use its methods</span></div><div class="line">define([<span class="stringliteral">&quot;jquery&quot;</span>, <span class="stringliteral">&quot;myawesomemodule&quot;</span>],<span class="keyword">function</span>($, awesome) {</div><div class="line"></div><div class="line">    awesome.myAwesomeMethod(); <span class="comment">//prints &quot;Hello there!&quot;</span></div><div class="line">});</div></div><!-- fragment --><p>The UI modules can depend on the API modules and other UI modules. The API modules can depend on other API modules. Circular dependencies should of course be avoided.</p>
<h3><a class="anchor" id="rcApiRemotecontrol"></a>
api/remotecontrol</h3>
<p>This is the main API module, with no further dependencies on other API modules.</p>
<p>Its main function is that it provides automatic status updates by periodically polling (by default each second) the <code>status</code> operation of the <a class="el" href="group__remoteControl.html#classMainService" title="Implements the main API services, including the status operation which can be repeatedly polled to fi...">MainService</a>. Whenever this poll succeeds, the <code>serverDataReceived</code> custom event is emitted, with the JSON response of the server as <code>data</code> parameter. Other API modules should use this event, and process the data in which they are interested. It also keeps track of <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> and <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> changes, and emits <code>stelActionsChanged</code> and/or <code>stelPropertiesChanged</code>, if necessary. Note that it does not process them further, this is the job of the <a class="el" href="remoteControlWeb.html#rcApiActions">api/actions</a> and <a class="el" href="remoteControlWeb.html#rcApiProperties">api/properties</a> modules, respectively. When the connection to the server is lost (i.e. the polling returned an error), the <code>serverDataError</code> event is sent.</p>
<p>The other main function is that it provides the <code>postCmd</code> method, which is a simple wrapper around an AJAX POST call that is intended to be used by other modules to send commands to the server. It also includes the <code>tr</code> method used for <a class="el" href="remoteControlWeb.html#remoteControlWebTranslation">translating JS strings</a>.</p>
<p>Finally, this module also processes the <a class="el" href="remoteControlWeb.html#remoteControlWebStelplugin">plugin-specific sections</a> on load.</p>
<h3><a class="anchor" id="rcApiActions"></a>
api/actions</h3>
<p>Processes <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> related events. Whenever it detects that boolean <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method, allowing the slot to be called/property to be toggled using this action object. ">StelAction</a> was changed, it emits two events:</p><ul>
<li>A generic event <code>stelActionChanged</code> with the <code>actionId</code> as a parameter. This can be used when interested in ALL action changes (like for a action list)</li>
<li>A specialied event <code>stelActionChanged:&lt;actionId&gt;</code> with the <code>actionId</code> as part of the event name. This can be used when listening for a specific action only.</li>
</ul>
<p>On the first load of the interface, it loads a list of all actions (using the ActionService <code>list</code> operation) and emits the <code>actionListLoaded</code> event when this data is available.</p>
<p>To execute/toggle an action, it provides the public <code>executeAction</code> method, which just requires the action ID as parameter. To find out whether an action is currently checked, use the <code>isChecked</code> method.</p>
<h3><a class="anchor" id="rcApiFlags"></a>
api/flags</h3>
<p>This is a utility module, which can be used to implement checkboxes for enum flag types, where each checkbox sets a specific bit of a single value. The module should be constructed with <code>new</code>, the constructor takes the parent element of a list of checkboxes (<code>input</code> of type checkbox) and a method which is called back when the internal value changes (i.e. the user clicks a checkbox). It provides the <code>setValue</code> method to set the current value and check the correct checkboxes. The bit value of each <code>input</code> should be specified as its <code>value</code> property, in hexadecimal string format (for example <code>0x0004</code>)</p>
<h3><a class="anchor" id="rcApiLocation"></a>
api/location</h3>
<p>Module which connects to the <a class="el" href="group__remoteControl.html#classLocationService" title="Provides methods to look up location-related information, and change the current location. ">LocationService</a> and the <a class="el" href="group__remoteControl.html#classLocationSearchService" title="Provides predefined location search functionality, using the StelLocationMgr. ">LocationSearchService</a>. It emits the following events whenever the specified field changed: <code>planetChanged</code>,<code>nameChanged</code>, <code>countryChanged</code>, <code>altitudeChanged</code>, <code>latitudeChanged</code>, <code>longitudeChanged</code>, <code>positionChanged</code> (emitted when either lat or lon changed)</p>
<p>It also has <code>set</code> methods for these fields. Furthermore, it provides <code>performLocationSearch</code>, which searches the predefined locations for a specific search string, and <code>performNearbySearch</code>, which searches predefined locations near a given lat/lon on the current planet. These methods take a callback parameter to notify the caller of the results. The <code>setLocationById</code> method can then be used to set the location to a result of these 2 methods.</p>
<p>It also provides a <code>loadCountryList</code> and a <code>loadPlanetList</code> which load the specified lists and return the results with a callback.</p>
<h3><a class="anchor" id="rcApiProperties"></a>
api/properties</h3>
<p>Processes <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> related things. Like the <a class="el" href="remoteControlWeb.html#rcApiActions">api/actions</a> module, it emits 2 events when it detects a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a> changed:</p><ul>
<li>A generic event <code>stelPropertyChanged</code> with the <code>propertyId</code> as a parameter. This can be used when interested in ALL property changes (like for a list)</li>
<li>A specialied event <code>stelPropertyChanged:&lt;propertyId&gt;</code> with the <code>propertyId</code> as part of the event name. This can be used when listening for a specific property only.</li>
</ul>
<p>It provides <code>getStelProp</code> and <code>setStelProp</code> methods which retrieve and set the value of a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object...">StelProperty</a>, and also a <code>setStelPropQueued</code> convenience method to batch multiple fast interface changes (e.g. through a slider or spinner) into a single <code>setStelProp</code> call which is only executed after a small time has passed with no changes.</p>
<p>It also emits the <code>propertyListLoaded</code> event when it first loads the full list of StelProperties with their type information.</p>
<h3><a class="anchor" id="rcApiScripts"></a>
api/scripts</h3>
<p>This module handles script execution (i.e. connection to the <a class="el" href="group__remoteControl.html#classScriptService" title="Contains services related to script execution. ">ScriptService</a>). It provides the following methods:</p><ul>
<li><code>loadScriptList</code> - loads the list of all scripts, takes a callback to return this data</li>
<li><code>runScript</code> - runs the specified script id</li>
<li><code>runDirectScript</code> - directly runs the given script code</li>
<li><code>stopScript</code> - stops a currently running script</li>
</ul>
<p>It also emits the <code>activeScriptChanged</code> event whenever it detects that the current script has changed or started/stopped</p>
<h3><a class="anchor" id="rcApiSearch"></a>
api/search</h3>
<p>Implements object search functionality, connecting to the <a class="el" href="group__remoteControl.html#classObjectService" title="Provides operations to look up objects in the Stellarium catalogs. ">ObjectService</a> and the <a class="el" href="group__remoteControl.html#classSimbadService" title="Allows SIMBAD object lookups like SearchDialog uses. ">SimbadService</a>. The following methods are provided:</p><ul>
<li><code>loadObjectTypes</code> - loads the list of object types, takes a callback</li>
<li><code>loadObjectList</code> - loads the list of objects of a specified type, can return english or localized names</li>
<li><code>selectObjectByName</code> - selects the object that matches the specified name</li>
<li><code>focusPosition</code> - focuses the given coordinate (array of 3 numbers) in the J2000 frame</li>
<li><code>performSearch</code> - performs an object lookup in Stellarium's internal catalog and Simbad. In addition to the search string, 2 callbacks must be given as parameters: one for the catalog results, and one for the simbad results. If a search is currently running, it is aborted (meaning the callbacks won't be called for the old searches), allowing this method to be repeatedly called while the user is typing. The Simbad search is only started after a small interval without typing, to reduce the overhead of the external web requests.</li>
</ul>
<p>While a search is running, it emits <code>simbadStateChange</code> events to notify the UI of the current state of the lookup.</p>
<h3><a class="anchor" id="rcApiTime"></a>
api/time</h3>
<p>Contains time-related functions and conversions, similar to what <a class="el" href="classStelCore.html" title="Main class for Stellarium core processing. ">StelCore</a> does. This module keeps it's own sense of Stellariums current time, to provide an updated interface even between the <code>status</code> polls of the <a class="el" href="remoteControlWeb.html#rcApiRemotecontrol">api/remotecontrol</a> module.</p>
<p>It provides following methods:</p><ul>
<li><code>getCurrentTime</code> - calculates the best guess to the current Stellarium simulation time. This depends on the information received with the last <code>status</code> poll, the time since the last data was received and the time the last time change was performed</li>
<li><code>isRealTimeSpeed</code> - true if the simulation time currently flows at the same rate as the real time (1 sec per sec).</li>
<li><code>jdayToDate</code> - converts a jDay (single number) to Day/Month/Year format, this returns a JS object with <code>day</code>, <code>month</code>, <code>year</code> fields instead of a JS Date object because of its limitations.</li>
<li><code>jdayToDate</code> - returns the time component of the given jDay, as a JS object with <code>hour</code>, <code>minute</code>, <code>second</code> fields</li>
<li><code>dateTimeToJd</code> - converts a time given in Y/M/D-H/MIN/S format to a jDay</li>
<li><code>dateTimeForRollover</code> - like StelUtils::changeDateTimeForRollover</li>
<li><code>isTimeUpdatePending</code> - if true, there is a time change which has not yet been sent to the server</li>
<li><code>increaseTimeRate</code> - increases the Stellarium simulation time rate (like <a class="el" href="classStelCore.html#a66d83912bf421083c6940cfacd3ce2da" title="Increase the time speed. ">StelCore::increaseTimeSpeed</a>)</li>
<li><code>decreaseTimeRate</code> - decreases the Stellarium simulation time rate (like <a class="el" href="classStelCore.html#a9f35e12f299dd5a9af557437692a2f6d" title="Decrease the time speed. ">StelCore::decreaseTimeSpeed</a>)</li>
<li><code>isRewind</code> - returns true if the time currently flows backwards (at least at -0.99 sec / sec)</li>
<li><code>isFastForward</code> - returns true if time currently is flowing faster than real time</li>
<li><code>isTimeNow</code> - returns true if the current simulation time is very close to the actual system time</li>
<li><code>isTimeStopped</code> - returns true if the simulation time rate is zero</li>
<li><code>togglePlayPause</code> - toggles between timerates 0 and 1 sec/sec</li>
<li><code>setDateNow</code> - sets the simulation time to the current system time</li>
<li><code>setJDay</code> - sets the time to the specified JDay</li>
<li><code>setTimeFromTimeObj</code> - sets the time from a "time object", containing both date and time in the following format <div class="fragment"><div class="line">{</div><div class="line">    date : {</div><div class="line">        year, month, day</div><div class="line">    },</div><div class="line">    time : {</div><div class="line">        hour, minute, second</div><div class="line">    }</div><div class="line">}</div></div><!-- fragment --></li>
<li><code>getTimeData</code> - returns the current time data, containing the last response from the server (including timezone info, etc) The event <code>timeDataUpdated</code> is sent whenever this changes.</li>
</ul>
<h3><a class="anchor" id="rcApiUpdatequeue"></a>
api/updatequeue</h3>
<p>This implements a simple update queue class that updates the server after a specified interval if the user does nothing else inbetween. This is used to limit the rate at which updates are sent to the server. The <code>UpdateQueue</code> constructor takes an url and a callback for the result, and when the interface needs to send an update, <code>enqueue</code> can be called with the data to send.</p>
<h3><a class="anchor" id="rcApiViewcontrol"></a>
api/viewcontrol</h3>
<p>Implements the FOV access and viewport movement methods. Use <code>setFOV</code> to set the FOV, the <code>fovChanged</code> event is sent whenever the FOV changes. There are <code>moveRight</code>, <code>moveUp</code>, <code>moveUpRight</code> etc. methods that allow the user to move the viewport. To stop the movement, use <code>stopMovement</code>.</p>
<h3><a class="anchor" id="rcApiViewoptions"></a>
api/viewoptions</h3>
<p>Implements the loading of the projection, landscape and skyculture lists.</p>
<h3><a class="anchor" id="rcUiMainui"></a>
ui/mainui</h3>
<p>This is the main module of the interface. It lists all the other UI modules as a dependency. It starts of the update look of the <code>rcApiRemotecontrol</code> module, handles the automatic generation of the <a class="el" href="remoteControlWeb.html#remoteControlWebUIClasses">special controls</a> and <a class="el" href="remoteControlWeb.html#remoteControlWebstelproperty">connection of StelProperty controls</a>, and performs smooth animation of the time controls. It also keeps track of the current interface tab the user is on, and restores it when the page is reloaded.</p>
<h3><a class="anchor" id="rcUiActions"></a>
ui/actions</h3>
<p>Implements the action list and the <a class="el" href="remoteControlWeb.html#remoteControlWebstelaction">StelAction buttons and checkboxes</a>.</p>
<h3><a class="anchor" id="rcUiCombobox"></a>
ui/combobox</h3>
<p>Implements a custom combobox control, on top of the jQuery UI <code>autocomplete</code> control. This is used for example in the location controls.</p>
<h3><a class="anchor" id="rcUiJqueryuifixes"></a>
ui/jqueryuifixes</h3>
<p>Includes some fixes to the standard jQuery UI control classes, especially for the spinner, to provide a unified change event, prevent non-numeric input and better touch support. This module is automatically loaded whenever other modules load the "jquery-ui" module.</p>
<h3><a class="anchor" id="rcUiLocation"></a>
ui/location</h3>
<p>Implements the location controls, such as the map which can be clicked and the comboboxes for the current location.</p>
<h3><a class="anchor" id="rcUiScripts"></a>
ui/scripts</h3>
<p>Implements the script list and shows the active script.</p>
<h3><a class="anchor" id="rcUiSearch"></a>
ui/search</h3>
<p>Implements the object search panel and the quick select buttons.</p>
<h3><a class="anchor" id="rcUiTime"></a>
ui/time</h3>
<p>Implements the time controls, the <code>updateTimeDisplay</code> method is called repeatedly as an animation by the <a class="el" href="remoteControlWeb.html#rcUiMainui">ui/mainui</a> module.</p>
<h3><a class="anchor" id="rcUiViewcontrol"></a>
ui/viewcontrol</h3>
<p>Implements the FOV slider and the "virtual joystick" for the viewport movement.</p>
<h3><a class="anchor" id="rcUiViewoptions"></a>
ui/viewoptions</h3>
<p>Implements the projection, landscape and skyculture lists, and some minor things related to other view options. </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Jul 26 2020 12:15:38 for Stellarium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
