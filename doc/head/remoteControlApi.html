<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "https://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.17"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stellarium: RemoteControl plugin HTTP API description</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stellarium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stellarium
   &#160;<span id="projectnumber">HEAD</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.17 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
/* @license magnet:?xt=urn:btih:cf05388f2679ee054f2beb29a391d25f4e673ac3&amp;dn=gpl-2.0.txt GPL-v2 */
$(function() {
  initMenu('',false,false,'search.php','Search');
});
/* @license-end */</script>
<div id="main-nav"></div>
<div id="nav-path" class="navpath">
  <ul>
<li class="navelem"><a class="el" href="remoteControlDoc.html">Remote Control Plug-in documentation</a></li>  </ul>
</div>
</div><!-- top -->
<div class="PageDoc"><div class="header">
  <div class="headertitle">
<div class="title">RemoteControl plugin HTTP API description </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#rcExtendApi">Extending the API</a></li>
<li class="level1"><a href="#rcApiReference">API reference</a><ul><li class="level2"><a href="#rcMainService">MainService operations (/api/main/)</a><ul><li class="level3"><a href="#rcMainServiceGET">GET operations</a><ul><li class="level4"><a href="#rcMainServiceStatus">status</a></li>
<li class="level4"><a href="#rcMainServicePlugins">plugins</a></li>
<li class="level4"><a href="#rcMainServiceViewGet">view</a></li>
</ul>
</li>
<li class="level3"><a href="#rcMainServicePOST">POST operations</a><ul><li class="level4"><a href="#rcMainServiceTime">time</a></li>
<li class="level4"><a href="#rcMainServiceFocus">focus</a></li>
<li class="level4"><a href="#rcMainServiceMove">move</a></li>
<li class="level4"><a href="#rcMainServiceView">view</a></li>
<li class="level4"><a href="#rcMainServiceFov">fov</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcObjectService">ObjectService operations (/api/objects/)</a><ul><li class="level3"><a href="#rcObjectServiceGET">GET operations</a><ul><li class="level4"><a href="#rcObjectServiceFind">find</a></li>
<li class="level4"><a href="#rcObjectServiceInfo">info</a></li>
<li class="level4"><a href="#rcObjectServiceListobjecttypes">listobjecttypes</a></li>
<li class="level4"><a href="#rcObjectServiceListobjectsbytype">listobjectsbytype</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcScriptService">ScriptService operations (/api/scripts/)</a><ul><li class="level3"><a href="#rcScriptServiceGET">GET operations</a><ul><li class="level4"><a href="#rcScriptServiceList">list</a></li>
<li class="level4"><a href="#rcScriptServiceInfo">info</a></li>
<li class="level4"><a href="#rcScriptServiceStatus">status</a></li>
</ul>
</li>
<li class="level3"><a href="#rcScriptServicePOST">POST operations</a><ul><li class="level4"><a href="#rcScriptServiceRun">run</a></li>
<li class="level4"><a href="#rcScriptServiceDirect">direct</a></li>
<li class="level4"><a href="#rcScriptServiceStop">stop</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcSimbadService">SimbadService operations (/api/simbad/)</a><ul><li class="level3"><a href="#rcSimbadServiceGET">GET operations</a><ul><li class="level4"><a href="#rcSimbadServiceLookup">lookup</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcStelActionService">StelAction operations (/api/stelaction/)</a><ul><li class="level3"><a href="#rcStelActionServiceGET">GET operations</a><ul><li class="level4"><a href="#rcStelActionServiceList">list</a></li>
</ul>
</li>
<li class="level3"><a href="#rcStelActionServicePOST">POST operations</a><ul><li class="level4"><a href="#rcStelActionServiceDo">do</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcStelPropertyService">StelProperty operations (/api/stelproperty/)</a><ul><li class="level3"><a href="#rcStelPropertyServiceGET">GET operations</a><ul><li class="level4"><a href="#rcStelPropertyServiceList">list</a></li>
</ul>
</li>
<li class="level3"><a href="#rcStelPropertyServicePOST">POST operations</a><ul><li class="level4"><a href="#rcStelPropertyServiceSet">set</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcLocationService">LocationService operations (/api/location/)</a><ul><li class="level3"><a href="#rcLocationServiceGET">GET operations</a><ul><li class="level4"><a href="#rcLocationServiceList">list</a></li>
<li class="level4"><a href="#rcLocationServiceCountrylist">countrylist</a></li>
<li class="level4"><a href="#rcLocationServicePlanetlist">planetlist</a></li>
<li class="level4"><a href="#rcLocationServicePlanetimage">planetimage</a></li>
</ul>
</li>
<li class="level3"><a href="#rcLocationServicePOST">POST operations</a><ul><li class="level4"><a href="#rcLocationServiceSetlocationfields">setlocationfields</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcLocationSearchService">LocationSearchService operations (/api/locationsearch/)</a><ul><li class="level3"><a href="#rcLocationSearchServiceGET">GET operations</a><ul><li class="level4"><a href="#rcLocationSearchServiceSearch">search</a></li>
<li class="level4"><a href="#rcLocationSearchServiceNearby">nearby</a></li>
</ul>
</li>
</ul>
</li>
<li class="level2"><a href="#rcViewService">ViewService operations (/api/view/)</a><ul><li class="level3"><a href="#rcViewServiceGET">GET operations</a><ul><li class="level4"><a href="#rcViewServiceListlandscape">listlandscape</a></li>
<li class="level4"><a href="#rcViewServiceLandscapedescription">landscapedescription/</a></li>
<li class="level4"><a href="#rcViewServiceListskyculture">listskyculture</a></li>
<li class="level4"><a href="#rcViewServiceSkyculturedescription">skyculturedescription/</a></li>
<li class="level4"><a href="#rcViewServiceListprojection">listprojection</a></li>
<li class="level4"><a href="#rcViewServiceProjectiondescription">projectiondescription</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><p>The <a class="el" href="group__remoteControl.html">RemoteControl plugin</a> provides an HTTP-based interface to Stellarium, implemented on the server-side through implementations of <a class="el" href="group__remoteControl.html#classAbstractAPIService" title="Abstract base class for all RemoteControlServiceInterface implementations which are provided by the R...">AbstractAPIService</a>. The <a class="el" href="group__remoteControl.html#classAPIController">APIController</a> maintains the list of registered services, and dispatches HTTP requests to the right service. The API is accessible under the server path <code>/api/</code>. For example, if you have the server running on the default port of 8090, you can access the operation <a class="el" href="remoteControlApi.html#rcObjectServiceFind">find</a> of the <a class="el" href="group__remoteControl.html#classObjectService">ObjectService</a> to look for objects with <code>moon</code> in their name by accessing </p><div class="fragment"><div class="line">http:<span class="comment">//localhost:8090/api/objects/find?str=moon</span></div>
<div class="line">|____________________|___|_______|____|_______|</div>
<div class="line">          |            |     |      |     |------ Standard HTTP query <span class="keywordtype">string</span> <span class="keywordflow">for</span> parameters (key=value)</div>
<div class="line">          |            |     |      |------------ find operation (defined by service)</div>
<div class="line">          |            |     |------------------- service (e.g. <a class="code" href="group__remoteControl.html#classObjectService">ObjectService</a>)</div>
<div class="line">          |            |------------------------- API prefix (always /api/)</div>
<div class="line">          |-------------------------------------- server access (http:<span class="comment">//host:port)</span></div>
</div><!-- fragment --><p>Instead of the <a class="el" href="remoteControlWeb.html">HTTP remote interface</a> you can also use tools like <a href="https://curl.haxx.se/">cURL</a> to access the API remotely. For POST operations, you would use the flag <code>-d</code> to pass parameters. For GET operations, you should use the additional flag <code>-G</code> if parameters are required. Examples: </p><div class="fragment"><div class="line"># retrieve info about the script &quot;double_stars.ssc&quot; with a GET request</div>
<div class="line">curl -G -d &#39;id=double_stars.ssc&#39; http://localhost:8090/api/scripts/info</div>
<div class="line"># run the script &quot;double_stars.ssc&quot; with a POST request</div>
<div class="line">curl -d &#39;id=double_stars.ssc&#39; http://localhost:8090/api/scripts/run</div>
</div><!-- fragment --><p>If authentication is enabled (see <a class="el" href="group__remoteControl.html#classRemoteControl">RemoteControl</a> class), <a href="https://en.wikipedia.org/wiki/Basic_access_authentication">HTTP Basic access authentication</a> is expected, with an empty username. HTTPS configuration is currently not implemented, even if the underlying <a class="el" href="group__qtWebApp.html">QtWebApp library</a> would allow it.</p>
<p>Most operations return data in the <a href="http://www.json.org/">JSON</a> format, allowing it to be easily used in web applications. The format of the returned JSON data is described for each operation below. Some operations return plain text if only simple data is requested, or to confirm the success of an operation: to indicate success "ok" may be returned, in an error case an HTTP error code may be returned together with a string "error: error message" in the response body. Other operations may return HTML or even image data, you can check the returned Content-Type header if you are not sure what to expect.</p>
<h1><a class="anchor" id="rcExtendApi"></a>
Extending the API</h1>
<p>The simplest way to expose new data through the API is by using the <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object,...">StelProperty</a> system for a property you want to access. In this way, the data is available through the <a class="el" href="group__remoteControl.html#classMainService">MainService</a> (allowing tracking of changes) and the <a class="el" href="group__remoteControl.html#classStelPropertyService">StelPropertyService</a> (giving a snapshot of current values, metadata information and allowing to change values). You do not need to change/implement a new service in any way for this case.</p>
<p>If you want to expose more complex behaviour, you may need to implement your own <a class="el" href="group__remoteControl.html#classAbstractAPIService" title="Abstract base class for all RemoteControlServiceInterface implementations which are provided by the R...">AbstractAPIService</a> and register it with the <a class="el" href="group__remoteControl.html#classAPIController">APIController</a>. </p>
<h1><a class="anchor" id="rcApiReference"></a>
API reference</h1>
<p>The default services are registered in the <a class="el" href="group__remoteControl.html#ae1428c8d3b6fd377aedc093d00617c8d" title="Constructs the request handler.">RequestHandler::RequestHandler()</a> constructor. They are:</p>
<table class="markdownTable">
<tr class="markdownTableHead">
<th class="markdownTableHeadNone">Service </th><th class="markdownTableHeadNone">Path </th><th class="markdownTableHeadNone">Description  </th></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classMainService">MainService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcMainService">main</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classObjectService">ObjectService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcObjectService">objects</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone">ScriptService </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcScriptService">scripts</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classSimbadService">SimbadService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcSimbadService">simbad</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classStelActionService">StelActionService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcStelActionService">stelaction</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classStelPropertyService">StelPropertyService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcStelPropertyService">stelproperty</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classLocationService">LocationService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcLocationService">location</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowEven">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classLocationSearchService">LocationSearchService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcLocationSearchService">locationsearch</a> </td><td class="markdownTableBodyNone"></td></tr>
<tr class="markdownTableRowOdd">
<td class="markdownTableBodyNone"><a class="el" href="group__remoteControl.html#classViewService">ViewService</a> </td><td class="markdownTableBodyNone"><a class="el" href="remoteControlApi.html#rcViewService">view</a> </td><td class="markdownTableBodyNone"></td></tr>
</table>
<h2><a class="anchor" id="rcMainService"></a>
MainService operations (/api/main/)</h2>
<h3><a class="anchor" id="rcMainServiceGET"></a>
GET operations</h3>
<p>Implemented by MainService::getImpl</p>
<h4><a class="anchor" id="rcMainServiceStatus"></a>
status</h4>
<p>Parameters: <code>[actionId (Number)] [propId (Number)]</code><br  />
This operation can be polled every few moments to find out if some primary Stellarium state changed. It returns a JSON object with the following format: </p><div class="fragment"><div class="line">{</div>
<div class="line">    //current location information, see StelLocation</div>
<div class="line">    location : {</div>
<div class="line">        name,</div>
<div class="line">        role,</div>
<div class="line">        planet,</div>
<div class="line">        latitude,</div>
<div class="line">        longitude,</div>
<div class="line">        altitude,</div>
<div class="line">        country,</div>
<div class="line">        state,</div>
<div class="line">        landscapeKey</div>
<div class="line">    },</div>
<div class="line">    //current time information</div>
<div class="line">    time : {</div>
<div class="line">        jday,       //current Julian day</div>
<div class="line">        deltaT,     //current deltaT as determined by the current dT algorithm</div>
<div class="line">        gmtShift,   //the timezone shift to GMT</div>
<div class="line">        timeZone,   //the timezone name</div>
<div class="line">        utc,        //the time in UTC time zone as ISO8601 time string</div>
<div class="line">        local,      //the time in local time zone as ISO8601 time string</div>
<div class="line">        isTimeNow,  //if true, the Stellarium time equals the current real-world time</div>
<div class="line">        timerate    //the current time rate (in secs)</div>
<div class="line">    },</div>
<div class="line">    selectioninfo, //string that contains the information of the currently selected object, as returned by StelObject::getInfoString</div>
<div class="line">    view : {</div>
<div class="line">        fov     //current FOV</div>
<div class="line">    },</div>
<div class="line"> </div>
<div class="line">    //the following is only inserted if an actionId parameter was given</div>
<div class="line">    //see below for more info</div>
<div class="line">    actionChanges : {</div>
<div class="line">        id, //currently valid action id, the interface should update its own id to this value</div>
<div class="line">        changes : {</div>
<div class="line">                //a list of boolean actions that changed since the actionId parameter</div>
<div class="line">                &lt;actionName&gt; : &lt;actionValue&gt;</div>
<div class="line">        }</div>
<div class="line">    },</div>
<div class="line">    //the following is only inserted if an propId parameter was given</div>
<div class="line">    //see below for more info</div>
<div class="line">    propertyChanges : {</div>
<div class="line">        id, //currently valid prop id, the interface should update its own id to this value</div>
<div class="line">        changes : {</div>
<div class="line">                //a list of properties that changed since the propId parameter</div>
<div class="line">                &lt;propName&gt; : &lt;propValue&gt;</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><p>The <code>actionChanges</code> and <code>propertyChanges</code> sections allow a remote interface to track boolean <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method,...">StelAction</a> and/or <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object,...">StelProperty</a> changes. On the initial poll, you should pass -2 as <code>propId</code> and <code>actionId</code>. This indicates to the service that you want a full list of properties/actions and their current values. When receiving the answer, you should set your local <code>propId</code> /<code>actionId</code> to the id contained in <code>actionChanges</code> and <code>propertyChanges</code>, and re-send it with the next request as parameter again. This allows the <a class="el" href="group__remoteControl.html#classMainService">MainService</a> to find out which changes must be sent to you (it maintains a queue of action/property changes internally, incrementing the ID with each change), and you only have to process the differences instead of everything.</p>
<h4><a class="anchor" id="rcMainServicePlugins"></a>
plugins</h4>
<p>Returns the list of all known plugins, as a JSON object of format: </p><div class="fragment"><div class="line">{</div>
<div class="line">    //list of known plugins, in format:</div>
<div class="line">    &lt;pluginName&gt; : {</div>
<div class="line">        loadAtStartup,  //if to load the plugin at startup</div>
<div class="line">        loaded,     //if the plugin is currently loaded</div>
<div class="line">        //corresponds to the StelPluginInfo of the plugin</div>
<div class="line">        info : {</div>
<div class="line">                authors,</div>
<div class="line">                contact,</div>
<div class="line">                description,</div>
<div class="line">                displayedName,</div>
<div class="line">                startByDefault,</div>
<div class="line">                version</div>
<div class="line">        }</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcMainServiceViewGet"></a>
view</h4>
<p>Parameters: <code>[coord (j2000|jNow|altAz) ] [ ref (on|off|auto) ]</code><br  />
Returns the current view direction, as a JSON object of format: </p><div class="fragment"><div class="line">{</div>
<div class="line">    //list of view directions, in format:</div>
<div class="line">    &quot;j2000&quot; : &quot;[x,y,z]&quot;,</div>
<div class="line">    &quot;jNow&quot;  : &quot;[x,y,z]&quot;,</div>
<div class="line">    &quot;altAz&quot; : &quot;[x,y,z]&quot;</div>
<div class="line">}</div>
</div><!-- fragment --><p>Without the optional <code>coord</code>, all versions are returned. The returned values are 3D vectors. </p><table class="doxtable">
<tr>
<td>x=</td><td>cos(&delta;)*cos(&alpha;) </td></tr>
<tr>
<td>y=</td><td>cos(&delta;)*sin(&alpha;) </td></tr>
<tr>
<td>z=</td><td>sin(&delta;)  </td></tr>
</table>
<p>For the vector in <code>altAz</code> system, the actually returned values are based on an azimuth Az' counted from South (x=1) towards East (y=1), Az'=180-Az. </p><table class="doxtable">
<tr>
<td>x=</td><td>cos(alt)*cos(Az') </td></tr>
<tr>
<td>y=</td><td>cos(alt)*sin(Az') </td></tr>
<tr>
<td>z=</td><td>sin(alt)  </td></tr>
</table>
<p>If the optional parameter <code>ref</code> is given, it governs refraction setting and it applies to the <code>jNow</code> output only. "On" applies refraction, "off" does not apply, and "auto" (or any other value) applies it when atmosphere setting is active.</p>
<h3><a class="anchor" id="rcMainServicePOST"></a>
POST operations</h3>
<p>Implemented by MainService::postImpl</p>
<h4><a class="anchor" id="rcMainServiceTime"></a>
time</h4>
<p>Parameters: <code>time (Number) timerate (Number)</code><br  />
Sets the current Stellarium simulation time and/or timerate. The <code>time</code> parameter defines the current time (Julian day) as passed to <a class="el" href="classStelCore.html#abcb7d96b19733a91a797b1bb489b3765" title="Set the current date in Julian Day (UT)">StelCore::setJD</a>. The <code>timerate</code> parameter allows to change the speed at which the simulation time moves (in JDay/sec) as passed to <a class="el" href="classStelCore.html#a2c1e13e2417cce9b840b78a40e00fc33" title="Set time speed in JDay/sec.">StelCore::setTimeRate</a>.</p>
<h4><a class="anchor" id="rcMainServiceFocus"></a>
focus</h4>
<p>Parameters: <code>[target (String) | position (JSON Number Array of size 3, i.e. Vec3d)] [mode (String)]</code><br  />
Sets the current app focus/selection. If no parameters are given, the current selection is cleared. If the <code>target</code> parameter was given, the object to be selected is looked up by name (first the localized name is tried, then the english name). If the optional <code>mode</code> parameter is given, it determines how to change the view. The default is <code>'center'</code> which selects the object and moves it into the view's center. If it is set to <code>'zoom'</code>, it automatically zooms in on the object (<a class="el" href="classStelMovementMgr.html#a8a0b18883d5c026da0963f2fff9ff480" title="Go and zoom to the selected object. A later call to autoZoomOut will come back to the previous zoom l...">StelMovementMgr::autoZoomIn</a>) on selection and automatically zooms out when the selection is cleared. If it is set to <code>'mark'</code>, the selection is just marked, but no view adjustment is done. If the <code>position</code> parameter is used, it is interpreted as a coordinate in the J2000 frame, and focused using <a class="el" href="classStelMovementMgr.html#a3fea9d51e7b58061814f43080ad96c42" title="Move the view to a specified J2000 position.">StelMovementMgr::moveToJ2000</a>. The <code>mode</code> parameter has no effect here. The <code>target</code> parameter takes precendence over the <code>position</code> parameter, if both are given.</p>
<h4><a class="anchor" id="rcMainServiceMove"></a>
move</h4>
<p>Parameters: <code>x (Number) y (Number)</code><br  />
Allows viewport movement, like using the arrow keys in the main program. This allows interfaces to create a "virtual joystick" to move the view manually. This operation defines the intended move direction. <code>x</code> and <code>y</code> define the intended move speed in azimuth and altitude (i.e. a negative <code>x</code> means left). Values of +-1.0 correspond to the same speed as used for the arrow keys. This operation works in conjunction with the update() method - until the movement is stopped (i.e. <code>x</code> and <code>y</code> are zero), or no <code>move</code> command has been received for a specified time (about a second), the movement is performed in the given directions.</p>
<h4><a class="anchor" id="rcMainServiceView"></a>
view</h4>
<p>Parameters: <code>j2000 (Vec3d) | jNow (Vec3d) [ ref (on|off|auto) ] | altAz (Vec3d) | (az (Number) alt (Number))</code><br  />
Sets the view direction. When the <code>j2000</code> parameter is given (interpreted as JSON Number Array of size 3), it sets the view in J2000 coordinates (see <a class="el" href="classStelMovementMgr.html#a96cdd713bc602c568200e4cbdbbe09c3" title="Set the current viewing direction in the equatorial J2000 frame.">StelMovementMgr::setViewDirectionJ2000</a>). When the <code>jNow</code> parameter is given (interpreted as JSON Number Array of size 3), it sets the view in coordinates of current date. An optional parameter <code>ref</code> governs refraction mode, default <code>auto</code>. When the <code>altAz</code> parameter is given, the 3-element vector is interpreted as if in the rectangular surface direction frame centered on the current location. For example, <code>[1,0,0]</code> would point the view directly south, and <code>[0,1,0]</code> directly east. The last parameter style provides the view in altitude/azimuth spherical coordinates/angles. <code>az</code> and <code>alt</code> must be given in radians. Omitting one value will keep the relevant coordinate unchanged.</p>
<h4><a class="anchor" id="rcMainServiceFov"></a>
fov</h4>
<p>Parameters: <code>fov (Number)</code><br  />
Sets the current field-of-view using StelCore::setFov</p>
<h2><a class="anchor" id="rcObjectService"></a>
ObjectService operations (/api/objects/)</h2>
<h3><a class="anchor" id="rcObjectServiceGET"></a>
GET operations</h3>
<p>Implemented by ObjectService::getImpl</p>
<h4><a class="anchor" id="rcObjectServiceFind"></a>
find</h4>
<p>Parameters: <code>str (String)</code><br  />
Finds objects which match the search string <code>str</code>, which may contain greek/unicode characters like in the <a class="el" href="classSearchDialog.html">SearchDialog</a>. Returns a JSON String array of search matches</p>
<h4><a class="anchor" id="rcObjectServiceInfo"></a>
info</h4>
<p>Parameters: <code>[name (String)]</code><br  />
Parameters: <code>[format (String)]</code> (strings "json" or "map" for JSON, any other value provides HTML)<br  />
Returns an info string about the object identified by <code>name</code> in HTML (<a class="el" href="classStelObject.html#aba01f4a7783fb557cb28bd8d1319a6b8" title="Write I18n information about the object in QString.">StelObject::getInfoString</a>) or JSON (<a class="el" href="classStelObject.html#a16e447c2dc2cbbe6e4e308376ae0c5ca" title="Return a key/value map with data about an object&#39;s position, magnitude and so on.">StelObject::getInfoMap</a>) format. If no parameter <code>name</code> is given, the currently selected object is used.</p>
<h4><a class="anchor" id="rcObjectServiceListobjecttypes"></a>
listobjecttypes</h4>
<p>Returns all object types available in the internal catalogs as a JSON array of objects of format </p><div class="fragment"><div class="line">{</div>
<div class="line">    key,    //the internal key for the object type</div>
<div class="line">    name,   //the english name of the type</div>
<div class="line">    name_i18n //the type name in the current language</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcObjectServiceListobjectsbytype"></a>
listobjectsbytype</h4>
<p>Parameters: <code>type (String) [english (Number)]</code><br  />
Returns all objects of the specified <code>type</code>. If <code>english</code> is given and it evaluates to a "true" value, the english names will be returned, otherwise the localized names will be returned. Returns a JSON string array.</p>
<h2><a class="anchor" id="rcScriptService"></a>
ScriptService operations (/api/scripts/)</h2>
<dl class="section note"><dt>Note</dt><dd>Stellarium must have been built with ENABLE_SCRIPTING (default).</dd></dl>
<h3><a class="anchor" id="rcScriptServiceGET"></a>
GET operations</h3>
<p>Implemented by ScriptService::getImpl</p>
<h4><a class="anchor" id="rcScriptServiceList"></a>
list</h4>
<p>Lists all known script files, as a JSON string array.</p>
<h4><a class="anchor" id="rcScriptServiceInfo"></a>
info</h4>
<p>Parameters: <code>id (String) [html (any type)] </code><br  />
Returns information about the script identified by <code>id</code>. If the optional parameter <code>html</code> is present (its value is ignored), the info is formatted using <a class="el" href="classStelScriptMgr.html#a88ab5e23e57623d39f5d8e75e6d6f454" title="Returns a HTML description of the specified script.">StelScriptMgr::getHtmlDescription</a> and suitable for inclusion into an <code>iframe</code> element, otherwise this operation returns a JSON object of format: </p><div class="fragment"><div class="line">{</div>
<div class="line">    id, //the script ID</div>
<div class="line">    name,   //the english name of the script</div>
<div class="line">    name_localized, //the localized name of the script</div>
<div class="line">    description,    //the english description of the script</div>
<div class="line">    description_localized,  //the localized description of the script</div>
<div class="line">    author, //the author(s) of the script</div>
<div class="line">    license //the license of the script</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcScriptServiceStatus"></a>
status</h4>
<p>Returns the current script status as a JSON object of format: </p><div class="fragment"><div class="line">{</div>
<div class="line">    scriptIsRunning,    //true if a script is running</div>
<div class="line">    runningScriptId     //the currently running script ID</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The <a class="el" href="classStelScriptMgr.html" title="Manage scripting in Stellarium.">StelScriptMgr</a> also provides a <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object,...">StelProperty</a> <code>StelScriptMgr.runningScriptId</code> that can be used to find out the active script.</dd></dl>
<h3><a class="anchor" id="rcScriptServicePOST"></a>
POST operations</h3>
<p>Implemented by ScriptService::postImpl</p>
<h4><a class="anchor" id="rcScriptServiceRun"></a>
run</h4>
<p>Parameters: <code>id (String)</code><br  />
Runs the script with the given <code>id</code>. Will fail if a script is currently running.</p>
<h4><a class="anchor" id="rcScriptServiceDirect"></a>
direct</h4>
<p>Parameters: <code>code (String) [useIncludes (Bool)]</code><br  />
Directly executes the given script <code>code</code>. If <code>useIncludes</code> is given and evaluates to true, the standard include folder will be used. Script execution will fail if a script is already running.</p>
<h4><a class="anchor" id="rcScriptServiceStop"></a>
stop</h4>
<p>Stops the execution of a running script.</p>
<h2><a class="anchor" id="rcSimbadService"></a>
SimbadService operations (/api/simbad/)</h2>
<h3><a class="anchor" id="rcSimbadServiceGET"></a>
GET operations</h3>
<p>Implemented by SimbadService::getImpl</p>
<h4><a class="anchor" id="rcSimbadServiceLookup"></a>
lookup</h4>
<p>Parameters: <code>str (String)</code><br  />
Performs a SIMBAD lookup for the string <code>str</code> using the Stellarium-configured server and returns the results as a JSON object of format </p><div class="fragment"><div class="line">{</div>
<div class="line">    status, //the status of the lookup: either &quot;empty&quot; when nothing was found, &quot;found&quot; when at least 1 result was returned, and &quot;error&quot; if the lookup caused an error</div>
<div class="line">    status_i18n, //a localized status message for display</div>
<div class="line">    errorString, //if the status is &quot;error&quot;, this contains more information about it</div>
<div class="line">    results: {</div>
<div class="line">        names : [</div>
<div class="line">                //an array of object names</div>
<div class="line">        ],</div>
<div class="line">        positions : [</div>
<div class="line">                //an array of object positions (i.e. first one corresponds to first name, etc.)</div>
<div class="line">                //format is an array of 3 numbers for each entry, i.e.:</div>
<div class="line">                [1,2,3],...</div>
<div class="line">        ]</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --><h2><a class="anchor" id="rcStelActionService"></a>
StelAction operations (/api/stelaction/)</h2>
<h3><a class="anchor" id="rcStelActionServiceGET"></a>
GET operations</h3>
<p>Implemented by StelActionService::getImpl</p>
<h4><a class="anchor" id="rcStelActionServiceList"></a>
list</h4>
<p>Lists all registered StelActions, in the format </p><div class="fragment"><div class="line">{</div>
<div class="line">    //translated StelAction group name</div>
<div class="line">    &lt;groupName&gt; : [</div>
<div class="line">        //all StelActions in the group &lt;groupName&gt;</div>
<div class="line">        &lt;actionName&gt; : {</div>
<div class="line">                id, //the ID of the action</div>
<div class="line">                isCheckable,    //true if the action represents a boolean value</div>
<div class="line">                isChecked,  //if &quot;isCheckable&quot; is true, shows the current boolean state</div>
<div class="line">                text    //the translated description of the action</div>
<div class="line">        }</div>
<div class="line">    ]</div>
<div class="line">}</div>
</div><!-- fragment --><h3><a class="anchor" id="rcStelActionServicePOST"></a>
POST operations</h3>
<p>Implemented by StelActionService::postImpl</p>
<h4><a class="anchor" id="rcStelActionServiceDo"></a>
do</h4>
<p>Parameters: <code>id (String)</code><br  />
Triggers or toggles the <a class="el" href="classStelAction.html" title="Wrapper around an argumentless QObject slot or a bool Q_PROPERTY with WRITE method,...">StelAction</a> specified by <code>id</code>. If it was a boolean action, returns the new state of the action (strings "true"/"false").</p>
<h2><a class="anchor" id="rcStelPropertyService"></a>
StelProperty operations (/api/stelproperty/)</h2>
<h3><a class="anchor" id="rcStelPropertyServiceGET"></a>
GET operations</h3>
<p>Implemented by StelPropertyService::getImpl</p>
<h4><a class="anchor" id="rcStelPropertyServiceList"></a>
list</h4>
<p>Lists all registered StelProperties, in the format </p><div class="fragment"><div class="line">{</div>
<div class="line">    &lt;propId&gt; : {</div>
<div class="line">        value, //the current value of the StelProperty</div>
<div class="line">        variantType, //the type string of the &quot;value&quot;, as determined by QVariant::typeName</div>
<div class="line">        typeString, //the type string of the StelProperty, as determined by QMetaProperty::typeName (may not be equal to &quot;variantType&quot;)</div>
<div class="line">        typeEnum, //the enum value of the type of the StelProperty, as determined by StelProperty::getType</div>
<div class="line">    }</div>
<div class="line">}</div>
</div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>The generic type conversions are done by QJsonValue::fromVariant</dd></dl>
<h3><a class="anchor" id="rcStelPropertyServicePOST"></a>
POST operations</h3>
<p>Implemented by StelPropertyService::postImpl</p>
<h4><a class="anchor" id="rcStelPropertyServiceSet"></a>
set</h4>
<p>Parameters: <code>id (String) value (String)</code><br  />
Sets the <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object,...">StelProperty</a> identified by <code>id</code> to the value <code>value</code>. The value is converted to the <a class="el" href="classStelProperty.html" title="Wrapper around a Q_PROPERTY (see the Qt property system for more information) of a specific object,...">StelProperty</a> type using QVariant logic, an error is returned if this is somehow not possible.</p>
<h2><a class="anchor" id="rcLocationService"></a>
LocationService operations (/api/location/)</h2>
<h3><a class="anchor" id="rcLocationServiceGET"></a>
GET operations</h3>
<p>Implemented by LocationService::getImpl</p>
<h4><a class="anchor" id="rcLocationServiceList"></a>
list</h4>
<p>Returns the list of all stored location IDs (keys of <a class="el" href="classStelLocationMgr.html#a2abc18f3b1db9f1c6cc2dae6a1820107" title="Returns a map of all loaded locations. The key is the location ID, suitable for a list view.">StelLocationMgr::getAllMap</a>) as JSON string array</p>
<h4><a class="anchor" id="rcLocationServiceCountrylist"></a>
countrylist</h4>
<p>Returns the list of all known countries (<a class="el" href="classStelLocaleMgr.html#a2b6df164ff98f570cbc42a0c3cb6f55c" title="Return an alphabetically ordered list of all the known country names.">StelLocaleMgr::getAllCountryNames</a>), as a JSON array of objects of format </p><div class="fragment"><div class="line">{</div>
<div class="line">    name, <span class="comment">//the english country name</span></div>
<div class="line">    name_i18n <span class="comment">//the localized country name (current language)</span></div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcLocationServicePlanetlist"></a>
planetlist</h4>
<p>Returns the list of all solar system planet names (<a class="el" href="classSolarSystem.html#a1b142643098b71ca20f2b0509d2187bd" title="Get the list of all the planet english names.">SolarSystem::getAllPlanetEnglishNames</a>), as a JSON array of objects of format </p><div class="fragment"><div class="line">{</div>
<div class="line">    name, <span class="comment">//the english planet</span></div>
<div class="line">    name_i18n <span class="comment">//the localized planet name (current language)</span></div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcLocationServicePlanetimage"></a>
planetimage</h4>
<p>Parameters: <code>planet (String)</code><br  />
Returns the planet texture image for the <code>planet</code> (english name)</p>
<h3><a class="anchor" id="rcLocationServicePOST"></a>
POST operations</h3>
<p>Implemented by LocationService::postImpl</p>
<h4><a class="anchor" id="rcLocationServiceSetlocationfields"></a>
setlocationfields</h4>
<p>Parameters: <code>id (String) | ( [latitude (Number)] [longitude (Number)] [altitude (Number)] [name (String)] [country (String)] [planet (String)] )</code><br  />
Changes and moves to a new location. If <code>id</code> is given, all other parameters are ignored, and a location is searched from the named locations using <a class="el" href="classStelLocationMgr.html#a19470e79896035bd6cf5cf655b36ea23" title="Return the StelLocation for a given string Can match location name, or coordinates.">StelLocationMgr::locationForString</a> with the <code>id</code>. Else, the other parameters change the specific field of the current <a class="el" href="classStelLocation.html">StelLocation</a>.</p>
<h2><a class="anchor" id="rcLocationSearchService"></a>
LocationSearchService operations (/api/locationsearch/)</h2>
<h3><a class="anchor" id="rcLocationSearchServiceGET"></a>
GET operations</h3>
<p>Implemented by LocationSearchService::getImpl</p>
<h4><a class="anchor" id="rcLocationSearchServiceSearch"></a>
search</h4>
<p>Parameters: <code>term (String)</code><br  />
Searches the <code>term</code> in the list of predefined locations of the <a class="el" href="classStelLocationMgr.html">StelLocationMgr</a>, and returns a JSON string array of the results.</p>
<h4><a class="anchor" id="rcLocationSearchServiceNearby"></a>
nearby</h4>
<p>Parameters: <code>[planet (String)] [latitude (Number)] [longitude (Number)] [radius (Number)]</code><br  />
Searches near the location defined by <code>planet</code>, <code>latitude</code> and <code>longitude</code> for predefined locations (inside the given <code>radius</code>) using <a class="el" href="classStelLocationMgr.html#ac246896fb8b22cfd0a76233801b135f9" title="Find list of locations within.">StelLocationMgr::pickLocationsNearby</a>, returns a JSON string array.</p>
<h2><a class="anchor" id="rcViewService"></a>
ViewService operations (/api/view/)</h2>
<h3><a class="anchor" id="rcViewServiceGET"></a>
GET operations</h3>
<p>Implemented by ViewService::getImpl</p>
<h4><a class="anchor" id="rcViewServiceListlandscape"></a>
listlandscape</h4>
<p>Lists the installed landscapes as a JSON object of format </p><div class="fragment"><div class="line">{</div>
<div class="line">    &lt;landscapeId&gt; : &lt;landscapeName&gt;, //maps the landscape id to the translated landscape name</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcViewServiceLandscapedescription"></a>
landscapedescription/</h4>
<p><em>Note that the slash at the end is mandatory!</em><br  />
Provides virtual filesystem access to the current landscape directory. The operation can take a longer path in the URL. The remainder is used to access files in the landscape directory. If no longer path is given, the current HTML landscape description (as per <a class="el" href="classLandscapeMgr.html#aeb5e455d1653a9ae64bd98284980ae00" title="Return a pseudo HTML formatted string with all informations on the current landscape.">LandscapeMgr::getCurrentLandscapeHtmlDescription</a>) is returned. An example: <code>landscapedescription/image.png</code> returns <code>image.png</code> from the current landscape directory.</p>
<p>This operation allows to set up an HTML <code>iframe</code> or similar for the landscape description, including all images, etc. embedded in the HTML description.</p>
<h4><a class="anchor" id="rcViewServiceListskyculture"></a>
listskyculture</h4>
<p>Lists the installed sky cultures as a JSON object of format </p><div class="fragment"><div class="line">{</div>
<div class="line">    &lt;skycultureId&gt; : &lt;skycultureName&gt;, //maps the id to the translated name</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcViewServiceSkyculturedescription"></a>
skyculturedescription/</h4>
<p><em>Note that the slash at the end is mandatory!</em><br  />
Provides virtual filesystem access to the current skyculture directory. The operation can take a longer path in the URL. The remainder is used to access files in the skyculture directory. If no longer path is given, the current HTML skyculture description (as per <a class="el" href="classStelSkyCultureMgr.html#ac41e37e33bcdfe8820cc0eb23c49eac8" title="Returns a localized HTML description for the current sky culture.">StelSkyCultureMgr::getCurrentSkyCultureHtmlDescription</a>) is returned. An example: <code>skyculturedescription/image.png</code> returns <code>image.png</code> from the current skyculture directory.</p>
<p>This operation allows to set up an HTML <code>iframe</code> or similar for the skycultures description, including all images, etc. embedded in the HTML description.</p>
<h4><a class="anchor" id="rcViewServiceListprojection"></a>
listprojection</h4>
<p>Lists the available projection types as a JSON object of format </p><div class="fragment"><div class="line">{</div>
<div class="line">    &lt;projectionTypeKey&gt; : &lt;projectionName&gt;, //maps the id to the translated name</div>
<div class="line">    ...</div>
<div class="line">}</div>
</div><!-- fragment --><h4><a class="anchor" id="rcViewServiceProjectiondescription"></a>
projectiondescription</h4>
<p>Returns the HTML description of the current projection (<a class="el" href="classStelProjector.html#abfa818fe137fa1661b0c17eae8437256" title="Get a HTML version of the short description for this projection type.">StelProjector::getHtmlSummary</a>) </p>
</div></div><!-- contents -->
</div><!-- PageDoc -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat May 8 2021 18:44:09 for Stellarium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.17
</small></address>
</body>
</html>
