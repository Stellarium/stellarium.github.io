<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Stellarium: Scripting Engine</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
<link href="extrastyle.css" rel="stylesheet" type="text/css"/>
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stellarium-logo.png"/></td>
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Stellarium
   &#160;<span id="projectnumber">0.19.3</span>
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',false,false,'search.php','Search');
});
</script>
<div id="main-nav"></div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Scripting Engine </div>  </div>
</div><!--header-->
<div class="contents">
<div class="toc"><h3>Table of Contents</h3>
<ul><li class="level1"><a href="#intro_scripts">Introduction</a></li>
<li class="level1"><a href="#scripting_api">Scripting API</a></li>
<li class="level1"><a href="#include_scripts">Includes</a></li>
<li class="level1"><a href="#script_console">Script Console</a></li>
<li class="level1"><a href="#example_scripts">Examples</a><ul><li class="level2"><a href="#minimal_script">Minimal Script</a></li>
<li class="level2"><a href="#using_module">Using a StelModule</a></li>
</ul>
</li>
</ul>
</div>
<div class="textblock"><h1><a class="anchor" id="intro_scripts"></a>
Introduction</h1>
<p>Since version 0.10.1, Stellarium includes a scripting feature based on the <a href="http://doc.qt.io/qt-5/qtscript-index.html">Qt Scripting Engine</a>. This makes it possible to write small programs within Stellarium to produce presentations, set up custom configurations, and to automate repetitive tasks. Prior to version 0.10.0, Stellarium used a different scripting engine called StratoScript.</p>
<p>The core scripting language is <a href="http://en.wikipedia.org/wiki/ECMAScript">ECMAScript</a>, giving users access to all basic ECMAScript language features such as flow control, variables string manipulation and so on. Interaction with Stellarium-specific features is done via a collection of objects which represent components of Stellarium itself. See <a class="el" href="scripting.html#scripting_api">Scripting API</a> for more details.</p>
<h1><a class="anchor" id="scripting_api"></a>
Scripting API</h1>
<p>Interation with Stellarium-specific functionality is done by calling the <b>public slots</b> of instances of a group of Stellarium's core classes.</p>
<ul>
<li>The public slots in the class <a class="el" href="classStelMainScriptAPI.html" title="Provide script API for Stellarium global functions. ">StelMainScriptAPI</a> are available via an object named <b>core</b>. For example, to access <a class="el" href="classStelMainScriptAPI.html#a09923818fef732d9c2efa45de8a1faac" title="Pauses the script for t seconds. ">StelMainScriptAPI::wait()</a> from a script, use the scripting command: <div class="fragment"><div class="line">core.wait(...);</div></div><!-- fragment --></li>
<li>The public slots for each of the following classes are available in the scripting engine via an object with the same name as the corresponding class:<ul>
<li><a class="el" href="classConstellationMgr.html" title="Display and manage the constellations. ">ConstellationMgr</a></li>
<li><a class="el" href="classCustomObjectMgr.html">CustomObjectMgr</a></li>
<li><a class="el" href="classHighlightMgr.html" title="A simple StelObjectModule to draw markers. ">HighlightMgr</a></li>
<li><a class="el" href="classGridLinesMgr.html" title="The GridLinesMgr controls the drawing of the Azimuthal, Equatorial, Ecliptical and Galactic Grids...">GridLinesMgr</a></li>
<li><a class="el" href="classLabelMgr.html" title="Allows for creation of custom labels on objects or coordinates. ">LabelMgr</a></li>
<li><a class="el" href="classMarkerMgr.html" title="Allows for creation of custom markers on objects or coordinates. ">MarkerMgr</a></li>
<li><a class="el" href="classLandscapeMgr.html" title="Manages all the rendering at the level of the observer&#39;s surroundings. ">LandscapeMgr</a></li>
<li><a class="el" href="classSporadicMeteorMgr.html" title="Simulates a sporadic meteor shower, with a random color and a random radiant. ">SporadicMeteorMgr</a></li>
<li><a class="el" href="classNebulaMgr.html" title="Manage a collection of nebulae. ">NebulaMgr</a></li>
<li><a class="el" href="classScreenImageMgr.html" title="Module for managing images for scripting. ">ScreenImageMgr</a></li>
<li><a class="el" href="classSolarSystem.html" title="This StelObjectModule derivative is used to model SolarSystem bodies. ">SolarSystem</a></li>
<li><a class="el" href="classStarMgr.html" title="Stores the star catalogue data. ">StarMgr</a></li>
<li><a class="el" href="classStelActionMgr.html" title="Manager for StelAction instances. Allows registration of new actions, and finding an existing one by ...">StelActionMgr</a></li>
<li><a class="el" href="classStelAudioMgr.html">StelAudioMgr</a></li>
<li><a class="el" href="classStelVideoMgr.html" title="A scriptable way to show videos embedded in the screen. ">StelVideoMgr</a></li>
<li><a class="el" href="classStelMovementMgr.html" title="Manages the head movements and zoom operations. ">StelMovementMgr</a></li>
<li><a class="el" href="classStelSkyDrawer.html" title="Provide a set of methods used to draw sky objects taking into account eyes adaptation, zoom level, instrument model and artificially set magnitude limits. ">StelSkyDrawer</a></li>
<li><a class="el" href="classStelSkyLayerMgr.html" title="Manage the sky background images, including DSS and deep sky objects images. ">StelSkyLayerMgr</a></li>
<li><a class="el" href="classMilkyWay.html" title="Manages the displaying of the Milky Way. ">MilkyWay</a></li>
<li><a class="el" href="classZodiacalLight.html" title="Manages the displaying of the Zodiacal Light. ">ZodiacalLight</a></li>
</ul>
For example, to access <a class="el" href="classLandscapeMgr.html#a9692b777a833b81d7fb4e9f4e59b03e2" title="Set flag for displaying Atmosphere. ">LandscapeMgr::setFlagAtmosphere()</a>, use the scripting command: <div class="fragment"><div class="line"><a class="code" href="classLandscapeMgr.html" title="Manages all the rendering at the level of the observer&#39;s surroundings. ">LandscapeMgr</a>.<a class="code" href="classLandscapeMgr.html#a9692b777a833b81d7fb4e9f4e59b03e2" title="Set flag for displaying Atmosphere. ">setFlagAtmosphere</a>(<span class="keyword">true</span>);</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>All of these except for <a class="el" href="classStelSkyDrawer.html" title="Provide a set of methods used to draw sky objects taking into account eyes adaptation, zoom level, instrument model and artificially set magnitude limits. ">StelSkyDrawer</a> are <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> classes.</dd></dl>
</li>
<li>The public slots for each of the following classes of the plugins are available in the scripting engine too:<ul>
<li><a class="el" href="group__compassMarks.html#classCompassMarks" title="Main class of the Compass Marks plug-in. ">CompassMarks</a></li>
<li><a class="el" href="group__oculars.html#classOculars" title="Main class of the Oculars plug-in. ">Oculars</a></li>
<li><a class="el" href="group__satellites.html#classSatellites" title="Main class of the Satellites plugin. ">Satellites</a></li>
<li><a class="el" href="group__quasars.html#classQuasars" title="Main class of the Quasars plugin. ">Quasars</a></li>
<li><a class="el" href="group__pulsars.html#classPulsars" title="Main class of the Pulsars plugin. ">Pulsars</a></li>
<li><a class="el" href="group__exoplanets.html#classExoplanets" title="Main class of the Exoplanets plugin. ">Exoplanets</a></li>
<li><a class="el" href="group__observability.html#classObservability" title="Main class of the Observability Analysis plug-in. ">Observability</a></li>
<li><a class="el" href="group__equationOfTime.html#classEquationOfTime" title="Main class of the Equation of Time plugin. ">EquationOfTime</a></li>
<li><a class="el" href="group__navigationalStars.html#classNavStars" title="Main class of the Navigational Stars plugin. ">NavStars</a></li>
<li><a class="el" href="group__meteorShowers.html#classMeteorShowersMgr" title="Main class of the Meteor Showers plugin, inherits from StelModule. ">MeteorShowersMgr</a> (The public slots in this class are available via an object named <b><a class="el" href="group__meteorShowers.html#classMeteorShowers" title="This class manages a collection of MeteorShower objects. ">MeteorShowers</a></b>)</li>
<li><a class="el" href="classArchaeoLines.html" title="Main class of the ArchaeoLines plug-in. ">ArchaeoLines</a></li>
<li><a class="el" href="group__telescopeControl.html#classTelescopeControl" title="This class manages the controlling of one or more telescopes by one instance of the stellarium progra...">TelescopeControl</a></li>
</ul>
</li>
</ul>
<h1><a class="anchor" id="include_scripts"></a>
Includes</h1>
<p>Stellarium provides mechanism for splitting scripts on different files. Typical functions or list of variables can be stored in separate <b></b>.inc file and used within script through <b>include()</b> command: </p><div class="fragment"><div class="line">include(<span class="stringliteral">&quot;common_objects.inc&quot;</span>);</div></div><!-- fragment --> <dl class="section note"><dt>Note</dt><dd>Detailed example can be found <a href="https://github.com/Stellarium/stellarium/blob/master/scripts/constellations_tour.ssc">in Constellations Tour script</a>.</dd></dl>
<h1><a class="anchor" id="script_console"></a>
Script Console</h1>
<p>It is possible to open, edit run and save scripts using the script console window. To toggle the script console, press F12. The script console also provides an output window in which script debugging output is visible.</p>
<dl class="section note"><dt>Note</dt><dd>The Script Console is a build-time option. It has been enabled by default since version 0.10.5. To enable or disable this feature, use the ENABLE_SCRIPT_CONSOLE=1 or =0 option to cmake.</dd></dl>
<h1><a class="anchor" id="example_scripts"></a>
Examples</h1>
<p>The best source of examples is the <b>scripts</b> sub-directory of the main Stellarium source tree. This directory contains a sub-directory called <b>tests</b> which are not installed with Stellarium, but are nontheless useful sources of example code for various scripting features. (The directory can be <a href="https://github.com/Stellarium/stellarium/tree/master/scripts">browsed online</a>. Script files end in <code>.ssc</code> and <code>.inc</code>. Download links are to the right.)</p>
<h2><a class="anchor" id="minimal_script"></a>
Minimal Script</h2>
<p>This script prints "Hello Universe" in the <a class="el" href="scripting.html#script_console">Script Console</a> output window.</p>
<div class="fragment"><div class="line">core.debug(<span class="stringliteral">&quot;Hello Universe&quot;</span>);</div></div><!-- fragment --><h2><a class="anchor" id="using_module"></a>
Using a StelModule</h2>
<p>This script uses the <a class="el" href="classLabelMgr.html" title="Allows for creation of custom labels on objects or coordinates. ">LabelMgr</a> module to display "Hello Universe" in white on the screen for 3 seconds.</p>
<div class="fragment"><div class="line"><a class="code" href="classLabelMgr.html" title="Allows for creation of custom labels on objects or coordinates. ">LabelMgr</a>.<a class="code" href="classLabelMgr.html#a6f7b5454760c1140b215d0f4066e7d31" title="Create a label at fixed screen coordinates. ">labelScreen</a>(<span class="stringliteral">&quot;Hello Universe&quot;</span>, 200, 200, <span class="keyword">true</span>, 20, <span class="stringliteral">&quot;#ff0000&quot;</span>);</div><div class="line">core.wait(3);</div><div class="line"><a class="code" href="classLabelMgr.html" title="Allows for creation of custom labels on objects or coordinates. ">LabelMgr</a>.<a class="code" href="classLabelMgr.html#a82add88d689bcb1d491cd61017082014" title="Delete all labels. ">deleteAllLabels</a>();</div></div><!-- fragment --> </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sun Dec 22 2019 18:00:53 for Stellarium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
