<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<title>Stellarium: Stellarium Developers Documentation</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectlogo"><img alt="Logo" src="stellarium-logo.png"/></td>
  <td style="padding-left: 0.5em;">
   <div id="projectname">Stellarium 0.13.3</div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- Generated by Doxygen 1.8.7 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li class="current"><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="namespaces.html"><span>Namespaces</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li><a href="codingStyle.html"><span>Coding&#160;Style</span></a></li>
      <li><a href="scripting.html"><span>Scripting</span></a></li>
      <li><a href="plugins.html"><span>Plugins</span></a></li>
      <li><a href="fileStructure.html"><span>File&#160;Structure</span></a></li>
    </ul>
  </div>
</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">Stellarium Developers Documentation </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><h1><a class="anchor" id="intro_sec"></a>
Introduction</h1>
<p>This documentation concerns the inner workings of Stellarium. This documentation is targetted at developers of scripts, plugins and the core program.</p>
<h1><a class="anchor" id="architecture_sec"></a>
Program Architecture</h1>
<p>The code of Stellarium is split into several main blocks: </p><ul>
<li>
the main loop and main widget classes <em>StelMainWindow</em> and <em>StelMainGraphicsView</em>. Those classes have a single instance which is created at startup by the ::main() function. They perform various tasks such as the creation of the main program window and openGL context, the creation of the stellarium core, the creation of the GUI. After initialization, they manage user's input event propagation and event loop. There are heavily based on Qt features. </li>
<li>
the core which provides a number of generic services and features to the other components. The main class is the <a class="el" href="classStelApp.html" title="Singleton main Stellarium application class. ">StelApp</a> singleton class which is used everywhere in the code to access other elements. It is the <a class="el" href="classStelApp.html" title="Singleton main Stellarium application class. ">StelApp</a> instance which creates all the main core services and modules at initialization. Example services are OpenGL textures management with the <a class="el" href="classStelTextureMgr.html" title="Manage textures loading. ">StelTextureMgr</a>, font management with the StelFontMgr, sky images management (images which have a fixed position in the sky) with the StelSkyImageMgr etc.. Two especially important manager classes (the ones with the "Mgr" suffix) are the <a class="el" href="classStelModuleMgr.html" title="Manage a collection of StelModules including both core and plugin modules. ">StelModuleMgr</a> and <a class="el" href="classStelCore.html" title="Main class for Stellarium core processing. ">StelCore</a> classes: the first one manages the collection of <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> instances which are registered in the program (see next point for more info on what a <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> is). The second one provides performance critical features for rendering various elements using openGL, or for computing coordinate transformation and other mathematical services. </li>
<li>
a collection of <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> instances which display the main elements of the program such as planets and stars. Each <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> should be registered to the <a class="el" href="classStelModuleMgr.html" title="Manage a collection of StelModules including both core and plugin modules. ">StelModuleMgr</a>. Because many components of Stellarium derive from the <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> class, it is possible for the main loop to treat them generically by calling their standard methods such <a class="el" href="classStelModule.html#a029f960090bf001e4e9eff0d95c4f706" title="Update the module with respect to the time. ">StelModule::update()</a> and <a class="el" href="classStelModule.html#a18fde2820af998395aea9e30bb1138b2" title="Execute all the drawing functions for this module. ">StelModule::draw()</a> at each program iteration. It also allows other program components to access them by name. <a class="el" href="classStelModule.html" title="This is the common base class for all the main components of stellarium. ">StelModule</a> can also be loaded dynamically by Stellarium, which is the standard way of creating <a class="el" href="plugins.html">Plugins</a>. </li>
<li>
the Graphical User Interface (<a class="el" href="classStelGui.html" title="Main class for the GUI based on QGraphicView. ">StelGui</a>). It is based on styled Qt widgets which are rendered directly in the openGL window. Users actions trigger signals which are connected to core and StelModules slots. </li>
<li>
the script engine (<a class="el" href="classStelScriptMgr.html" title="Manage scripting in Stellarium. ">StelScriptMgr</a>) allows scripts to calls slots from the core and StelModules slots. </li>
</ul>
<div class="image">
<img src="stellarium-architecture.png" alt="stellarium-architecture.png"/>
</div>
<div class="image">
<img src="stellarium-logo.png" alt="stellarium-logo.png"/>
</div>
 </div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated on Sat Apr 25 2015 22:49:29 for Stellarium by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.7
</small></address>
</body>
</html>
