<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: TelescopeControl.cpp - TelescopeControl.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;TelescopeControl.cpp&nbsp;</th><th> </th><th>&nbsp;TelescopeControl.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 60</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 60</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "renderer/StelTextureNew.hpp"</td><td> </td><td class="right">#include "renderer/StelTextureNew.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QAction&gt;</td><td> </td><td class="right">#include &lt;QAction&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDateTime&gt;</td><td> </td><td class="right">#include &lt;QDateTime&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDir&gt;</td><td> </td><td class="right">#include &lt;QDir&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QFileInfo&gt;</td><td> </td><td class="right">#include &lt;QFileInfo&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QMapIterator&gt;</td><td> </td><td class="right">#include &lt;QMapIterator&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QSettings&gt;</td><td> </td><td class="right">#include &lt;QSettings&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QString&gt;</td><td> </td><td class="right">#include &lt;QString&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QStringList&gt;</td><td> </td><td class="right">#include &lt;QStringList&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include &lt;QDir&gt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDebug&gt;</td><td> </td><td class="right">#include &lt;QDebug&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////////////////////////////////
/////</td><td> </td><td class="right">///////////////////////////////////////////////////////////////////////////
/////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//</td><td> </td><td class="right">//</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelModule* TelescopeControlStelPluginInterface::getStelModule() const</td><td> </td><td class="right">StelModule* TelescopeControlStelPluginInterface::getStelModule() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return new TelescopeControl();</td><td> </td><td class="right">       return new TelescopeControl();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 394</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 395</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (telescope-&gt;getEnglishName() == name)</td><td> </td><td class="right">               if (telescope-&gt;getEnglishName() == name)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return qSharedPointerCast&lt;StelObject&gt;(telescope);</td><td> </td><td class="right">                       return qSharedPointerCast&lt;StelObject&gt;(telescope);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return 0;</td><td> </td><td class="right">       return 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QStringList TelescopeControl::listMatchingObjectsI18n(const QString&amp; objPre
fix, int maxNbItem) const</td><td> </td><td class="right">QStringList TelescopeControl::listMatchingObjectsI18n(const QString&amp; objPre
fix, int maxNbItem) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QStringList result;</td><td> </td><td class="right">       QStringList result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if (maxNbItem==0) return result;</td><td> </td><td class="rblock">       if (maxNbItem==0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QString objw = objPrefix.toUpper();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</td><td> </td><td class="right">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               QString <span class="delete">constw</span> = <span class="delete">telescope-&gt;getNameI18n().mid(0, objw.size()</span></td><td> </td><td class="rblock">               QString <span class="insert">tn</span> = <span class="insert">telescope-&gt;getNameI18n();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">).toUpper();</span></td><td> </td><td class="rblock">               if <span class="insert">(tn.contains(objPrefix, Qt::CaseInsensitive))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               if <span class="delete">(constw==objw)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       result &lt;&lt; t<span class="delete">elescope-&gt;getNameI18n()</span>;</td><td> </td><td class="rblock">                       result &lt;&lt; t<span class="insert">n</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       result.sort();</td><td> </td><td class="right">       result.sort();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (result.size()&gt;maxNbItem)</td><td> </td><td class="right">       if (result.size()&gt;maxNbItem)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               result.erase(result.begin() + maxNbItem, result.end());</td><td> </td><td class="right">               result.erase(result.begin() + maxNbItem, result.end());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return result;</td><td> </td><td class="right">       return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QStringList TelescopeControl::listMatchingObjects(const QString&amp; objPrefix,
 int maxNbItem) const</td><td> </td><td class="right">QStringList TelescopeControl::listMatchingObjects(const QString&amp; objPrefix,
 int maxNbItem) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QStringList result;</td><td> </td><td class="right">       QStringList result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if (maxNbItem==0) return result;</td><td> </td><td class="rblock">       if (maxNbItem==0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QString objw = objPrefix.toUpper();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</td><td> </td><td class="right">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               QString <span class="delete">constw</span> = <span class="delete">telescope-&gt;getEnglishName().mid(0, objw.siz</span></td><td> </td><td class="rblock">               QString <span class="insert">tn</span> = <span class="insert">telescope-&gt;getEnglishName();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e()).toUpper();</span></td><td> </td><td class="rblock">               if <span class="insert">(tn.contains(objPrefix, Qt::CaseInsensitive))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               if <span class="delete">(constw==objw)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       result &lt;&lt; t<span class="delete">elescope-&gt;getEnglishName()</span>;</td><td> </td><td class="rblock">                       result &lt;&lt; t<span class="insert">n</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       result.sort();</td><td> </td><td class="right">       result.sort();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (result.size()&gt;maxNbItem)</td><td> </td><td class="right">       if (result.size()&gt;maxNbItem)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               result.erase(result.begin() + maxNbItem, result.end());</td><td> </td><td class="right">               result.erase(result.begin() + maxNbItem, result.end());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return result;</td><td> </td><td class="right">       return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 700</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 701</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::saveTelescopes()</td><td> </td><td class="right">void TelescopeControl::saveTelescopes()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       try</td><td> </td><td class="right">       try</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Open/create the JSON file</td><td> </td><td class="right">               //Open/create the JSON file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString telescopesJsonPath = StelFileMgr::findFile("modules/
TelescopeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr:
:Writable)) + "/telescopes.json";</td><td> </td><td class="right">               QString telescopesJsonPath = StelFileMgr::findFile("modules/
TelescopeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr:
:Writable)) + "/telescopes.json";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile telescopesJsonFile(telescopesJsonPath);</td><td> </td><td class="right">               QFile telescopesJsonFile(telescopesJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!telescopesJsonFile.open(QFile::WriteOnly|QFile::Text))</td><td> </td><td class="right">               if(!telescopesJsonFile.open(QFile::WriteOnly|QFile::Text))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "TelescopeControl: Telescopes can not 
be saved. A file can not be open for writing:" &lt;&lt; <span class="delete">telescopesJsonPath</span>;</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "TelescopeControl: Telescopes can not 
be saved. A file can not be open for writing:" &lt;&lt; <span class="insert">QDir::toNativeSeparators(
telescopesJsonPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Add the version:</td><td> </td><td class="right">               //Add the version:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeDescriptions.insert("version", QString(TELESCOPE_CO
NTROL_VERSION));</td><td> </td><td class="right">               telescopeDescriptions.insert("version", QString(TELESCOPE_CO
NTROL_VERSION));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Convert the tree to JSON</td><td> </td><td class="right">               //Convert the tree to JSON</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelJsonParser::write(telescopeDescriptions, &amp;telescopesJson
File);</td><td> </td><td class="right">               StelJsonParser::write(telescopeDescriptions, &amp;telescopesJson
File);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopesJsonFile.flush();//Is this necessary?</td><td> </td><td class="right">               telescopesJsonFile.flush();//Is this necessary?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopesJsonFile.close();</td><td> </td><td class="right">               telescopesJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 728</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 729</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::loadTelescopes()</td><td> </td><td class="right">void TelescopeControl::loadTelescopes()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantMap result;</td><td> </td><td class="right">       QVariantMap result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       try</td><td> </td><td class="right">       try</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString telescopesJsonPath = StelFileMgr::findFile("modules/
TelescopeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr:
:Writable)) + "/telescopes.json";</td><td> </td><td class="right">               QString telescopesJsonPath = StelFileMgr::findFile("modules/
TelescopeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr:
:Writable)) + "/telescopes.json";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!QFileInfo(telescopesJsonPath).exists())</td><td> </td><td class="right">               if(!QFileInfo(telescopesJsonPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "TelescopeControl::loadTelescopes(): N
o telescopes loaded. File is missing:" &lt;&lt; <span class="delete">telescopesJsonPath</span>;</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "TelescopeControl::loadTelescopes(): N
o telescopes loaded. File is missing:" &lt;&lt; <span class="insert">QDir::toNativeSeparators(telescop
esJsonPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeDescriptions = result;</td><td> </td><td class="right">                       telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile telescopesJsonFile(telescopesJsonPath);</td><td> </td><td class="right">               QFile telescopesJsonFile(telescopesJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QVariantMap map;</td><td> </td><td class="right">               QVariantMap map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!telescopesJsonFile.open(QFile::ReadOnly))</td><td> </td><td class="right">               if(!telescopesJsonFile.open(QFile::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "TelescopeControl: No telescopes loade
d. Can't open for reading" &lt;&lt; <span class="delete">telescopesJsonPath</span>;</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "TelescopeControl: No telescopes loade
d. Can't open for reading" &lt;&lt; <span class="insert">QDir::toNativeSeparators(telescopesJsonPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeDescriptions = result;</td><td> </td><td class="right">                       telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       map = StelJsonParser::parse(&amp;telescopesJsonFile).toM
ap();</td><td> </td><td class="right">                       map = StelJsonParser::parse(&amp;telescopesJsonFile).toM
ap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopesJsonFile.close();</td><td> </td><td class="right">                       telescopesJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //File contains any telescopes?</td><td> </td><td class="right">               //File contains any telescopes?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 762</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 763</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeDescriptions = result;</td><td> </td><td class="right">                       telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString version = map.value("version", "0.0.0").toString();</td><td> </td><td class="right">               QString version = map.value("version", "0.0.0").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(version &lt; QString(TELESCOPE_CONTROL_VERSION))</td><td> </td><td class="right">               if(version &lt; QString(TELESCOPE_CONTROL_VERSION))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString newName = telescopesJsonPath + ".backup." + 
QDateTime::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td> </td><td class="right">                       QString newName = telescopesJsonPath + ".backup." + 
QDateTime::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(telescopesJsonFile.rename(newName))</td><td> </td><td class="right">                       if(telescopesJsonFile.rename(newName))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; "TelescopeControl: The existin
g version of telescopes.json is obsolete. Backing it up as<span class="delete">" &lt;&lt; newName</span>;</td><td> </td><td class="rblock">                               qWarning() &lt;&lt; "TelescopeControl: The existin
g version of telescopes.json is obsolete. Backing it up as<span class="insert"> " &lt;&lt; QDir::toNat
iveSeparators(newName)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               qWarning() &lt;&lt; "TelescopeControl: A blank tel
escopes.json file will have to be created.";</td><td> </td><td class="right">                               qWarning() &lt;&lt; "TelescopeControl: A blank tel
escopes.json file will have to be created.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               telescopeDescriptions = result;</td><td> </td><td class="right">                               telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               return;</td><td> </td><td class="right">                               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               qWarning() &lt;&lt; "TelescopeControl: The existin
g version of telescopes.json is obsolete. Unable to rename.";</td><td> </td><td class="right">                               qWarning() &lt;&lt; "TelescopeControl: The existin
g version of telescopes.json is obsolete. Unable to rename.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               telescopeDescriptions = result;</td><td> </td><td class="right">                               telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               return;</td><td> </td><td class="right">                               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 1239</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 1240</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (telescopeServers.contains(serverName))</td><td> </td><td class="right">       if (telescopeServers.contains(serverName))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString serverExecutablePath;</td><td> </td><td class="right">               QString serverExecutablePath;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Is the try/catch really necessary?</td><td> </td><td class="right">               //Is the try/catch really necessary?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               try</td><td> </td><td class="right">               try</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       serverExecutablePath = StelFileMgr::findFile(serverE
xecutablesDirectoryPath + TELESCOPE_SERVER_PATH.arg(serverName), StelFileMg
r::File);</td><td> </td><td class="right">                       serverExecutablePath = StelFileMgr::findFile(serverE
xecutablesDirectoryPath + TELESCOPE_SERVER_PATH.arg(serverName), StelFileMg
r::File);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               catch (std::runtime_error&amp; e)</td><td> </td><td class="right">               catch (std::runtime_error&amp; e)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qDebug() &lt;&lt; "TelescopeControl: Error starting telesc
ope server: Can't find executable:" &lt;&lt; <span class="delete">serverExecutablePath</span>;</td><td> </td><td class="rblock">                       qDebug() &lt;&lt; "TelescopeControl: Error starting telesc
ope server: Can't find executable:" &lt;&lt; <span class="insert">QDir::toNativeSeparators(serverExecu
tablePath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return false;</td><td> </td><td class="right">                       return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef Q_OS_WIN32</td><td> </td><td class="right">#ifdef Q_OS_WIN32</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString serialPortName;</td><td> </td><td class="right">               QString serialPortName;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(portSerial.right(portSerial.size() - SERIAL_PORT_PREFIX.s
ize()).toInt() &gt; 9)</td><td> </td><td class="right">               if(portSerial.right(portSerial.size() - SERIAL_PORT_PREFIX.s
ize()).toInt() &gt; 9)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       serialPortName = "\\\\.\\" + portSerial;//"\\.\COMxx
", not sure if it will work</td><td> </td><td class="right">                       serialPortName = "\\\\.\\" + portSerial;//"\\.\COMxx
", not sure if it will work</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       serialPortName = portSerial;</td><td> </td><td class="right">                       serialPortName = portSerial;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#else</td><td> </td><td class="right">#else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString serialPortName = portSerial;</td><td> </td><td class="right">               QString serialPortName = portSerial;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif //Q_OS_WIN32</td><td> </td><td class="right">#endif //Q_OS_WIN32</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QStringList serverArguments;</td><td> </td><td class="right">               QStringList serverArguments;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               serverArguments &lt;&lt; QString::number(portTCP) &lt;&lt; serialPortNam
e;</td><td> </td><td class="right">               serverArguments &lt;&lt; QString::number(portTCP) &lt;&lt; serialPortNam
e;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(useTelescopeServerLogs)</td><td> </td><td class="right">               if(useTelescopeServerLogs)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       serverArguments &lt;&lt; QString(StelFileMgr::getUserDir()
 + "/log_TelescopeServer" + slotName + ".txt");</td><td> </td><td class="right">                       serverArguments &lt;&lt; QString(StelFileMgr::getUserDir()
 + "/log_TelescopeServer" + slotName + ".txt");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "TelescopeControl: Starting tellescope server at
 slot" &lt;&lt; slotName &lt;&lt; "with path" &lt;&lt; <span class="delete">serverExecutablePath &lt;&lt; "and arguments
</span>" &lt;&lt; serverArguments.join(" ");</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "TelescopeControl: Starting tellescope server at
 slot" &lt;&lt; slotName &lt;&lt; "with path" &lt;&lt; <span class="insert">QDir::toNativeSeparators(serverExecuta
blePath) &lt;&lt; "and arguments</span>" &lt;&lt; serverArguments.join(" ");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Starting the new process</td><td> </td><td class="right">               //Starting the new process</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerProcess.insert(slotNumber, new QProcess());</td><td> </td><td class="right">               telescopeServerProcess.insert(slotNumber, new QProcess());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //telescopeServerProcess[slotNumber]-&gt;setStandardOutputFile(
StelFileMgr::getUserDir() + "/log_TelescopeServer" + slotName + ".txt");//I
n case the server does not accept logfiles</td><td> </td><td class="right">               //telescopeServerProcess[slotNumber]-&gt;setStandardOutputFile(
StelFileMgr::getUserDir() + "/log_TelescopeServer" + slotName + ".txt");//I
n case the server does not accept logfiles</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerProcess[slotNumber]-&gt;start(serverExecutablePa
th, serverArguments);</td><td> </td><td class="right">               telescopeServerProcess[slotNumber]-&gt;start(serverExecutablePa
th, serverArguments);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //return telescopeServerProcess[slotNumber]-&gt;waitForStarted(
);</td><td> </td><td class="right">               //return telescopeServerProcess[slotNumber]-&gt;waitForStarted(
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //The server is supposed to start immediately</td><td> </td><td class="right">               //The server is supposed to start immediately</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return true;</td><td> </td><td class="right">               return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 1386</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 1387</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //qDebug() &lt;&lt; "TelescopeControl: Loading device model descriptions..
.";</td><td> </td><td class="right">       //qDebug() &lt;&lt; "TelescopeControl: Loading device model descriptions..
.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Make sure that the device models file exists</td><td> </td><td class="right">       //Make sure that the device models file exists</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool useDefaultList = false;</td><td> </td><td class="right">       bool useDefaultList = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString deviceModelsJsonPath = StelFileMgr::findFile("modules/Telesc
opeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writa
ble)) + "/device_models.json";</td><td> </td><td class="right">       QString deviceModelsJsonPath = StelFileMgr::findFile("modules/Telesc
opeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writa
ble)) + "/device_models.json";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!QFileInfo(deviceModelsJsonPath).exists())</td><td> </td><td class="right">       if(!QFileInfo(deviceModelsJsonPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!restoreDeviceModelsListTo(deviceModelsJsonPath))</td><td> </td><td class="right">               if(!restoreDeviceModelsListTo(deviceModelsJsonPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "TelescopeControl: Unable to find<span class="delete">" &lt;&lt; 
deviceModelsJsonPath</span>;</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "TelescopeControl: Unable to find<span class="insert"> " &lt;&lt;
 QDir::toNativeSeparators(deviceModelsJsonPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       useDefaultList = true;</td><td> </td><td class="right">                       useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile deviceModelsJsonFile(deviceModelsJsonPath);</td><td> </td><td class="right">               QFile deviceModelsJsonFile(deviceModelsJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!deviceModelsJsonFile.open(QFile::ReadOnly))</td><td> </td><td class="right">               if(!deviceModelsJsonFile.open(QFile::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "TelescopeControl: Can't open for read
ing<span class="delete">" &lt;&lt; deviceModelsJsonPath</span>;</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "TelescopeControl: Can't open for read
ing<span class="insert"> " &lt;&lt; QDir::toNativeSeparators(deviceModelsJsonPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       useDefaultList = true;</td><td> </td><td class="right">                       useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //Check the version and move the old file if necessa
ry</td><td> </td><td class="right">                       //Check the version and move the old file if necessa
ry</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QVariantMap deviceModelsJsonMap;</td><td> </td><td class="right">                       QVariantMap deviceModelsJsonMap;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       deviceModelsJsonMap = StelJsonParser::parse(&amp;deviceM
odelsJsonFile).toMap();</td><td> </td><td class="right">                       deviceModelsJsonMap = StelJsonParser::parse(&amp;deviceM
odelsJsonFile).toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString version = deviceModelsJsonMap.value("version
", "0.0.0").toString();</td><td> </td><td class="right">                       QString version = deviceModelsJsonMap.value("version
", "0.0.0").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(version &lt; QString(TELESCOPE_CONTROL_VERSION))</td><td> </td><td class="right">                       if(version &lt; QString(TELESCOPE_CONTROL_VERSION))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               deviceModelsJsonFile.close();</td><td> </td><td class="right">                               deviceModelsJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               QString newName = deviceModelsJsonPath + ".b
ackup." + QDateTime::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td> </td><td class="right">                               QString newName = deviceModelsJsonPath + ".b
ackup." + QDateTime::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if(deviceModelsJsonFile.rename(newName))</td><td> </td><td class="right">                               if(deviceModelsJsonFile.rename(newName))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       qWarning() &lt;&lt; "TelescopeControl: The
 existing version of device_models.json is obsolete. Backing it up as<span class="delete">" &lt;&lt; n
ewName</span>;</td><td> </td><td class="rblock">                                       qWarning() &lt;&lt; "TelescopeControl: The
 existing version of device_models.json is obsolete. Backing it up as<span class="insert"> " &lt;&lt; 
QDir::toNativeSeparators(newName)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if(!restoreDeviceModelsListTo(device
ModelsJsonPath))</td><td> </td><td class="right">                                       if(!restoreDeviceModelsListTo(device
ModelsJsonPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               useDefaultList = true;</td><td> </td><td class="right">                                               useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       }</td><td> </td><td class="right">                                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               else</td><td> </td><td class="right">                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       qWarning() &lt;&lt; "TelescopeControl: The
 existing version of device_models.json is obsolete. Unable to rename.";</td><td> </td><td class="right">                                       qWarning() &lt;&lt; "TelescopeControl: The
 existing version of device_models.json is obsolete. Unable to rename.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       useDefaultList = true;</td><td> </td><td class="right">                                       useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 1553</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 1554</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return connectedClientsNames;</td><td> </td><td class="right">       return connectedClientsNames;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool TelescopeControl::restoreDeviceModelsListTo(QString deviceModelsListPa
th)</td><td> </td><td class="right">bool TelescopeControl::restoreDeviceModelsListTo(QString deviceModelsListPa
th)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile defaultFile(":/telescopeControl/device_models.json");</td><td> </td><td class="right">       QFile defaultFile(":/telescopeControl/device_models.json");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!defaultFile.copy(deviceModelsListPath))</td><td> </td><td class="right">       if (!defaultFile.copy(deviceModelsListPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "TelescopeControl: Unable to copy the default 
device models list to" &lt;&lt; <span class="delete">deviceModelsListPath</span>;</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "TelescopeControl: Unable to copy the default 
device models list to" &lt;&lt; <span class="insert">QDir::toNativeSeparators(deviceModelsListPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile newCopy(deviceModelsListPath);</td><td> </td><td class="right">       QFile newCopy(deviceModelsListPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       newCopy.setPermissions(newCopy.permissions() | QFile::WriteOwner);</td><td> </td><td class="right">       newCopy.setPermissions(newCopy.permissions() | QFile::WriteOwner);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       qDebug() &lt;&lt; "TelescopeControl: The default device models list has be
en copied to" &lt;&lt; <span class="delete">deviceModelsListPath</span>;</td><td> </td><td class="rblock">       qDebug() &lt;&lt; "TelescopeControl: The default device models list has be
en copied to" &lt;&lt; <span class="insert">QDir::toNativeSeparators(deviceModelsListPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return true;</td><td> </td><td class="right">       return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const QString&amp; TelescopeControl::getServerExecutablesDirectoryPath()</td><td> </td><td class="right">const QString&amp; TelescopeControl::getServerExecutablesDirectoryPath()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return serverExecutablesDirectoryPath;</td><td> </td><td class="right">       return serverExecutablesDirectoryPath;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool TelescopeControl::setServerExecutablesDirectoryPath(const QString&amp; new
Path)</td><td> </td><td class="right">bool TelescopeControl::setServerExecutablesDirectoryPath(const QString&amp; new
Path)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //TODO: Reuse code.</td><td> </td><td class="right">       //TODO: Reuse code.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QDir newServerDirectory(newPath);</td><td> </td><td class="right">       QDir newServerDirectory(newPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!newServerDirectory.exists())</td><td> </td><td class="right">       if(!newServerDirectory.exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "TelescopeControl: Can't find such a directory
:<span class="delete">" &lt;&lt; newPath</span>;</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "TelescopeControl: Can't find such a directory
:<span class="insert"> " &lt;&lt; QDir::toNativeSeparators(newPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QList&lt;QFileInfo&gt; telescopeServerExecutables = newServerDirectory.ent
ryInfoList(QStringList("TelescopeServer*"), (QDir::Files|QDir::Executable|Q
Dir::CaseSensitive), QDir::Name);</td><td> </td><td class="right">       QList&lt;QFileInfo&gt; telescopeServerExecutables = newServerDirectory.ent
ryInfoList(QStringList("TelescopeServer*"), (QDir::Files|QDir::Executable|Q
Dir::CaseSensitive), QDir::Name);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(telescopeServerExecutables.isEmpty())</td><td> </td><td class="right">       if(telescopeServerExecutables.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qWarning() &lt;&lt; "TelescopeControl: No telescope server executa
bles found in"</td><td> </td><td class="right">               qWarning() &lt;&lt; "TelescopeControl: No telescope server executa
bles found in"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                        &lt;&lt; <span class="delete">serverExecutable
sDirectoryPath</span>;</td><td> </td><td class="rblock">                                                        &lt;&lt; <span class="insert">QDir::toNativeSe
parators(serverExecutablesDirectoryPath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //If everything is fine...</td><td> </td><td class="right">       //If everything is fine...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       serverExecutablesDirectoryPath = newPath;</td><td> </td><td class="right">       serverExecutablesDirectoryPath = newPath;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       stopAllTelescopes();</td><td> </td><td class="right">       stopAllTelescopes();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       loadDeviceModels();</td><td> </td><td class="right">       loadDeviceModels();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return true;</td><td> </td><td class="right">       return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 1621</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 1622</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogFiles.insert(slot, new QFile());</td><td> </td><td class="right">                       telescopeServerLogFiles.insert(slot, new QFile());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(telescopeServerLogFiles.value(slot)));</td><td> </td><td class="right">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(telescopeServerLogFiles.value(slot)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString filePath = StelFileMgr::getUserDir() + "/log_Telesco
peServer" + QString::number(slot) + ".txt";</td><td> </td><td class="right">               QString filePath = StelFileMgr::getUserDir() + "/log_Telesco
peServer" + QString::number(slot) + ".txt";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile* logFile = new QFile(filePath);</td><td> </td><td class="right">               QFile* logFile = new QFile(filePath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!logFile-&gt;open(QFile::WriteOnly|QFile::Text|QFile::Trunc
ate|QFile::Unbuffered))</td><td> </td><td class="right">               if (!logFile-&gt;open(QFile::WriteOnly|QFile::Text|QFile::Trunc
ate|QFile::Unbuffered))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       qWarning() &lt;&lt; "TelescopeControl: Unable to create a 
log file for slot"</td><td> </td><td class="right">                       qWarning() &lt;&lt; "TelescopeControl: Unable to create a 
log file for slot"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                &lt;&lt; slot &lt;&lt; 
":" &lt;&lt; <span class="delete">filePath</span>;</td><td> </td><td class="rblock">                                                                &lt;&lt; slot &lt;&lt; 
":" &lt;&lt; <span class="insert">QDir::toNativeSeparators(filePath)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogFiles.insert(slot, logFile);</td><td> </td><td class="right">                       telescopeServerLogFiles.insert(slot, logFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(new QFile()));</td><td> </td><td class="right">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(new QFile()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerLogFiles.insert(slot, logFile);</td><td> </td><td class="right">               telescopeServerLogFiles.insert(slot, logFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QTextStream * logStream = new QTextStream(logFile);</td><td> </td><td class="right">               QTextStream * logStream = new QTextStream(logFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerLogStreams.insert(slot, logStream);</td><td> </td><td class="right">               telescopeServerLogStreams.insert(slot, logStream);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 23 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>26 lines changed or deleted</i></th><th><i> </i></th><th><i>25 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
