<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: Observability.cpp - Observability.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;Observability.cpp&nbsp;</th><th> </th><th>&nbsp;Observability.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 155</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 155</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       show_Good_Nights = conf-&gt;value("show_Good_Nights", true).toBool();</td><td> </td><td class="right">       show_Good_Nights = conf-&gt;value("show_Good_Nights", true).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       show_Best_Night = conf-&gt;value("show_Best_Night", true).toBool();</td><td> </td><td class="right">       show_Best_Night = conf-&gt;value("show_Best_Night", true).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       show_Today = conf-&gt;value("show_Today", true).toBool();</td><td> </td><td class="right">       show_Today = conf-&gt;value("show_Today", true).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       show_FullMoon = conf-&gt;value("show_FullMoon", true).toBool();</td><td> </td><td class="right">       show_FullMoon = conf-&gt;value("show_FullMoon", true).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//     show_Crescent = conf-&gt;value("show_Crescent", true).toBool();</td><td> </td><td class="right">//     show_Crescent = conf-&gt;value("show_Crescent", true).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//     show_SuperMoon = conf-&gt;value("show_SuperMoon", true).toBool();</td><td> </td><td class="right">//     show_SuperMoon = conf-&gt;value("show_SuperMoon", true).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       conf-&gt;endGroup();</td><td> </td><td class="right">       conf-&gt;endGroup();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/////////////////////////////////</td><td> </td><td class="right">/////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// Apply format for date from main settings</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (conf-&gt;value("localization/date_display_format", "system_default"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">).toString() == "ddmmyyyy")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               setDateFormat(true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               setDateFormat(false);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Dummy initial values for parameters and data vectors:</td><td> </td><td class="right">       // Dummy initial values for parameters and data vectors:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       mylat = 1000.; mylon = 1000.;</td><td> </td><td class="right">       mylat = 1000.; mylon = 1000.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       myJD = 0.0;</td><td> </td><td class="right">       myJD = 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currYear = 0;</td><td> </td><td class="right">       currYear = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       isStar = true;</td><td> </td><td class="right">       isStar = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       isMoon = false;</td><td> </td><td class="right">       isMoon = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       isSun = false;</td><td> </td><td class="right">       isSun = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       isScreen = true;</td><td> </td><td class="right">       isScreen = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       raised=false;</td><td> </td><td class="right">       raised=false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 184</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 190</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int i=0;i&lt;366;i++) {</td><td> </td><td class="right">       for (int i=0;i&lt;366;i++) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               SunRA[i] = 0.0; SunDec[i] = 0.0;</td><td> </td><td class="right">               SunRA[i] = 0.0; SunDec[i] = 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ObjectRA[i] = 0.0; ObjectDec[i]=0.0;</td><td> </td><td class="right">               ObjectRA[i] = 0.0; ObjectDec[i]=0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               SunSidT[0][i]=0.0; SunSidT[1][i]=0.0;</td><td> </td><td class="right">               SunSidT[0][i]=0.0; SunSidT[1][i]=0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ObjectSidT[0][i]=0.0; ObjectSidT[1][i]=0.0;</td><td> </td><td class="right">               ObjectSidT[0][i]=0.0; ObjectSidT[1][i]=0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ObjectH0[i] = 0.0;</td><td> </td><td class="right">               ObjectH0[i] = 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               yearJD[i] = 0.0;</td><td> </td><td class="right">               yearJD[i] = 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">// Set names of the months:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QString mons[12]={qc_("Jan", "short month name"), qc_("Feb", "short </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">month name"), qc_("Mar", "short month name"), qc_("Apr", "short month name"</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">), qc_("May", "short month name"), qc_("Jun", "short month name"), qc_("Jul</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">", "short month name"), qc_("Aug", "short month name"), qc_("Sep", "short m</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">onth name"), qc_("Oct", "short month name"), qc_("Nov", "short month name")</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">, qc_("Dec", "short month name")};</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       for (int i=0;i&lt;12;i++) {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               months[i]=mons[i];</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       };</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Observability::~Observability()</td><td> </td><td class="right">Observability::~Observability()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (GlowIcon!=NULL)</td><td> </td><td class="right">       if (GlowIcon!=NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete GlowIcon;</td><td> </td><td class="right">               delete GlowIcon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (OnIcon!=NULL)</td><td> </td><td class="right">       if (OnIcon!=NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete OnIcon;</td><td> </td><td class="right">               delete OnIcon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (OffIcon!=NULL)</td><td> </td><td class="right">       if (OffIcon!=NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete OffIcon;</td><td> </td><td class="right">               delete OffIcon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete configDialog;</td><td> </td><td class="right">       delete configDialog;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void Observability::updateMessageText()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // Set names of the months:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QString mons[12]={qc_("Jan", "short month name"), qc_("Feb", "short </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">month name"), qc_("Mar", "short month name"), qc_("Apr", "short month name"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">), qc_("May", "short month name"), qc_("Jun", "short month name"), qc_("Jul</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">", "short month name"), qc_("Aug", "short month name"), qc_("Sep", "short m</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">onth name"), qc_("Oct", "short month name"), qc_("Nov", "short month name")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">, qc_("Dec", "short month name")};</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       for (int i=0;i&lt;12;i++) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               months[i]=mons[i];</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       };</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgH            = q_("h");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgM            = q_("m");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgS            = q_("s");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgSetsAt       = q_("Sets at %1 (in %2)");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgRoseAt       = q_("Rose at %1 (%2 ago)");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgSetAt        = q_("Set at %1 (%2 ago)");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgRisesAt      = q_("Rises at %1 (in %2)");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgCircumpolar  = q_("Circumpolar.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgNoRise       = q_("No rise.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgCulminatesAt = q_("Culminates at %1 (in %2) at %3 deg.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgCulminatedAt = q_("Culminated at %1 (%2 ago) at %3 deg.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgSrcNotObs    = q_("Source is not observable.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgNoACRise     = q_("No Acronychal nor Cosmical rise/set.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgGreatElong   = q_("Greatest elongation: ");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgLargSSep     = q_("Largest Sun separation: ");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgAtDeg        = q_(" (at %1 deg.)");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgNone         = q_("None");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgAcroRise     = q_("Acronychal rise/set");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgNoAcroRise   = q_("No Acronychal rise/set.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgCosmRise     = q_("Cosmical rise/set");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgNoCosmRise   = q_("No Cosmical rise/set.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgWholeYear    = q_("Observable during the whole year.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgNotObs       = q_("Not observable at dark night.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgAboveHoriz   = q_("Nights above horizon: ");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgToday        = q_("TODAY:");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgThisYear     = q_("THIS YEAR:");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgPrevFullMoon = q_("Previous Full Moon: %1 %2 at %3:%4. ");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       msgNextFullMoon = q_("Next Full Moon: %1 %2 at %3:%4. ");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double Observability::getCallOrder(StelModuleActionName actionName) const</td><td> </td><td class="right">double Observability::getCallOrder(StelModuleActionName actionName) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (actionName==StelModule::ActionDraw)</td><td> </td><td class="right">       if (actionName==StelModule::ActionDraw)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return StelApp::getInstance().getModuleMgr().getModule("Land
scapeMgr")-&gt;getCallOrder(actionName)+10.;</td><td> </td><td class="right">               return StelApp::getInstance().getModuleMgr().getModule("Land
scapeMgr")-&gt;getCallOrder(actionName)+10.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return 0;</td><td> </td><td class="right">       return 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Observability::init()</td><td> </td><td class="right">void Observability::init()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDebug() &lt;&lt; "init called for Observability";</td><td> </td><td class="right">       qDebug() &lt;&lt; "init called for Observability";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 233</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 271</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               toolbarButton = new StelButton(NULL, *OnIcon, *OffIcon, *Glo
wIcon, gui-&gt;getGuiAction("actionShow_Observability"));</td><td> </td><td class="right">               toolbarButton = new StelButton(NULL, *OnIcon, *OffIcon, *Glo
wIcon, gui-&gt;getGuiAction("actionShow_Observability"));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               gui-&gt;getButtonBar()-&gt;addButton(toolbarButton, "065-pluginsGr
oup");</td><td> </td><td class="right">               gui-&gt;getButtonBar()-&gt;addButton(toolbarButton, "065-pluginsGr
oup");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               connect(gui-&gt;getGuiAction("actionShow_Observability"), SIGNA
L(toggled(bool)), this, SLOT(enableObservability(bool)));</td><td> </td><td class="right">               connect(gui-&gt;getGuiAction("actionShow_Observability"), SIGNA
L(toggled(bool)), this, SLOT(enableObservability(bool)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               connect(gui-&gt;getGuiAction("actionShow_Observability_ConfigDi
alog"), SIGNAL(toggled(bool)), configDialog, SLOT(setVisible(bool)));</td><td> </td><td class="right">               connect(gui-&gt;getGuiAction("actionShow_Observability_ConfigDi
alog"), SIGNAL(toggled(bool)), configDialog, SLOT(setVisible(bool)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               connect(configDialog, SIGNAL(visibleChanged(bool)), gui-&gt;get
GuiAction("actionShow_Observability_ConfigDialog"), SLOT(setChecked(bool)))
;</td><td> </td><td class="right">               connect(configDialog, SIGNAL(visibleChanged(bool)), gui-&gt;get
GuiAction("actionShow_Observability_ConfigDialog"), SLOT(setChecked(bool)))
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       catch (std::exception &amp;e)</td><td> </td><td class="right">       catch (std::exception &amp;e)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qWarning() &lt;&lt; "WARNING: unable create toolbar button for Obs
ervability plugin (or load gonfig GUI). " &lt;&lt; e.what();</td><td> </td><td class="right">               qWarning() &lt;&lt; "WARNING: unable create toolbar button for Obs
ervability plugin (or load gonfig GUI). " &lt;&lt; e.what();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">updateMessageText();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(&amp;StelApp::getInstance(), SIGNAL(languageChanged()), this, SL</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">OT(updateMessageText()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/////////////////////////////////////////////</td><td> </td><td class="right">/////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// MAIN CODE:</td><td> </td><td class="right">// MAIN CODE:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Observability::draw(StelCore* core, StelRenderer* renderer)</td><td> </td><td class="right">void Observability::draw(StelCore* core, StelRenderer* renderer)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!flagShowObservability) return; // Button is off.</td><td> </td><td class="right">       if (!flagShowObservability) return; // Button is off.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/////////////////////////////////////////////////////////////////</td><td> </td><td class="right">/////////////////////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 479</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 520</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       };</td><td> </td><td class="right">                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               };</td><td> </td><td class="right">               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if ((solvedMoon &amp;&amp; MoonRise&gt;0.0) || (!isSun &amp;&amp; !isMoon &amp;&amp; ho
rizH&gt;0.0))</td><td> </td><td class="right">               if ((solvedMoon &amp;&amp; MoonRise&gt;0.0) || (!isSun &amp;&amp; !isMoon &amp;&amp; ho
rizH&gt;0.0))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double2hms(TFrac*Set,d1,m1,s1);</td><td> </td><td class="right">                       double2hms(TFrac*Set,d1,m1,s1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double2hms(TFrac*Rise,d2,m2,s2);</td><td> </td><td class="right">                       double2hms(TFrac*Rise,d2,m2,s2);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//             Strings with time spans for rise/set/transit:</td><td> </td><td class="right">//             Strings with time spans for rise/set/transit:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       RS1 = (d1==0)?"":QString("%1%2 <span class="delete">").arg(d1).arg(q_("h"</span></td><td> </td><td class="rblock">                       RS1 = (d1==0)?"":QString("%1%2 <span class="insert">").arg(d1).arg(msgH);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">));</span> RS1 += (m1==0)?"":QString("%1%2 <span class="delete">").arg(m1).arg(q_("m"));</span> RS1 += <span class="delete">QString</span></td><td> </td><td class="rblock"> RS1 += (m1==0)?"":QString("%1%2 <span class="insert">").arg(m1).arg(msgM);</span> RS1 += <span class="insert">QString("%1%2</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">("%1%2").arg(s1).arg(q_("s"));</span></td><td> </td><td class="rblock"><span class="insert">").arg(s1).arg(msgS);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       RS2 = (d2==0)?"":QString("%1%2 <span class="delete">").arg(d2).arg(q_("h"</span></td><td> </td><td class="rblock">                       RS2 = (d2==0)?"":QString("%1%2 <span class="insert">").arg(d2).arg(msgH);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">));</span> RS2 += (m2==0)?"":QString("%1%2 <span class="delete">").arg(m2).arg(q_("m"));</span> RS2 += <span class="delete">QString</span></td><td> </td><td class="rblock"> RS2 += (m2==0)?"":QString("%1%2 <span class="insert">").arg(m2).arg(msgM);</span> RS2 += <span class="insert">QString("%1%2</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">("%1%2").arg(s2).arg(q_("s"));</span></td><td> </td><td class="rblock"><span class="insert">").arg(s2).arg(msgS);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (raised)</td><td> </td><td class="right">                       if (raised)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                double2hms(toUnsignedRA(currLocalT+TFrac*Se
t+12.),ephHour,ephMinute,ephSecond);</td><td> </td><td class="right">                                double2hms(toUnsignedRA(currLocalT+TFrac*Se
t+12.),ephHour,ephMinute,ephSecond);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               SetTime = QString("%1:%2").arg(ephHour).arg(
ephMinute,2,10,QLatin1Char('0')); // Local time for set.</td><td> </td><td class="right">                               SetTime = QString("%1:%2").arg(ephHour).arg(
ephMinute,2,10,QLatin1Char('0')); // Local time for set.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                double2hms(toUnsignedRA(currLocalT-TFrac*Ri
se+12.),ephHour,ephMinute,ephSecond); // Local time for rise.</td><td> </td><td class="right">                                double2hms(toUnsignedRA(currLocalT-TFrac*Ri
se+12.),ephHour,ephMinute,ephSecond); // Local time for rise.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               RiseTime = QString("%1:%2").arg(ephHour).arg
(ephMinute,2,10,QLatin1Char('0'));</td><td> </td><td class="right">                               RiseTime = QString("%1:%2").arg(ephHour).arg
(ephMinute,2,10,QLatin1Char('0'));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">RS1</span> = q_("Sets at %1 (in <span class="delete">%2)").arg(SetTime).</span></td><td> </td><td class="rblock">                               <span class="insert">//RS1</span> = q_("Sets at %1 (in <span class="insert">%2)").arg(SetTime</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">arg(RS1);</span></td><td> </td><td class="rblock"><span class="insert">).arg(RS1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               RS2</span> = q_("Rose at %1 (%2 <span class="delete">ago)").arg(RiseTime</span></td><td> </td><td class="rblock"><span class="insert">                               //RS2</span> = q_("Rose at %1 (%2 <span class="insert">ago)").arg(RiseTi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">).arg(RS2);</span></td><td> </td><td class="rblock"><span class="insert">me).arg(RS2);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               RS1 = msgSetsAt.arg(SetTime).arg(RS1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               RS2 = msgRoseAt.arg(RiseTime).arg(RS2);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                double2hms(toUnsignedRA(currLocalT-TFrac*Se
t+12.),ephHour,ephMinute,ephSecond);</td><td> </td><td class="right">                                double2hms(toUnsignedRA(currLocalT-TFrac*Se
t+12.),ephHour,ephMinute,ephSecond);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               SetTime = QString("%1:%2").arg(ephHour).arg(
ephMinute,2,10,QLatin1Char('0'));</td><td> </td><td class="right">                               SetTime = QString("%1:%2").arg(ephHour).arg(
ephMinute,2,10,QLatin1Char('0'));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                double2hms(toUnsignedRA(currLocalT+TFrac*Ri
se+12.),ephHour,ephMinute,ephSecond);</td><td> </td><td class="right">                                double2hms(toUnsignedRA(currLocalT+TFrac*Ri
se+12.),ephHour,ephMinute,ephSecond);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               RiseTime = QString("%1:%2").arg(ephHour).arg
(ephMinute,2,10,QLatin1Char('0'));</td><td> </td><td class="right">                               RiseTime = QString("%1:%2").arg(ephHour).arg
(ephMinute,2,10,QLatin1Char('0'));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">RS1</span> = q_("Set at %1 (%2 <span class="delete">ago)").arg(SetTime).</span></td><td> </td><td class="rblock">                               <span class="insert">//RS1</span> = q_("Set at %1 (%2 <span class="insert">ago)").arg(SetTime</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">arg(RS1);</span></td><td> </td><td class="rblock"><span class="insert">).arg(RS1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               RS2</span> = q_("Rises at %1 (in <span class="delete">%2)").arg(RiseTime</span></td><td> </td><td class="rblock"><span class="insert">                               //RS2</span> = q_("Rises at %1 (in <span class="insert">%2)").arg(RiseTi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">).arg(RS2);</span></td><td> </td><td class="rblock"><span class="insert">me).arg(RS2);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               RS1 = msgSetAt.arg(SetTime).arg(RS1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               RS2 = msgRisesAt.arg(RiseTime).arg(RS2);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       };</td><td> </td><td class="right">                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else { // The source is either circumpolar or never rises:</td><td> </td><td class="right">               else { // The source is either circumpolar or never rises:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       (alti&gt;RefracHoriz)? RS1 = <span class="delete">q_("Circumpolar."): RS1 = 
q_("No rise.")</span>;</td><td> </td><td class="rblock">                       (alti&gt;RefracHoriz)? RS1 = <span class="insert">msgCircumpolar: RS1 = msgN
oRise</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       RS2 = "";</td><td> </td><td class="right">                       RS2 = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               };</td><td> </td><td class="right">               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//     Culmination:</td><td> </td><td class="right">//     Culmination:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (isStar)</td><td> </td><td class="right">       if (isStar)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               culmAlt = std::abs(mylat-selDec); // 90.-altitude at transit
.</td><td> </td><td class="right">               culmAlt = std::abs(mylat-selDec); // 90.-altitude at transit
.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               transit = LocPos[1]&lt;0.0;</td><td> </td><td class="right">               transit = LocPos[1]&lt;0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (culmAlt&lt;halfpi-RefracHoriz) { // Source can be observed.</td><td> </td><td class="right">       if (culmAlt&lt;halfpi-RefracHoriz) { // Source can be observed.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double altiAtCulmi = Rad2Deg*(halfpi-culmAlt-RefracHoriz);</td><td> </td><td class="right">               double altiAtCulmi = Rad2Deg*(halfpi-culmAlt-RefracHoriz);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double2hms(TFrac*currH,dc,mc,sc);</td><td> </td><td class="right">               double2hms(TFrac*currH,dc,mc,sc);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//             String with the time span for culmination:</td><td> </td><td class="right">//             String with the time span for culmination:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               Cul = (dc==0)?"":QString("%1%2 ").arg(dc).arg(<span class="delete">q_("h")); Cul 
+= (mc==0)?"":QString("%1%2 ").arg(mc).arg(q_("m")); Cul += QString("%1%2")
.arg(sc).arg(q_("s")</span>);</td><td> </td><td class="rblock">               Cul = (dc==0)?"":QString("%1%2 ").arg(dc).arg(<span class="insert">msgH); Cul += 
(mc==0)?"":QString("%1%2 ").arg(mc).arg(msgM); Cul += QString("%1%2").arg(s
c).arg(msgS</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (transit==false) {</td><td> </td><td class="right">               if (transit==false) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                        double2hms(toUnsignedRA(currLocalT+TFrac*currH+12.)
,ephHour,ephMinute,ephSecond); // Local time at transit.</td><td> </td><td class="right">                        double2hms(toUnsignedRA(currLocalT+TFrac*currH+12.)
,ephHour,ephMinute,ephSecond); // Local time at transit.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       CulmTime = QString("%1:%2").arg(ephHour).arg(ephMinu
te,2,10,QLatin1Char('0'));</td><td> </td><td class="right">                       CulmTime = QString("%1:%2").arg(ephHour).arg(ephMinu
te,2,10,QLatin1Char('0'));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">Cul</span> = q_("Culminates at %1 (in %2) at %3 <span class="delete">deg.").arg(</span></td><td> </td><td class="rblock">                       <span class="insert">//Cul</span> = q_("Culminates at %1 (in %2) at %3 <span class="insert">deg.").ar</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">CulmTime).arg(Cul).arg(altiAtCulmi,0,'f',1);}</span></td><td> </td><td class="rblock"><span class="insert">g(CulmTime).arg(Cul).arg(altiAtCulmi,0,'f',1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               else {</td><td> </td><td class="rblock"><span class="insert">                       Cul = msgCulminatesAt.arg(CulmTime).arg(Cul).arg(alt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">iAtCulmi,0,'f',1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                        double2hms(toUnsignedRA(currLocalT-TFrac*currH+12.)
,ephHour,ephMinute,ephSecond);</td><td> </td><td class="right">                        double2hms(toUnsignedRA(currLocalT-TFrac*currH+12.)
,ephHour,ephMinute,ephSecond);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       CulmTime = QString("%1:%2").arg(ephHour).arg(ephMinu
te,2,10,QLatin1Char('0'));</td><td> </td><td class="right">                       CulmTime = QString("%1:%2").arg(ephHour).arg(ephMinu
te,2,10,QLatin1Char('0'));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">Cul</span> = q_("Culminated at %1 (%2 ago) at %3 <span class="delete">deg.").arg</span></td><td> </td><td class="rblock">                       <span class="insert">//Cul</span> = q_("Culminated at %1 (%2 ago) at %3 <span class="insert">deg.").a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">(CulmTime).arg(Cul).arg(altiAtCulmi,0,'f',1);</span></td><td> </td><td class="rblock"><span class="insert">rg(CulmTime).arg(Cul).arg(altiAtCulmi,0,'f',1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       Cul = msgCulminatedAt.arg(CulmTime).arg(Cul).arg(alt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">iAtCulmi,0,'f',1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               };</td><td> </td><td class="right">               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }; // This comes from show_Today==True</td><td> </td><td class="right">       }; // This comes from show_Today==True</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////////////////////////////////////</td><td> </td><td class="right">////////////////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////////////////////////////////////</td><td> </td><td class="right">////////////////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// NOW WE ANALYZE THE SOURCE OBSERVABILITY FOR THE WHOLE YEAR:</td><td> </td><td class="right">// NOW WE ANALYZE THE SOURCE OBSERVABILITY FOR THE WHOLE YEAR:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Compute yearly ephemeris (only if necessary, and not for Sun nor Moon):</td><td> </td><td class="right">// Compute yearly ephemeris (only if necessary, and not for Sun nor Moon):</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 570</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 619</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               ObjectSidT[0][i] = auxSidT1;</td><td> </td><td class="right">                               ObjectSidT[0][i] = auxSidT1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               ObjectSidT[1][i] = auxSidT2;</td><td> </td><td class="right">                               ObjectSidT[1][i] = auxSidT2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       };</td><td> </td><td class="right">                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               };</td><td> </td><td class="right">               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Determine source observability (only if something changed):</td><td> </td><td class="right">// Determine source observability (only if something changed):</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if ((souChanged || locChanged || yearChanged)) {</td><td> </td><td class="right">               if ((souChanged || locChanged || yearChanged)) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       bestNight=""; ObsRange = "";</td><td> </td><td class="right">                       bestNight=""; ObsRange = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (culmAlt&gt;=halfpi-RefracHoriz) { // Source cannot 
be seen.</td><td> </td><td class="right">                       if (culmAlt&gt;=halfpi-RefracHoriz) { // Source cannot 
be seen.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">ObsRange</span> = q_("Source is not <span class="delete">observable.");</span></td><td> </td><td class="rblock">                               <span class="insert">//ObsRange</span> = q_("Source is not <span class="insert">observable.")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               AcroCos</span> = q_("No Acronychal nor Cosmical <span class="delete">ris</span></td><td> </td><td class="rblock"><span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e/set.");</span></td><td> </td><td class="rblock"><span class="insert">                               //AcroCos</span> = q_("No Acronychal nor Cosmical <span class="insert">r</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ise/set.");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               ObsRange = msgSrcNotObs;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               AcroCos = msgNoACRise;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else { // Source can be seen.</td><td> </td><td class="right">                       else { // Source can be seen.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////</td><td> </td><td class="right">///////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// - Part 1. Determine the best observing night (i.e., opposition to the Su
n):</td><td> </td><td class="right">// - Part 1. Determine the best observing night (i.e., opposition to the Su
n):</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (show_Best_Night) {</td><td> </td><td class="right">                               if (show_Best_Night) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       int selday = 0;</td><td> </td><td class="right">                                       int selday = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       double deltaPhs = -1.0; // Initial d
ummy value</td><td> </td><td class="right">                                       double deltaPhs = -1.0; // Initial d
ummy value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       double tempPhs;</td><td> </td><td class="right">                                       double tempPhs;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       for (int i=0;i&lt;nDays;i++) { // Maxim
ize the Sun-object separation.</td><td> </td><td class="right">                                       for (int i=0;i&lt;nDays;i++) { // Maxim
ize the Sun-object separation.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               tempPhs = Lambda(ObjectRA[i]
,ObjectDec[i],SunRA[i],SunDec[i]);</td><td> </td><td class="right">                                               tempPhs = Lambda(ObjectRA[i]
,ObjectDec[i],SunRA[i],SunDec[i]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               if (tempPhs&gt;deltaPhs) {selda
y=i;deltaPhs=tempPhs;};</td><td> </td><td class="right">                                               if (tempPhs&gt;deltaPhs) {selda
y=i;deltaPhs=tempPhs;};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       };</td><td> </td><td class="right">                                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if (selName=="Mercury" || selName=="
Venus")</td><td> </td><td class="right">                                       if (selName=="Mercury" || selName=="
Venus")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                               <span class="delete">bestNight</span> = q_("Greatest <span class="delete">elo</span></td><td> </td><td class="rblock">                                               <span class="insert">//bestNight</span> = q_("Greatest <span class="insert">e</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ngation:</span> ");</td><td> </td><td class="rblock"><span class="insert">longation:</span> ");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                               <span class="insert">bestNight = msgGreatElong;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       } else</td><td> </td><td class="right">                                       } else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                               <span class="delete">bestNight</span> = q_("Largest <span class="delete">Sun</span> </td><td> </td><td class="rblock">                                               <span class="insert">//bestNight</span> = q_("Largest <span class="insert">Su</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">separation: ");</td><td> </td><td class="rblock"><span class="insert">n</span> separation: ");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                               <span class="insert">bestNight = msgLargSSep;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       };</td><td> </td><td class="right">                                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       <span class="delete">bestNight</span> = bestNight + <span class="delete">CalenDate(se</span></td><td> </td><td class="rblock">                                       <span class="insert">//bestNight</span> = bestNight + <span class="insert">CalenDate(</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">lday)</span> + q_(" (at %1 deg.)").arg(deltaPhs*Rad2Deg,0,'f',1);</td><td> </td><td class="rblock"><span class="insert">selday)</span> + q_(" (at %1 deg.)").arg(deltaPhs*Rad2Deg,0,'f',1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                       <span class="insert">bestNight = bestNight + CalenDate(se</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">lday) + msgAtDeg.arg(deltaPhs*Rad2Deg,0,'f',1);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               };</td><td> </td><td class="right">                               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////</td><td> </td><td class="right">///////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// - Part 2. Determine Acronychal and Cosmical rise and set:</td><td> </td><td class="right">// - Part 2. Determine Acronychal and Cosmical rise and set:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (show_AcroCos) {</td><td> </td><td class="right">                               if (show_AcroCos) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       int selRise, selSet, selRise2, selSe
t2; // days of year for Acronical and Cosmical rise/set.</td><td> </td><td class="right">                                       int selRise, selSet, selRise2, selSe
t2; // days of year for Acronical and Cosmical rise/set.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       int Acro = CheckAcro(selRise,selSet,
selRise2,selSet2);</td><td> </td><td class="right">                                       int Acro = CheckAcro(selRise,selSet,
selRise2,selSet2);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       QString AcroRiseStr, AcroSetStr;</td><td> </td><td class="right">                                       QString AcroRiseStr, AcroSetStr;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       QString CosmRiseStr, CosmSetStr;</td><td> </td><td class="right">                                       QString CosmRiseStr, CosmSetStr;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       AcroRiseStr = (selRise&gt;0)?CalenDate(</td><td> </td><td class="rblock">                                       AcroRiseStr = (selRise&gt;0)?CalenDate(</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">selRise):q_("None");</span></td><td> </td><td class="rblock"><span class="insert">selRise):msgNone;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       AcroSetStr = (selSet&gt;0)?CalenDate(se</td><td> </td><td class="rblock">                                       AcroSetStr = (selSet&gt;0)?CalenDate(se</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">lSet):q_("None");</span></td><td> </td><td class="rblock"><span class="insert">lSet):msgNone;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       CosmRiseStr = (selRise2&gt;0)?CalenDate</td><td> </td><td class="rblock">                                       CosmRiseStr = (selRise2&gt;0)?CalenDate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">(selRise2):q_("None");</span></td><td> </td><td class="rblock"><span class="insert">(selRise2):msgNone;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       CosmSetStr = (selSet2&gt;0)?CalenDate(s</td><td> </td><td class="rblock">                                       CosmSetStr = (selSet2&gt;0)?CalenDate(s</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">elSet2):q_("None");</span></td><td> </td><td class="rblock"><span class="insert">elSet2):msgNone;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       <span class="delete">AcroCos</span> = (Acro==3 || <span class="delete">Acro==1)?QStri</span></td><td> </td><td class="rblock">                                       <span class="insert">//AcroCos</span> = (Acro==3 || <span class="insert">Acro==1)?QSt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ng("%1:</span> %2/%3.").arg(q_("Acronychal <span class="delete">rise/set")).arg(AcroRiseStr).arg(AcroSe</span></td><td> </td><td class="rblock"><span class="insert">ring("%1:</span> %2/%3.").arg(q_("Acronychal <span class="insert">rise/set")).arg(AcroRiseStr).arg(Acro</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tStr):q_("No</span> Acronychal rise/set.");</td><td> </td><td class="rblock"><span class="insert">SetStr):q_("No</span> Acronychal rise/set.");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       <span class="delete">AcroCos</span> += (Acro==3 || <span class="delete">Acro==2)?QStr</span></td><td> </td><td class="rblock">                                       <span class="insert">//AcroCos</span> += (Acro==3 || <span class="insert">Acro==2)?QS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ing("</span> %1: %2/%3.").arg(q_("Cosmical <span class="delete">rise/set")).arg(CosmRiseStr).arg(CosmSe</span></td><td> </td><td class="rblock"><span class="insert">tring("</span> %1: %2/%3.").arg(q_("Cosmical <span class="insert">rise/set")).arg(CosmRiseStr).arg(Cosm</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tStr):QString("</span> %1").arg(q_("No Cosmical rise/set."));</td><td> </td><td class="rblock"><span class="insert">SetStr):QString("</span> %1").arg(q_("No Cosmical rise/set."));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                       <span class="insert">AcroCos = (Acro==3 || Acro==1)?QStri</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ng("%1: %2/%3.").arg(msgAcroRise).arg(AcroRiseStr).arg(AcroSetStr):msgNoAcr</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">oRise;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       AcroCos += (Acro==3 || Acro==2)?QStr</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ing(" %1: %2/%3.").arg(msgCosmRise).arg(CosmRiseStr).arg(CosmSetStr):QStrin</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">g(" %1").arg(msgNoCosmRise);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               };</td><td> </td><td class="right">                               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////</td><td> </td><td class="right">////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// - Part 3. Determine range of good nights</td><td> </td><td class="right">// - Part 3. Determine range of good nights</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// (i.e., above horizon before/after twilight):</td><td> </td><td class="right">// (i.e., above horizon before/after twilight):</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (show_Good_Nights) {</td><td> </td><td class="right">                               if (show_Good_Nights) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       int selday = 0;</td><td> </td><td class="right">                                       int selday = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       int selday2 = 0;</td><td> </td><td class="right">                                       int selday2 = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 658</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 714</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if (bestBegun) { // There were good 
dates till the end of the year.</td><td> </td><td class="right">                                       if (bestBegun) { // There were good 
dates till the end of the year.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                if (dateRange!="") { dateRa
nge += ", ";};</td><td> </td><td class="right">                                                if (dateRange!="") { dateRa
nge += ", ";};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               dateRange += RangeCalenDates
(selday, 0);</td><td> </td><td class="right">                                               dateRange += RangeCalenDates
(selday, 0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       };</td><td> </td><td class="right">                                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if (dateRange == "")</td><td> </td><td class="right">                                       if (dateRange == "")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               if (atLeastOne)</td><td> </td><td class="right">                                               if (atLeastOne)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               { // The whole year is good.</td><td> </td><td class="right">                                               { // The whole year is good.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                       <span class="delete">ObsRange</span> = <span class="delete">q_("Obser</span></td><td> </td><td class="rblock">                                                       <span class="insert">//ObsRange</span> = <span class="insert">q_("Obs</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">vable</span> during the whole year.");</td><td> </td><td class="rblock"><span class="insert">ervable</span> during the whole year.");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                       <span class="insert">ObsRange = msgWholeY</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ear;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               }</td><td> </td><td class="right">                                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               else</td><td> </td><td class="right">                                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               {</td><td> </td><td class="right">                                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                       <span class="delete">ObsRange</span> = q_("Not <span class="delete">o</span></td><td> </td><td class="rblock">                                                       <span class="insert">//ObsRange</span> = q_("Not</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">bservable</span> at dark night.");</td><td> </td><td class="rblock"> <span class="insert">observable</span> at dark night.");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                       <span class="insert">ObsRange = msgNotObs</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               };</td><td> </td><td class="right">                                               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       }</td><td> </td><td class="right">                                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       else</td><td> </td><td class="right">                                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                               <span class="delete">ObsRange</span> = QString("%1 <span class="delete">%2").</span></td><td> </td><td class="rblock">                                               <span class="insert">//ObsRange</span> = QString("%1 <span class="insert">%2"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">arg(q_("Nights</span> above horizon: ")).arg(dateRange);</td><td> </td><td class="rblock"><span class="insert">).arg(q_("Nights</span> above horizon: ")).arg(dateRange);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                               <span class="insert">ObsRange = QString("%1 %2").</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">arg(msgAboveHoriz).arg(dateRange);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       };</td><td> </td><td class="right">                                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }; // Comes from show_Good_Nights==True"</td><td> </td><td class="right">                               }; // Comes from show_Good_Nights==True"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }; // Comes from the "else" of "culmAlt&gt;=..."</td><td> </td><td class="right">                       }; // Comes from the "else" of "culmAlt&gt;=..."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               };// Comes from  "souChanged || ..."</td><td> </td><td class="right">               };// Comes from  "souChanged || ..."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }; // Comes from the "else" with "!isMoon"</td><td> </td><td class="right">       }; // Comes from the "else" with "!isMoon"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Print all results:</td><td> </td><td class="right">// Print all results:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int spacing = (int) (1.3* ( (double) fontSize));  // between lines</td><td> </td><td class="right">       int spacing = (int) (1.3* ( (double) fontSize));  // between lines</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int spacing2 = 6*fontSize;  // between daily and yearly results</td><td> </td><td class="right">       int spacing2 = 6*fontSize;  // between daily and yearly results</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int yLine = 8*fontSize+110;</td><td> </td><td class="right">       int yLine = 8*fontSize+110;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int xLine = 80;</td><td> </td><td class="right">       int xLine = 80;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (show_Today)</td><td> </td><td class="right">       if (show_Today)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">renderer-&gt;drawText(TextParams(xLine,</span> yLine,q_("TODAY:")));</td><td> </td><td class="rblock">               <span class="insert">//renderer-&gt;drawText(TextParams(xLine,</span> yLine,q_("TODAY:")));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">renderer-&gt;drawText(TextParams(xLine, yLine,msgToday));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               renderer-&gt;drawText(TextParams(xLine+fontSize, yLine-spacing,
 RS2));</td><td> </td><td class="right">               renderer-&gt;drawText(TextParams(xLine+fontSize, yLine-spacing,
 RS2));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               renderer-&gt;drawText(TextParams(xLine+fontSize, yLine-spacing*
2, RS1));</td><td> </td><td class="right">               renderer-&gt;drawText(TextParams(xLine+fontSize, yLine-spacing*
2, RS1));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               renderer-&gt;drawText(TextParams(xLine+fontSize, yLine-spacing*
3, Cul));</td><td> </td><td class="right">               renderer-&gt;drawText(TextParams(xLine+fontSize, yLine-spacing*
3, Cul));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               yLine -= spacing2;</td><td> </td><td class="right">               yLine -= spacing2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if ((isMoon &amp;&amp; show_FullMoon) || (!isSun &amp;&amp; !isMoon &amp;&amp; show_Year))</td><td> </td><td class="right">       if ((isMoon &amp;&amp; show_FullMoon) || (!isSun &amp;&amp; !isMoon &amp;&amp; show_Year))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">renderer-&gt;drawText(TextParams(xLine,yLine,q_("THIS YEAR:")))</span></td><td> </td><td class="rblock">               <span class="insert">//renderer-&gt;drawText(TextParams(xLine,yLine,q_("THIS YEAR:")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">;</span></td><td> </td><td class="rblock"><span class="insert">));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               renderer-&gt;drawText(TextParams(xLine,yLine,msgThisYear));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (show_Best_Night || show_FullMoon)</td><td> </td><td class="right">               if (show_Best_Night || show_FullMoon)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       yLine -= spacing;</td><td> </td><td class="right">                       yLine -= spacing;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       renderer-&gt;drawText(TextParams(xLine+fontSize, yLine,
 bestNight));</td><td> </td><td class="right">                       renderer-&gt;drawText(TextParams(xLine+fontSize, yLine,
 bestNight));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               };</td><td> </td><td class="right">               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (show_Good_Nights)</td><td> </td><td class="right">               if (show_Good_Nights)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       yLine -= spacing;</td><td> </td><td class="right">                       yLine -= spacing;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       renderer-&gt;drawText(TextParams(xLine+fontSize, yLine,
 ObsRange));</td><td> </td><td class="right">                       renderer-&gt;drawText(TextParams(xLine+fontSize, yLine,
 ObsRange));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               };</td><td> </td><td class="right">               };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 763</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 824</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////////////</td><td> </td><td class="right">////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////////////</td><td> </td><td class="right">////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Converts a float time/angle span (in hours/degrees) in the (integer) for
mat hh/dd,mm,ss:</td><td> </td><td class="right">// Converts a float time/angle span (in hours/degrees) in the (integer) for
mat hh/dd,mm,ss:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Observability::double2hms(double hfloat, int &amp;h1, int &amp;h2, int &amp;h3)</td><td> </td><td class="right">void Observability::double2hms(double hfloat, int &amp;h1, int &amp;h2, int &amp;h3)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double f1,f2,f3;</td><td> </td><td class="right">       double f1,f2,f3;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       hfloat = std::abs(hfloat);</td><td> </td><td class="right">       hfloat = std::abs(hfloat);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double ffrac = std::modf(hfloat,&amp;f1);</td><td> </td><td class="right">       double ffrac = std::modf(hfloat,&amp;f1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double ffrac2 = std::modf(60.*ffrac,&amp;f2);</td><td> </td><td class="right">       double ffrac2 = std::modf(60.*ffrac,&amp;f2);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       //FIXME: ffrac2 is unused variable; need fix</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ffrac2 = std::modf(3600.*(ffrac-f2/60.),&amp;f3);</td><td> </td><td class="right">       ffrac2 = std::modf(3600.*(ffrac-f2/60.),&amp;f3);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       h1 = (int)f1 ; h2 = (int)std::abs(f2+0.0*ffrac2) ; h3 = (int)std::ab
s(f3);</td><td> </td><td class="right">       h1 = (int)f1 ; h2 = (int)std::abs(f2+0.0*ffrac2) ; h3 = (int)std::ab
s(f3);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////////////</td><td> </td><td class="right">////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////////////</td><td> </td><td class="right">////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Adds/subtracts 24hr to ensure a RA between 0 and 24hr:</td><td> </td><td class="right">// Adds/subtracts 24hr to ensure a RA between 0 and 24hr:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double Observability::toUnsignedRA(double RA)</td><td> </td><td class="right">double Observability::toUnsignedRA(double RA)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double tempRA,tempmod;</td><td> </td><td class="right">       double tempRA,tempmod;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 788</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 848</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return auxRA;</td><td> </td><td class="right">       return auxRA;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">////////////////////////////////////</td><td> </td><td class="right">////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////</td><td> </td><td class="right">///////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Returns the day and month of year (to put it in format '25 Apr')</td><td> </td><td class="right">// Returns the day and month of year (to put it in format '25 Apr')</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString Observability::CalenDate(int selday)</td><td> </td><td class="right">QString Observability::CalenDate(int selday)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int day,month,year;</td><td> </td><td class="right">       int day,month,year;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelUtils::getDateFromJulianDay(yearJD[selday],&amp;year,&amp;month,&amp;day);</td><td> </td><td class="right">       StelUtils::getDateFromJulianDay(yearJD[selday],&amp;year,&amp;month,&amp;day);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">return</span> QString("%1 %2").arg(day).arg(months[month-1]);</td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">QString r;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (getDateFormat())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               r =</span> QString("%1 %2").arg(day).arg(months[month-1]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               r = QString("%1 %2").arg(months[month-1]).arg(day);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return r;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//////////////////////////////////////////////</td><td> </td><td class="right">//////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////</td><td> </td><td class="right">///////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Returns the day and month of year (to put it in format '25 Apr')</td><td> </td><td class="right">// Returns the day and month of year (to put it in format '25 Apr')</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString Observability::RangeCalenDates(int fDoY, int sDoY)</td><td> </td><td class="right">QString Observability::RangeCalenDates(int fDoY, int sDoY)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int day1,month1,year1,day2,month2,year2;</td><td> </td><td class="right">       int day1,month1,year1,day2,month2,year2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString range;</td><td> </td><td class="right">       QString range;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelUtils::getDateFromJulianDay(yearJD[fDoY],&amp;year1,&amp;month1,&amp;day1);</td><td> </td><td class="right">       StelUtils::getDateFromJulianDay(yearJD[fDoY],&amp;year1,&amp;month1,&amp;day1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 812</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 879</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               day2 = 31;</td><td> </td><td class="right">               day2 = 31;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               month2 = 12;</td><td> </td><td class="right">               month2 = 12;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (fDoY==0)</td><td> </td><td class="right">       if (fDoY==0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               day1 = 1;</td><td> </td><td class="right">               day1 = 1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               month1 = 1;</td><td> </td><td class="right">               month1 = 1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (month1==month2)</td><td> </td><td class="right">       if (month1==month2)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               range = QString("%1 - %2 <span class="delete">%3").arg(day1).arg(day2).arg(months</span></td><td> </td><td class="rblock">               <span class="insert">if (getDateFormat())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">[month1-1]);</span></td><td> </td><td class="rblock">                       range = QString("%1 - %2 <span class="insert">%3").arg(day1).arg(day2).ar</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">g(months[month1-1]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       range = QString("%3 %1 - %2").arg(day1).arg(day2).ar</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">g(months[month1-1]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               range = QString("%1 %2 - %3 <span class="delete">%4").arg(day1).arg(months[month1</span></td><td> </td><td class="rblock">               <span class="insert">if (getDateFormat())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">-1]).arg(day2).arg(months[month2-1]);</span></td><td> </td><td class="rblock">                       range = QString("%1 %2 - %3 <span class="insert">%4").arg(day1).arg(month</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">s[month1-1]).arg(day2).arg(months[month2-1]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       range = QString("%1 %2 - %3 %4").arg(months[month1-1</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">]).arg(day1).arg(months[month2-1]).arg(day2);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return range;</td><td> </td><td class="right">       return range;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//////////////////////////////////////////////</td><td> </td><td class="right">//////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//////////////////////////////////////////////////</td><td> </td><td class="right">//////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Returns the RA and Dec of the selected planet</td><td> </td><td class="right">// Returns the RA and Dec of the selected planet</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//for each day of the current year:</td><td> </td><td class="right">//for each day of the current year:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Observability::PlanetRADec(StelCore *core)</td><td> </td><td class="right">void Observability::PlanetRADec(StelCore *core)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 1389</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 1462</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       };</td><td> </td><td class="right">                       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Update the string shown in the screen:</td><td> </td><td class="right">       // Update the string shown in the screen:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       int fullDay, fullMonth,fullYear, fullHour, fullMinut
e, fullSecond;</td><td> </td><td class="right">                       int fullDay, fullMonth,fullYear, fullHour, fullMinut
e, fullSecond;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double LocalPrev = prevFullMoon+GMTShift+0.5;  // Sh
ift to the local time.</td><td> </td><td class="right">                       double LocalPrev = prevFullMoon+GMTShift+0.5;  // Sh
ift to the local time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double LocalNext = nextFullMoon+GMTShift+0.5;</td><td> </td><td class="right">                       double LocalNext = nextFullMoon+GMTShift+0.5;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double intMoon;</td><td> </td><td class="right">                       double intMoon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double LocalTMoon = 24.*modf(LocalPrev,&amp;intMoon);</td><td> </td><td class="right">                       double LocalTMoon = 24.*modf(LocalPrev,&amp;intMoon);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       StelUtils::getDateFromJulianDay(intMoon,&amp;fullYear,&amp;f
ullMonth,&amp;fullDay);</td><td> </td><td class="right">                       StelUtils::getDateFromJulianDay(intMoon,&amp;fullYear,&amp;f
ullMonth,&amp;fullDay);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double2hms(toUnsignedRA(LocalTMoon),fullHour,fullMin
ute,fullSecond);</td><td> </td><td class="right">                       double2hms(toUnsignedRA(LocalTMoon),fullHour,fullMin
ute,fullSecond);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       bestNight = <span class="delete">q_("Previous Full Moon: %1 %2 at %3:%4. </span></td><td> </td><td class="rblock">                       <span class="insert">if (getDateFormat())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">").arg(months[fullMonth-1]).arg(fullDay).arg(fullHour).arg(fullMinute,2,10,</span></td><td> </td><td class="rblock">                               bestNight = <span class="insert">msgPrevFullMoon.arg(fullDay).arg</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">QLatin1Char('0'));</span></td><td> </td><td class="rblock"><span class="insert">(months[fullMonth-1]).arg(fullHour).arg(fullMinute,2,10,QLatin1Char('0'));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               bestNight = msgPrevFullMoon.arg(months[fullM</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">onth-1]).arg(fullDay).arg(fullHour).arg(fullMinute,2,10,QLatin1Char('0'));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       LocalTMoon = 24.*modf(LocalNext,&amp;intMoon);</td><td> </td><td class="right">                       LocalTMoon = 24.*modf(LocalNext,&amp;intMoon);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       StelUtils::getDateFromJulianDay(intMoon,&amp;fullYear,&amp;f
ullMonth,&amp;fullDay);</td><td> </td><td class="right">                       StelUtils::getDateFromJulianDay(intMoon,&amp;fullYear,&amp;f
ullMonth,&amp;fullDay);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double2hms(toUnsignedRA(LocalTMoon),fullHour,fullMin
ute,fullSecond);</td><td> </td><td class="right">                       double2hms(toUnsignedRA(LocalTMoon),fullHour,fullMin
ute,fullSecond);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       bestNight += <span class="delete">q_("Next Full Moon: %1 %2 at %3:%4. ").</span></td><td> </td><td class="rblock">                       <span class="insert">if (getDateFormat())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">arg(months[fullMonth-1]).arg(fullDay).arg(fullHour).arg(fullMinute,2,10,QLa</span></td><td> </td><td class="rblock">                               bestNight += <span class="insert">msgNextFullMoon.arg(fullDay).ar</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tin1Char('0'));</span></td><td> </td><td class="rblock"><span class="insert">g(months[fullMonth-1]).arg(fullHour).arg(fullMinute,2,10,QLatin1Char('0'));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               bestNight += msgNextFullMoon.arg(months[full</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Month-1]).arg(fullDay).arg(fullHour).arg(fullMinute,2,10,QLatin1Char('0'));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ObsRange = "";</td><td> </td><td class="right">                       ObsRange = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       AcroCos = "";</td><td> </td><td class="right">                       AcroCos = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Now, compute the days of all the Full Moons of the current year, 
and get the Earth/Moon distance:</td><td> </td><td class="right">       // Now, compute the days of all the Full Moons of the current year, 
and get the Earth/Moon distance:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//                     double monthFrac, monthTemp, maxMoonDate;</td><td> </td><td class="right">//                     double monthFrac, monthTemp, maxMoonDate;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//                     monthFrac = std::modf((nextFullMoon-Jan1stJD)/MoonT,
&amp;monthTemp);</td><td> </td><td class="right">//                     monthFrac = std::modf((nextFullMoon-Jan1stJD)/MoonT,
&amp;monthTemp);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//                     int PrevMonths = (int)(monthTemp+0.0*monthFrac);</td><td> </td><td class="right">//                     int PrevMonths = (int)(monthTemp+0.0*monthFrac);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//                     double BestDistance = 1.0; // initial dummy value fo
r Sun-Moon distance;</td><td> </td><td class="right">//                     double BestDistance = 1.0; // initial dummy value fo
r Sun-Moon distance;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//                     double Distance; // temporal variable to save Earth-
Moon distance at each month.</td><td> </td><td class="right">//                     double Distance; // temporal variable to save Earth-
Moon distance at each month.</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 29 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>77 lines changed or deleted</i></th><th><i> </i></th><th><i>171 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
