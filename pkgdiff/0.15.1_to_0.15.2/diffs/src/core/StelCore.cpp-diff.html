<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.home 4.4.0-67-generic #88-Ubuntu SMP Wed Mar 8 16:34:45 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.1.3, API: 1.1 (GNU MPFR 3.1.4, GNU MP 6.1.0) --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: StelCore.cpp - StelCore.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;StelCore.cpp&nbsp;</th><th> </th><th>&nbsp;StelCore.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 87</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 87</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , currentDeltaTAlgorithm(EspenakMeeus)</td><td> </td><td class="right">       , currentDeltaTAlgorithm(EspenakMeeus)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , position(NULL)</td><td> </td><td class="right">       , position(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , flagUseNutation(true)</td><td> </td><td class="right">       , flagUseNutation(true)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , flagUseTopocentricCoordinates(true)</td><td> </td><td class="right">       , flagUseTopocentricCoordinates(true)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , timeSpeed(JD_SECOND)</td><td> </td><td class="right">       , timeSpeed(JD_SECOND)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , JD(0.,0.)</td><td> </td><td class="right">       , JD(0.,0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , presetSkyTime(0.)</td><td> </td><td class="right">       , presetSkyTime(0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , milliSecondsOfLastJDUpdate(0.)</td><td> </td><td class="right">       , milliSecondsOfLastJDUpdate(0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , jdOfLastJDUpdate(0.)</td><td> </td><td class="right">       , jdOfLastJDUpdate(0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , flagUseDST(true)</td><td> </td><td class="right">       , flagUseDST(true)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       , flagUseCTZ(false)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , deltaTCustomNDot(-26.0)</td><td> </td><td class="right">       , deltaTCustomNDot(-26.0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , deltaTCustomYear(1820.0)</td><td> </td><td class="right">       , deltaTCustomYear(1820.0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">, deltaTnDot(-26.0)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       , deltaTdontUseMoon(false)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       , deltaTfunc(StelUtils::getDeltaTByEspenakMeeus)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       , deltaTstart(-1999)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       , deltaTfinish(3000)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , de430Available(false)</td><td> </td><td class="right">       , de430Available(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , de431Available(false)</td><td> </td><td class="right">       , de431Available(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , de430Active(false)</td><td> </td><td class="right">       , de430Active(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , de431Active(false)</td><td> </td><td class="right">       , de431Active(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setObjectName("StelCore");</td><td> </td><td class="right">       setObjectName("StelCore");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       registerMathMetaTypes();</td><td> </td><td class="right">       registerMathMetaTypes();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       toneReproducer = new StelToneReproducer();</td><td> </td><td class="right">       toneReproducer = new StelToneReproducer();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       milliSecondsOfLastJDUpdate = QDateTime::currentMSecsSinceEpoch();</td><td> </td><td class="right">       milliSecondsOfLastJDUpdate = QDateTime::currentMSecsSinceEpoch();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 179</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 185</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               location = locationMgr-&gt;locationForString(defaultLocationID)
;</td><td> </td><td class="right">               location = locationMgr-&gt;locationForString(defaultLocationID)
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!location.isValid())</td><td> </td><td class="right">       if (!location.isValid())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qWarning() &lt;&lt; "Warning: location" &lt;&lt; defaultLocationID &lt;&lt; "i
s unknown.";</td><td> </td><td class="right">               qWarning() &lt;&lt; "Warning: location" &lt;&lt; defaultLocationID &lt;&lt; "i
s unknown.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               location = locationMgr-&gt;getLastResortLocation();</td><td> </td><td class="right">               location = locationMgr-&gt;getLastResortLocation();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       position = new StelObserver(location);</td><td> </td><td class="right">       position = new StelObserver(location);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">setCurrentTimeZone(conf-&gt;value("localization/time_zone", getCurrentL</span></td><td> </td><td class="rblock">       <span class="insert">QString ctz = conf-&gt;value("localization/time_zone", "").toString();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ocation().timeZone).toString());</span></td><td> </td><td class="rblock"><span class="insert">       if (!ctz.isEmpty())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               setUseCustomTimeZone(true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               ctz = getCurrentLocation().ianaTimeZone;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       setCurrentTimeZone(ctz);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Delta-T stuff</td><td> </td><td class="right">       // Delta-T stuff</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Define default algorithm for time correction (Delta T)</td><td> </td><td class="right">       // Define default algorithm for time correction (Delta T)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString tmpDT = conf-&gt;value("navigation/time_correction_algorithm", 
"EspenakMeeus").toString();</td><td> </td><td class="right">       QString tmpDT = conf-&gt;value("navigation/time_correction_algorithm", 
"EspenakMeeus").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setCurrentDeltaTAlgorithmKey(tmpDT);</td><td> </td><td class="right">       setCurrentDeltaTAlgorithmKey(tmpDT);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Define variables of custom equation for calculation of Delta T</td><td> </td><td class="right">       // Define variables of custom equation for calculation of Delta T</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Default: ndot = -26.0 "/cy/cy; year = 1820; DeltaT = -20 + 32*u^2
, where u = (currentYear-1820)/100</td><td> </td><td class="right">       // Default: ndot = -26.0 "/cy/cy; year = 1820; DeltaT = -20 + 32*u^2
, where u = (currentYear-1820)/100</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setDeltaTCustomYear(conf-&gt;value("custom_time_correction/year", 1820.
0).toFloat());</td><td> </td><td class="right">       setDeltaTCustomYear(conf-&gt;value("custom_time_correction/year", 1820.
0).toFloat());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setDeltaTCustomNDot(conf-&gt;value("custom_time_correction/ndot", -26.0
).toFloat());</td><td> </td><td class="right">       setDeltaTCustomNDot(conf-&gt;value("custom_time_correction/ndot", -26.0
).toFloat());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 234</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 245</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       skyDrawer = new StelSkyDrawer(this);</td><td> </td><td class="right">       skyDrawer = new StelSkyDrawer(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       skyDrawer-&gt;init();</td><td> </td><td class="right">       skyDrawer-&gt;init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       propMgr-&gt;registerObject(skyDrawer);</td><td> </td><td class="right">       propMgr-&gt;registerObject(skyDrawer);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       propMgr-&gt;registerObject(this);</td><td> </td><td class="right">       propMgr-&gt;registerObject(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setCurrentProjectionTypeKey(getDefaultProjectionTypeKey());</td><td> </td><td class="right">       setCurrentProjectionTypeKey(getDefaultProjectionTypeKey());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateMaximumFov();</td><td> </td><td class="right">       updateMaximumFov();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// activate DE430/431</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       initEphemeridesFunctions();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Register all the core actions.</td><td> </td><td class="right">       // Register all the core actions.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString timeGroup = N_("Date and Time");</td><td> </td><td class="right">       QString timeGroup = N_("Date and Time");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString movementGroup = N_("Movement and Selection");</td><td> </td><td class="right">       QString movementGroup = N_("Movement and Selection");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString displayGroup = N_("Display Options");</td><td> </td><td class="right">       QString displayGroup = N_("Display Options");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelActionMgr* actionsMgr = StelApp::getInstance().getStelActionMana
ger();</td><td> </td><td class="right">       StelActionMgr* actionsMgr = StelApp::getInstance().getStelActionMana
ger();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed", timeGroup, N_("In
crease time speed"), this, "increaseTimeSpeed()", "L");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed", timeGroup, N_("In
crease time speed"), this, "increaseTimeSpeed()", "L");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed", timeGroup, N_("De
crease time speed"), this, "decreaseTimeSpeed()", "J");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed", timeGroup, N_("De
crease time speed"), this, "decreaseTimeSpeed()", "J");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed_Less", timeGroup, N
_("Increase time speed (a little)"), this, "increaseTimeSpeedLess()", "Shif
t+L");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed_Less", timeGroup, N
_("Increase time speed (a little)"), this, "increaseTimeSpeedLess()", "Shif
t+L");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed_Less", timeGroup, N
_("Decrease time speed (a little)"), this, "decreaseTimeSpeedLess()", "Shif
t+J");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed_Less", timeGroup, N
_("Decrease time speed (a little)"), this, "decreaseTimeSpeedLess()", "Shif
t+J");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSet_Real_Time_Speed", timeGroup, N_("Se
t normal time rate"), this, "toggleRealTimeSpeed()", "K");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSet_Real_Time_Speed", timeGroup, N_("Se
t normal time rate"), this, "toggleRealTimeSpeed()", "K");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 492</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 506</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/*************************************************************************</td><td> </td><td class="right">/*************************************************************************</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> Execute all the pre-drawing functions</td><td> </td><td class="right"> Execute all the pre-drawing functions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">*************************************************************************/</td><td> </td><td class="right">*************************************************************************/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::preDraw()</td><td> </td><td class="right">void StelCore::preDraw()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Init openGL viewing with fov, screen size and clip planes</td><td> </td><td class="right">       // Init openGL viewing with fov, screen size and clip planes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.zNear = 0.000001;</td><td> </td><td class="right">       currentProjectorParams.zNear = 0.000001;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.zFar = 500.;</td><td> </td><td class="right">       currentProjectorParams.zFar = 500.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       skyDrawer-&gt;preDraw();</td><td> </td><td class="right">       skyDrawer-&gt;preDraw();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">// Clear areas not redrawn by main viewport (i.e. fisheye square vie</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">wport)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       glClearColor(0,0,0,0);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       glClear(GL_COLOR_BUFFER_BIT);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/*************************************************************************</td><td> </td><td class="right">/*************************************************************************</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> Update core state after drawing modules</td><td> </td><td class="right"> Update core state after drawing modules</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">*************************************************************************/</td><td> </td><td class="right">*************************************************************************/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::postDraw()</td><td> </td><td class="right">void StelCore::postDraw()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelPainter sPainter(getProjection(StelCore::FrameJ2000));</td><td> </td><td class="right">       StelPainter sPainter(getProjection(StelCore::FrameJ2000));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sPainter.drawViewportShape();</td><td> </td><td class="right">       sPainter.drawViewportShape();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 755</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 765</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::galacticToJ2000(const Vec3d&amp; v) const</td><td> </td><td class="right">Vec3d StelCore::galacticToJ2000(const Vec3d&amp; v) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return matGalacticToJ2000*v;</td><td> </td><td class="right">       return matGalacticToJ2000*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::supergalacticToJ2000(const Vec3d&amp; v) const</td><td> </td><td class="right">Vec3d StelCore::supergalacticToJ2000(const Vec3d&amp; v) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return matSupergalacticToJ2000*v;</td><td> </td><td class="right">       return matSupergalacticToJ2000*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Vec3d StelCore::equinoxEquToJ2000(const Vec3d&amp; v<span class="delete">) c</span>onst</td><td> </td><td class="rblock">Vec3d StelCore::equinoxEquToJ2000(const Vec3d&amp; v<span class="insert">, RefractionMode refMode) c
</span>onst</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return matEquinoxEquToJ2000*v;</td><td> </td><td class="rblock">       <span class="insert">if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               return matEquinoxEquToJ2000*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">Vec3d r(v);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       r.transfo4d(matEquinoxEquToAltAz);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       skyDrawer-&gt;getRefraction().backward(r);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       r.transfo4d(matAltAzToJ2000);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return r;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Vec3d StelCore::j2000ToEquinoxEqu(const Vec3d&amp; v<span class="delete">) c</span>onst</td><td> </td><td class="rblock">Vec3d StelCore::j2000ToEquinoxEqu(const Vec3d&amp; v<span class="insert">, RefractionMode refMode) c
</span>onst</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return matJ2000ToEquinoxEqu*v;</td><td> </td><td class="rblock">       <span class="insert">if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               return matJ2000ToEquinoxEqu*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">Vec3d r(v);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       r.transfo4d(matJ2000ToAltAz);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       skyDrawer-&gt;getRefraction().forward(r);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       r.transfo4d(matAltAzToEquinoxEqu);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return r;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::j2000ToJ1875(const Vec3d&amp; v) const</td><td> </td><td class="right">Vec3d StelCore::j2000ToJ1875(const Vec3d&amp; v) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return matJ2000ToJ1875*v;</td><td> </td><td class="right">       return matJ2000ToJ1875*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::j2000ToGalactic(const Vec3d&amp; v) const</td><td> </td><td class="right">Vec3d StelCore::j2000ToGalactic(const Vec3d&amp; v) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return matJ2000ToGalactic*v;</td><td> </td><td class="right">       return matJ2000ToGalactic*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 920</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 942</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matAltAzToEquinoxEqu = position-&gt;getRotAltAzToEquatorial(getJD(), ge
tJDE());</td><td> </td><td class="right">       matAltAzToEquinoxEqu = position-&gt;getRotAltAzToEquatorial(getJD(), ge
tJDE());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matEquinoxEquToAltAz = matAltAzToEquinoxEqu.transpose();</td><td> </td><td class="right">       matEquinoxEquToAltAz = matAltAzToEquinoxEqu.transpose();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // multiply static J2000 earth axis tilt (eclipticalJ2000&lt;-&gt;equatori
alJ2000)</td><td> </td><td class="right">       // multiply static J2000 earth axis tilt (eclipticalJ2000&lt;-&gt;equatori
alJ2000)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // in effect, this matrix transforms from VSOP87 ecliptical J2000 to
 planet-based equatorial coordinates.</td><td> </td><td class="right">       // in effect, this matrix transforms from VSOP87 ecliptical J2000 to
 planet-based equatorial coordinates.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // For earth, matJ2000ToEquinoxEqu is the precession matrix.</td><td> </td><td class="right">       // For earth, matJ2000ToEquinoxEqu is the precession matrix.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TODO: rename matEquinoxEquToJ2000 to matEquinoxEquDateToJ2000</td><td> </td><td class="right">       // TODO: rename matEquinoxEquToJ2000 to matEquinoxEquDateToJ2000</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matEquinoxEquToJ2000 = matVsop87ToJ2000 * position-&gt;getRotEquatorial
ToVsop87();</td><td> </td><td class="right">       matEquinoxEquToJ2000 = matVsop87ToJ2000 * position-&gt;getRotEquatorial
ToVsop87();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matJ2000ToEquinoxEqu = matEquinoxEquToJ2000.transpose();</td><td> </td><td class="right">       matJ2000ToEquinoxEqu = matEquinoxEquToJ2000.transpose();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matJ2000ToAltAz = matEquinoxEquToAltAz*matJ2000ToEquinoxEqu;</td><td> </td><td class="right">       matJ2000ToAltAz = matEquinoxEquToAltAz*matJ2000ToEquinoxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       matAltAzToJ2000 = matJ2000ToAltAz.transpose();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matHeliocentricEclipticToEquinoxEqu = matJ2000ToEquinoxEqu * matVsop
87ToJ2000 * Mat4d::translation(-position-&gt;getCenterVsop87Pos());</td><td> </td><td class="right">       matHeliocentricEclipticToEquinoxEqu = matJ2000ToEquinoxEqu * matVsop
87ToJ2000 * Mat4d::translation(-position-&gt;getCenterVsop87Pos());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // These two next have to take into account the position of the obse
rver on the earth/planet of observation.</td><td> </td><td class="right">       // These two next have to take into account the position of the obse
rver on the earth/planet of observation.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // GZ tmp could be called matAltAzToVsop87</td><td> </td><td class="right">       // GZ tmp could be called matAltAzToVsop87</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d tmp = matJ2000ToVsop87 * matEquinoxEquToJ2000 * matAltAzToEqui
noxEqu;</td><td> </td><td class="right">       Mat4d tmp = matJ2000ToVsop87 * matEquinoxEquToJ2000 * matAltAzToEqui
noxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Before 0.14 getDistanceFromCenter assumed spherical planets. Now 
uses rectangular coordinates for observer!</td><td> </td><td class="right">       // Before 0.14 getDistanceFromCenter assumed spherical planets. Now 
uses rectangular coordinates for observer!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flagUseTopocentricCoordinates)</td><td> </td><td class="right">       if (flagUseTopocentricCoordinates)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 1204</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 1227</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QDateTime local = universal.toLocalTime();</td><td> </td><td class="right">               QDateTime local = universal.toLocalTime();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Both timezones should be interpreted as UTC because secsTo
() converts both</td><td> </td><td class="right">               //Both timezones should be interpreted as UTC because secsTo
() converts both</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //times to UTC if their zones have different daylight saving
 time rules.</td><td> </td><td class="right">               //times to UTC if their zones have different daylight saving
 time rules.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               local.setTimeSpec(Qt::UTC);</td><td> </td><td class="right">               local.setTimeSpec(Qt::UTC);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               shiftInSeconds = universal.secsTo(local);</td><td> </td><td class="right">               shiftInSeconds = universal.secsTo(local);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // The first adoption of a standard time was on December 1, 
1847 in Great Britain</td><td> </td><td class="right">               // The first adoption of a standard time was on December 1, 
1847 in Great Britain</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               if (tz-&gt;isValid() &amp;&amp; loc.planetName=="Earth" &amp;&amp; <span class="delete">JD&gt;=StelCore
::TZ_ERA_BEGINNING</span>)</td><td> </td><td class="rblock">               if (tz-&gt;isValid() &amp;&amp; loc.planetName=="Earth" &amp;&amp; <span class="insert">(JD&gt;=StelCor
e::TZ_ERA_BEGINNING || getUseCustomTimeZone())</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (getUseDST())</td><td> </td><td class="right">                       if (getUseDST())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               shiftInSeconds = tz-&gt;offsetFromUtc(universal
);</td><td> </td><td class="right">                               shiftInSeconds = tz-&gt;offsetFromUtc(universal
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               shiftInSeconds = tz-&gt;standardTimeOffset(univ
ersal);</td><td> </td><td class="right">                               shiftInSeconds = tz-&gt;standardTimeOffset(univ
ersal);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       shiftInSeconds = (loc.longitude/15.f)*3600.f; // Loc
al Mean Solar Time</td><td> </td><td class="right">                       shiftInSeconds = (loc.longitude/15.f)*3600.f; // Loc
al Mean Solar Time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (tzName=="LTST")</td><td> </td><td class="right">               if (tzName=="LTST")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       shiftInSeconds += getSolutionEquationOfTime(JD)*60;</td><td> </td><td class="right">                       shiftInSeconds += getSolutionEquationOfTime(JD)*60;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">delete tz;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       tz = NULL;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float shiftInHours = shiftInSeconds / 3600.0f;</td><td> </td><td class="right">       float shiftInHours = shiftInSeconds / 3600.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return shiftInHours;</td><td> </td><td class="right">       return shiftInHours;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString StelCore::getCurrentTimeZone() const</td><td> </td><td class="right">QString StelCore::getCurrentTimeZone() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return currentTimeZone;</td><td> </td><td class="right">       return currentTimeZone;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setCurrentTimeZone(const QString&amp; tz)</td><td> </td><td class="right">void StelCore::setCurrentTimeZone(const QString&amp; tz)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 1244</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 1270</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return flagUseDST;</td><td> </td><td class="right">       return flagUseDST;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setUseDST(const bool b)</td><td> </td><td class="right">void StelCore::setUseDST(const bool b)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       flagUseDST = b;</td><td> </td><td class="right">       flagUseDST = b;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelApp::getInstance().getSettings()-&gt;setValue("localization/flag_ds
t", b);</td><td> </td><td class="right">       StelApp::getInstance().getSettings()-&gt;setValue("localization/flag_ds
t", b);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">bool StelCore::getUseCustomTimeZone() const</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return flagUseCTZ;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::setUseCustomTimeZone(const bool b)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       flagUseCTZ = b;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getSolutionEquationOfTime(const double JDE) const</td><td> </td><td class="right">double StelCore::getSolutionEquationOfTime(const double JDE) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double tau = (JDE - 2451545.0)/365250.0;</td><td> </td><td class="right">       double tau = (JDE - 2451545.0)/365250.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double sunMeanLongitude = 280.4664567 + tau*(360007.6892779 + tau*(0
.03032028 + tau*(1./49931. - tau*(1./15300. - tau/2000000.))));</td><td> </td><td class="right">       double sunMeanLongitude = 280.4664567 + tau*(360007.6892779 + tau*(0
.03032028 + tau*(1./49931. - tau*(1./15300. - tau/2000000.))));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // reduce the angle</td><td> </td><td class="right">       // reduce the angle</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sunMeanLongitude = std::fmod(sunMeanLongitude, 360.);</td><td> </td><td class="right">       sunMeanLongitude = std::fmod(sunMeanLongitude, 360.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // force it to be the positive remainder, so that 0 &lt;= angle &lt; 360</td><td> </td><td class="right">       // force it to be the positive remainder, so that 0 &lt;= angle &lt; 360</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sunMeanLongitude = std::fmod(sunMeanLongitude + 360., 360.);</td><td> </td><td class="right">       sunMeanLongitude = std::fmod(sunMeanLongitude + 360., 360.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 1751</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 1787</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       startupTimeMode = s;</td><td> </td><td class="right">       startupTimeMode = s;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// return precomputed DeltaT in seconds. Public.</td><td> </td><td class="right">// return precomputed DeltaT in seconds. Public.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getDeltaT() const</td><td> </td><td class="right">double StelCore::getDeltaT() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return JD.second;</td><td> </td><td class="right">       return JD.second;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// compute and return DeltaT in seconds. Try not to call it directly, curre
nt DeltaT, JD, and JDE are available.</td><td> </td><td class="right">// compute and return DeltaT in seconds. Try not to call it directly, curre
nt DeltaT, JD, and JDE are available.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">double StelCore::computeDeltaT(const double JD)<span class="delete"> const</span></td><td> </td><td class="rblock">double StelCore::computeDeltaT(const double JD)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double DeltaT = 0.;</td><td> </td><td class="right">       double DeltaT = 0.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double <span class="delete">ndot</span> = <span class="delete">0.;</span></td><td> </td><td class="rblock">       <span class="insert">if (currentDeltaTAlgorithm==Custom)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       bool dontUseMoon</span> = false;</td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       switch <span class="delete">(getCurrentDeltaTAlgorithm())</span></td><td> </td><td class="rblock"><span class="insert">               // User defined coefficients for quadratic equation for Delt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">aT may change frequently.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               deltaTnDot = deltaTCustomNDot; // n.dot = custom value "/cy/</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">cy</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               int year, month, day;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               StelUtils::getDateFromJulianDay(JD, &amp;year, &amp;month, &amp;day);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               double <span class="insert">u = (StelUtils::getDecYear(year,month,day)-getDeltaTC</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ustomYear())/100;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               DeltaT</span> = <span class="insert">deltaTCustomEquationCoeff[0] + u*(deltaTCustomEquat</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ionCoeff[1] + u*deltaTCustomEquationCoeff[2]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               Q_ASSERT(deltaTfunc);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               DeltaT=deltaTfunc(JD);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (!deltaTdontUseMoon)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               DeltaT += StelUtils::getMoonSecularAcceleration(JD, deltaTnD</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ot, ((de430Active&amp;&amp;EphemWrapper::jd_fits_de430(JD)) || (de431Active&amp;&amp;EphemW</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rapper::jd_fits_de431(JD))));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return DeltaT;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">// set a function pointer here. This should make the actual computation sim</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">pler by just calling the function.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::setCurrentDeltaTAlgorithm(DeltaTAlgorithm algorithm)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       currentDeltaTAlgorithm=algorithm;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       deltaTdontUseMoon</span> = false; <span class="insert">// most algorithms will use it!</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       switch <span class="insert">(currentDeltaTAlgorithm)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case WithoutCorrection:</td><td> </td><td class="right">               case WithoutCorrection:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Without correction, DeltaT is disabled</td><td> </td><td class="right">                       // Without correction, DeltaT is disabled</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">0.;</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTwithoutCorrection;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       dontUseMoon</span> = true;</td><td> </td><td class="rblock"><span class="insert">                       deltaTnDot = -26.0; // n.dot = -26.0"/cy/cy OR WHAT </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">SHALL WE DO HERE?</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTdontUseMoon</span> = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">deltaTstart     = INT_MIN;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = INT_MAX;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Schoch:</td><td> </td><td class="right">               case Schoch:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Schoch (1931) algorithm for DeltaT</td><td> </td><td class="right">                       // Schoch (1931) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -29.68; // n.dot = -29.68"/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -29.68; // n.dot = -29.68"/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTBySchoch(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTBySchoch;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = INT_MIN;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = INT_MAX;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Clemence:</td><td> </td><td class="right">               case Clemence:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Clemence (1948) algorithm for DeltaT</td><td> </td><td class="right">                       // Clemence (1948) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -22.44; // n.dot = -22.44 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -22.44; // n.dot = -22.44 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByClemence(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByClemence;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = 1681;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1900;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IAU:</td><td> </td><td class="right">               case IAU:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // IAU (1952) algorithm for DeltaT, based on observa
tions by Spencer Jones (1939)</td><td> </td><td class="right">                       // IAU (1952) algorithm for DeltaT, based on observa
tions by Spencer Jones (1939)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -22.44; // n.dot = -22.44 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -22.44; // n.dot = -22.44 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByIAU(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByIAU;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = 1681;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1936; // Details in http://adsabs.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">harvard.edu/abs/1939MNRAS..99..541S</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case AstronomicalEphemeris:</td><td> </td><td class="right">               case AstronomicalEphemeris:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Astronomical Ephemeris (1960) algorithm for Delta
T</td><td> </td><td class="right">                       // Astronomical Ephemeris (1960) algorithm for Delta
T</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -22.44; // n.dot = -22.44 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -22.44; // n.dot = -22.44 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByAstronomicalEphemeris</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByAstronomicalEphem</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">(JD);</span></td><td> </td><td class="rblock"><span class="insert">eris;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // GZ: What is the source of "1681..1900"? Expl.Supp</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">l.AE 1961-p87 says "...over periods extending back to ancient times"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // I changed to what I estimate.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -500; // 1681;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    =  2000; // 1900;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case TuckermanGoldstine:</td><td> </td><td class="right">               case TuckermanGoldstine:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Tuckerman (1962, 1964) &amp; Goldstine (1973) algorit
hm for DeltaT</td><td> </td><td class="right">                       // Tuckerman (1962, 1964) &amp; Goldstine (1973) algorit
hm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //FIXME: n.dot</td><td> </td><td class="right">                       //FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -22.44; // n.dot = -22.44 "/cy/cy ???</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -22.44; // n.dot = -22.44 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByTuckermanGoldstine(JD</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByTuckermanGoldstin</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"><span class="insert">e;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -600;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1649;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MullerStephenson:</td><td> </td><td class="right">               case MullerStephenson:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Muller &amp; Stephenson (1975) algorithm for DeltaT</td><td> </td><td class="right">                       // Muller &amp; Stephenson (1975) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -37.5; // n.dot = -37.5 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -37.5; // n.dot = -37.5 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByMullerStephenson(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByMullerStephenson;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -1375;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1975;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Stephenson1978:</td><td> </td><td class="right">               case Stephenson1978:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson (1978) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson (1978) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -30.0; // n.dot = -30.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -30.0; // n.dot = -30.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByStephenson1978(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByStephenson1978;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = INT_MIN; // Range unknown!</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = INT_MAX;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case SchmadelZech1979:</td><td> </td><td class="right">               case SchmadelZech1979:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Schmadel &amp; Zech (1979) algorithm for DeltaT</td><td> </td><td class="right">                       // Schmadel &amp; Zech (1979) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTBySchmadelZech1979(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTBySchmadelZech1979;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = 1800;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1975;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson1982:</td><td> </td><td class="right">               case MorrisonStephenson1982:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Morrison &amp; Stephenson (1982) algorithm for DeltaT
 (used by RedShift)</td><td> </td><td class="right">                       // Morrison &amp; Stephenson (1982) algorithm for DeltaT
 (used by RedShift)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByMorrisonStephenson198</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByMorrisonStephenso</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">2(JD);</span></td><td> </td><td class="rblock"><span class="insert">n1982;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // FIXME: This is correct valid range?</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -4000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2800;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonMorrison1984:</td><td> </td><td class="right">               case StephensonMorrison1984:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson &amp; Morrison (1984) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson &amp; Morrison (1984) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByStephensonMorrison198</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByStephensonMorriso</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4(JD);</span></td><td> </td><td class="rblock"><span class="insert">n1984;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -391;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1600;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonHoulden:</td><td> </td><td class="right">               case StephensonHoulden:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // Stephenson &amp; Houlden (1986) algorithm for <span class="delete">DeltaT</span></td><td> </td><td class="rblock">                       // Stephenson &amp; Houlden (1986) algorithm for <span class="insert">DeltaT.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock"><span class="insert"> The limits are implicitly given by the tabulated values.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByStephensonHoulden(JD)</span></td><td> </td><td class="rblock"><span class="insert">                       deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">;</td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByStephensonHoulden</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">deltaTstart     = -600;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1650;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Espenak:</td><td> </td><td class="right">               case Espenak:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Espenak (1987, 1989) algorithm for DeltaT</td><td> </td><td class="right">                       // Espenak (1987, 1989) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //FIXME: n.dot</td><td> </td><td class="right">                       //FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -23.8946; // n.dot = -23.8946 "/cy/cy <span class="delete">???</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -23.8946; // n.dot = -23.8946 "/cy/cy <span class="insert">?</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       DeltaT</span> = <span class="delete">StelUtils::getDeltaTByEspenak(JD);</span></td><td> </td><td class="rblock"><span class="insert">??</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByEspenak;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = 1950;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2100;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Borkowski:</td><td> </td><td class="right">               case Borkowski:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Borkowski (1988) algorithm for DeltaT, relates to
 ELP2000-85!</td><td> </td><td class="right">                       // Borkowski (1988) algorithm for DeltaT, relates to
 ELP2000-85!</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -23.895; // GZ: I see -23.895 in the <span class="delete">paper, n</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -23.895; // GZ: I see -23.895 in the <span class="insert">pa</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ot</span> -23.859; (?) // n.dot = -23.859 "/cy/cy</td><td> </td><td class="rblock"><span class="insert">per, not</span> -23.859; (?) // n.dot = -23.859 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByBorkowski(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByBorkowski;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -2136;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1715;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case SchmadelZech1988:</td><td> </td><td class="right">               case SchmadelZech1988:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Schmadel &amp; Zech (1988) algorithm for DeltaT</td><td> </td><td class="right">                       // Schmadel &amp; Zech (1988) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //FIXME: n.dot</td><td> </td><td class="right">                       //FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTBySchmadelZech1988(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTBySchmadelZech1988;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = 1800;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1988;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ChaprontTouze:</td><td> </td><td class="right">               case ChaprontTouze:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Chapront-Touzé &amp; Chapront (1991) algorithm for De
ltaT</td><td> </td><td class="right">                       // Chapront-Touzé &amp; Chapront (1991) algorithm for De
ltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByChaprontTouze(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByChaprontTouze;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // FIXME: Is it valid range?</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -4000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 8000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonMorrison1995:</td><td> </td><td class="right">               case StephensonMorrison1995:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson &amp; Morrison (1995) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson &amp; Morrison (1995) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByStephensonMorrison199</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByStephensonMorriso</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">5(JD);</span></td><td> </td><td class="rblock"><span class="insert">n1995;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -700;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1600;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Stephenson1997:</td><td> </td><td class="right">               case Stephenson1997:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson (1997) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson (1997) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByStephenson1997(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByStephenson1997;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -500;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1600;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ChaprontMeeus:</td><td> </td><td class="right">               case ChaprontMeeus:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Chapront, Chapront-Touze &amp; Francou (1997) &amp; Meeus
 (1998) algorithm for DeltaT</td><td> </td><td class="right">                       // Chapront, Chapront-Touze &amp; Francou (1997) &amp; Meeus
 (1998) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByChaprontMeeus(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByChaprontMeeus;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -400; // 1800; // not explicitly g</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">iven, but guess based on his using ChaprontFrancou which is cited elsewhere</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> in a similar term with -391.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    =  2150; // 1997;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case JPLHorizons:</td><td> </td><td class="right">               case JPLHorizons:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // JPL Horizons algorithm for DeltaT</td><td> </td><td class="right">                       // JPL Horizons algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByJPLHorizons(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByJPLHorizons;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -2999;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1620;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MeeusSimons:</td><td> </td><td class="right">               case MeeusSimons:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Meeus &amp; Simons (2000) algorithm for DeltaT</td><td> </td><td class="right">                       // Meeus &amp; Simons (2000) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByMeeusSimons(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByMeeusSimons;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = 1620;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ReingoldDershowitz:</td><td> </td><td class="right">               case ReingoldDershowitz:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Reingold &amp; Dershowitz (2002, 2007) algorithm for 
DeltaT</td><td> </td><td class="right">                       // Reingold &amp; Dershowitz (2002, 2007) algorithm for 
DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // FIXME: n.dot</td><td> </td><td class="right">                       // FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByReingoldDershowitz(JD</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByReingoldDershowit</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"><span class="insert">z;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // GZ: while not original work, it's based on Meeus </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">and therefore the full implementation covers likewise approximately:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -400; //1620;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2100; //2019;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MontenbruckPfleger:</td><td> </td><td class="right">               case MontenbruckPfleger:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Montenbruck &amp; Pfleger (2000) algorithm for DeltaT</td><td> </td><td class="right">                       // Montenbruck &amp; Pfleger (2000) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // NOTE: book <span class="delete">not contains</span> n.dot value</td><td> </td><td class="rblock">                       // NOTE: book <span class="insert">does not contain</span> n.dot value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // FIXME: n.dot</td><td> </td><td class="right">                       // FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByMontenbruckPfleger(JD</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByMontenbruckPflege</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"><span class="insert">r;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = 1825;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2005;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson2004:</td><td> </td><td class="right">               case MorrisonStephenson2004:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Morrison &amp; Stephenson (2004, 2005) algorithm for 
DeltaT</td><td> </td><td class="right">                       // Morrison &amp; Stephenson (2004, 2005) algorithm for 
DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByMorrisonStephenson200</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByMorrisonStephenso</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4(JD);</span></td><td> </td><td class="rblock"><span class="insert">n2004;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -1000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Reijs:</td><td> </td><td class="right">               case Reijs:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Reijs (2006) algorithm for DeltaT</td><td> </td><td class="right">                       // Reijs (2006) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByReijs(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByReijs;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -1500; // -500; // GZ: It models l</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ong-term variability, so we should reflect this. Not sure on the begin, tho</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ugh.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1100; // not 1620; // GZ: Not appl</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">icable for telescopic era, and better not after 1100 (pers.comm.)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case EspenakMeeus:</td><td> </td><td class="right">               case EspenakMeeus:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Espenak &amp; Meeus (2006) algorithm for DeltaT</td><td> </td><td class="right">                       // Espenak &amp; Meeus (2006) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -25.858; // n.dot = -25.858 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -25.858; // n.dot = -25.858 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByEspenakMeeus(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByEspenakMeeus;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -1999;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 3000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case EspenakMeeusZeroMoonAccel:</td><td> </td><td class="right">               case EspenakMeeusZeroMoonAccel:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // This is a trying area. Something is wrong with De
ltaT, maybe ndot is still not applied correctly.</td><td> </td><td class="right">                       // This is a trying area. Something is wrong with De
ltaT, maybe ndot is still not applied correctly.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Espenak &amp; Meeus (2006) algorithm for DeltaT</td><td> </td><td class="right">                       // Espenak &amp; Meeus (2006) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -25.858; // n.dot = -25.858 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -25.858; // n.dot = -25.858 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">dontUseMoon</span> = true;</td><td> </td><td class="rblock">                       <span class="insert">deltaTdontUseMoon</span> = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByEspenakMeeus(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByEspenakMeeus;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -1999;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 3000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Banjevic:</td><td> </td><td class="right">               case Banjevic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Banjevic (2006) algorithm for DeltaT</td><td> </td><td class="right">                       // Banjevic (2006) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByBanjevic(JD);</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByBanjevic;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -2020;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 1620;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IslamSadiqQureshi:</td><td> </td><td class="right">               case IslamSadiqQureshi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Islam, Sadiq &amp; Qureshi (2008 + revisited 2013) al
gorithm for DeltaT (6 polynomials)</td><td> </td><td class="right">                       // Islam, Sadiq &amp; Qureshi (2008 + revisited 2013) al
gorithm for DeltaT (6 polynomials)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByIslamSadiqQureshi(JD)</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByIslamSadiqQureshi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">;</td><td> </td><td class="rblock">;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">dontUseMoon</span> = true; // Seems this solutions <span class="delete">doesn't</span> </td><td> </td><td class="rblock">                       <span class="insert">deltaTdontUseMoon</span> = true; // Seems this solutions <span class="insert">do</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">use value of secular acceleration of the Moon</td><td> </td><td class="rblock"><span class="insert">esn't</span> use value of secular acceleration of the Moon</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">deltaTstart     = 1620;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2007;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case KhalidSultanaZaidi:</td><td> </td><td class="right">               case KhalidSultanaZaidi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // M. Khalid, Mariam Sultana and Faheem Zaidi polino
mial approximation of time period 1620-2013 (2014)</td><td> </td><td class="right">                       // M. Khalid, Mariam Sultana and Faheem Zaidi polino
mial approximation of time period 1620-2013 (2014)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">ndot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="rblock">                       <span class="insert">deltaTnDot</span> = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">DeltaT</span> = <span class="delete">StelUtils::getDeltaTByKhalidSultanaZaidi(JD</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc</span> = <span class="insert">StelUtils::getDeltaTByKhalidSultanaZaid</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"><span class="insert">i;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       dontUseMoon</span> = true; // Seems this solutions <span class="delete">doesn't</span> </td><td> </td><td class="rblock"><span class="insert">                       deltaTdontUseMoon</span> = true; // Seems this solutions <span class="insert">do</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">use value of secular acceleration of the Moon</td><td> </td><td class="rblock"><span class="insert">esn't</span> use value of secular acceleration of the Moon</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">deltaTstart     = 1620;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2013;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case StephensonMorrisonHohenkerk2016:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTnDot = -25.82; // n.dot = -25.82 "/cy/cy</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfunc=StelUtils::getDeltaTByStephensonMorrisonH</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ohenkerk2016;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = -720;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = 2015;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Custom:</td><td> </td><td class="right">               case Custom:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // User defined coefficients for quadratic equation </td><td> </td><td class="rblock">                       // User defined coefficients for quadratic equation </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">for <span class="delete">DeltaT</span></td><td> </td><td class="rblock">for <span class="insert">DeltaT. These can change, and we don't use the function pointer here.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       ndot</span> = <span class="delete">getDeltaTCustomNDot();</span> // n.dot = custom <span class="delete">valu</span></td><td> </td><td class="rblock"><span class="insert">                       deltaTnDot</span> = <span class="insert">deltaTCustomNDot;</span> // n.dot = custom <span class="insert">val</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e</span> "/cy/cy</td><td> </td><td class="rblock"><span class="insert">ue</span> "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">int year, month, day;</span></td><td> </td><td class="rblock">                       <span class="insert">deltaTfunc=NULL;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       Vec3f coeff</span> = <span class="delete">getDeltaTCustomEquationCoefficients();</span></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart</span>     = <span class="insert">INT_MIN; // Range unknown!</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       StelUtils::getDateFromJulianDay(JD, &amp;year, &amp;month, &amp;</span></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish</span>    = <span class="insert">INT_MAX;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">day);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       double u = (StelUtils::getDecYear(year,month,day)-ge</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tDeltaTCustomYear())/100;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       DeltaT</span> = <span class="delete">coeff[0] + u*(coeff[1] + u*coeff[2]);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">default:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTnDot = -26.0; // n.dot = -26.0 "/cy/cy</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfunc=NULL;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTstart     = INT_MIN; // Range unknown!</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       deltaTfinish    = INT_MAX;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       qCritical() &lt;&lt; "StelCore: unknown DeltaT algorithm s</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">elected (" &lt;&lt; currentDeltaTAlgorithm &lt;&lt; ")! (setting nDot=-26., but no func</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tion!!)";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock">       <span class="insert">Q_ASSERT((currentDeltaTAlgorithm==Custom)</span> || <span class="insert">(deltaTfunc!=NULL));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">if (!dontUseMoon)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               DeltaT += StelUtils::getMoonSecularAcceleration(JD, ndot, (d</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e430Active</span> || <span class="delete">de431Active) &amp;&amp; true);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       return DeltaT;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Set the current algorithm for time correction to use</td><td> </td><td class="right">//! Set the current algorithm for time correction to use</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setCurrentDeltaTAlgorithmKey(QString key)</td><td> </td><td class="right">void StelCore::setCurrentDeltaTAlgorithmKey(QString key)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const QMetaEnum&amp; en = metaObject()-&gt;enumerator(metaObject()-&gt;indexOf
Enumerator("DeltaTAlgorithm"));</td><td> </td><td class="right">       const QMetaEnum&amp; en = metaObject()-&gt;enumerator(metaObject()-&gt;indexOf
Enumerator("DeltaTAlgorithm"));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       DeltaTAlgorithm algo = (DeltaTAlgorithm)en.keyToValue(key.toLatin1()
.data());</td><td> </td><td class="right">       DeltaTAlgorithm algo = (DeltaTAlgorithm)en.keyToValue(key.toLatin1()
.data());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (algo&lt;0)</td><td> </td><td class="right">       if (algo&lt;0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qWarning() &lt;&lt; "Unknown DeltaT algorithm: " &lt;&lt; key &lt;&lt; "settin
g \"WithoutCorrection\" instead";</td><td> </td><td class="right">               qWarning() &lt;&lt; "Unknown DeltaT algorithm: " &lt;&lt; key &lt;&lt; "settin
g \"WithoutCorrection\" instead";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 2044</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 2177</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson2004: // PRIMARY SOURCE</td><td> </td><td class="right">               case MorrisonStephenson2004: // PRIMARY SOURCE</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("This important solution was publis
hed by L. V. Morrison and F. R. Stephenson in article &lt;em&gt;Historical values
 of the Earth's clock error %1T and the calculation of eclipses&lt;/em&gt; (%2) w
ith addendum in (%3).").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harv
ard.edu/abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://adsabs.har
vard.edu/abs/2005JHA....36..339M'&gt;2005&lt;/a&gt;").append(getCurrentDeltaTAlgorit
hmValidRangeDescription(jd, &amp;marker));</td><td> </td><td class="right">                       description = q_("This important solution was publis
hed by L. V. Morrison and F. R. Stephenson in article &lt;em&gt;Historical values
 of the Earth's clock error %1T and the calculation of eclipses&lt;/em&gt; (%2) w
ith addendum in (%3).").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harv
ard.edu/abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://adsabs.har
vard.edu/abs/2005JHA....36..339M'&gt;2005&lt;/a&gt;").append(getCurrentDeltaTAlgorit
hmValidRangeDescription(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Reijs:</td><td> </td><td class="right">               case Reijs:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("From the Length of Day (LOD; as de
termined by Stephenson &amp; Morrison (%2)), Victor Reijs derived a %1T formula
 by using a Simplex optimisation with a cosine and square function. This is
 based on a possible periodicy described by Stephenson (%2). See for more i
nfo %3here%4.").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harvard.edu/
abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://www.iol.ie/~geniet
/eng/DeltaTeval.htm'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRa
ngeDescription(jd, &amp;marker));</td><td> </td><td class="right">                       description = q_("From the Length of Day (LOD; as de
termined by Stephenson &amp; Morrison (%2)), Victor Reijs derived a %1T formula
 by using a Simplex optimisation with a cosine and square function. This is
 based on a possible periodicy described by Stephenson (%2). See for more i
nfo %3here%4.").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harvard.edu/
abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://www.iol.ie/~geniet
/eng/DeltaTeval.htm'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRa
ngeDescription(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case EspenakMeeus: // GENERAL SOLUTION</td><td> </td><td class="right">               case EspenakMeeus: // GENERAL SOLUTION</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("This solution by F. Espenak and J.
 Meeus, based on Morrison &amp; Stephenson (2004) and a polynomial fit through 
tabulated values for 1600-2000, is used for the %1NASA Eclipse Web Site%2 a
nd in their &lt;em&gt;Five Millennium Canon of Solar Eclipses: -1900 to +3000&lt;/em
&gt; (2006). This formula is also used in the solar, lunar and planetary ephem
eris program SOLEX.").arg("&lt;a href='http://eclipse.gsfc.nasa.gov/eclipse.ht
ml'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRangeDescription(jd
, &amp;marker)).append(" &lt;em&gt;").append(q_("Used by default.")).append("&lt;/em&gt;");</td><td> </td><td class="right">                       description = q_("This solution by F. Espenak and J.
 Meeus, based on Morrison &amp; Stephenson (2004) and a polynomial fit through 
tabulated values for 1600-2000, is used for the %1NASA Eclipse Web Site%2 a
nd in their &lt;em&gt;Five Millennium Canon of Solar Eclipses: -1900 to +3000&lt;/em
&gt; (2006). This formula is also used in the solar, lunar and planetary ephem
eris program SOLEX.").arg("&lt;a href='http://eclipse.gsfc.nasa.gov/eclipse.ht
ml'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRangeDescription(jd
, &amp;marker)).append(" &lt;em&gt;").append(q_("Used by default.")).append("&lt;/em&gt;");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case EspenakMeeusZeroMoonAccel: // PATCHED SOLUTION</td><td> </td><td class="rblock">               case EspenakMeeusZeroMoonAccel: // PATCHED SOLUTION<span class="insert">. Experim
ental, it may not make sense to keep it in V1.0.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = QString("%1 %2").arg(q_("PATCHED VERSI
ON WITHOUT ADDITIONAL LUNAR ACCELERATION.")).arg(q_("This solution by F. Es
penak and J. Meeus, based on Morrison &amp; Stephenson (2004) and a polynomial 
fit through tabulated values for 1600-2000, is used for the %1NASA Eclipse 
Web Site%2 and in their &lt;em&gt;Five Millennium Canon of Solar Eclipses: -1900 
to +3000&lt;/em&gt; (2006). This formula is also used in the solar, lunar and pla
netary ephemeris program SOLEX.").arg("&lt;a href='http://eclipse.gsfc.nasa.go
v/eclipse.html'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRangeDe
scription(jd, &amp;marker)).append(" &lt;em&gt;").append("&lt;/em&gt;"));</td><td> </td><td class="right">                       description = QString("%1 %2").arg(q_("PATCHED VERSI
ON WITHOUT ADDITIONAL LUNAR ACCELERATION.")).arg(q_("This solution by F. Es
penak and J. Meeus, based on Morrison &amp; Stephenson (2004) and a polynomial 
fit through tabulated values for 1600-2000, is used for the %1NASA Eclipse 
Web Site%2 and in their &lt;em&gt;Five Millennium Canon of Solar Eclipses: -1900 
to +3000&lt;/em&gt; (2006). This formula is also used in the solar, lunar and pla
netary ephemeris program SOLEX.").arg("&lt;a href='http://eclipse.gsfc.nasa.go
v/eclipse.html'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRangeDe
scription(jd, &amp;marker)).append(" &lt;em&gt;").append("&lt;/em&gt;"));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Banjevic:</td><td> </td><td class="right">               case Banjevic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("This solution by B. Banjevic, base
d on Stephenson &amp; Morrison (1984), was published in article &lt;em&gt;Ancient ecl
ipses and dating the fall of Babylon&lt;/em&gt; (%1).").arg("&lt;a href='http://adsa
bs.harvard.edu/abs/2006POBeo..80..251B'&gt;2006&lt;/a&gt;").append(getCurrentDeltaTA
lgorithmValidRangeDescription(jd, &amp;marker));</td><td> </td><td class="right">                       description = q_("This solution by B. Banjevic, base
d on Stephenson &amp; Morrison (1984), was published in article &lt;em&gt;Ancient ecl
ipses and dating the fall of Babylon&lt;/em&gt; (%1).").arg("&lt;a href='http://adsa
bs.harvard.edu/abs/2006POBeo..80..251B'&gt;2006&lt;/a&gt;").append(getCurrentDeltaTA
lgorithmValidRangeDescription(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IslamSadiqQureshi:</td><td> </td><td class="right">               case IslamSadiqQureshi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("This solution by S. Islam, M. Sadi
q and M. S. Qureshi, based on Meeus &amp; Simons (2000), was published in artic
le &lt;em&gt;Error Minimization of Polynomial Approximation of DeltaT&lt;/em&gt; (%1) a
nd revisited by Sana Islam in 2013.").arg("&lt;a href='http://www.ias.ac.in/ar
ticle/fulltext/joaa/029/03-04/0363-0366'&gt;2008&lt;/a&gt;").append(getCurrentDeltaT
AlgorithmValidRangeDescription(jd, &amp;marker));</td><td> </td><td class="right">                       description = q_("This solution by S. Islam, M. Sadi
q and M. S. Qureshi, based on Meeus &amp; Simons (2000), was published in artic
le &lt;em&gt;Error Minimization of Polynomial Approximation of DeltaT&lt;/em&gt; (%1) a
nd revisited by Sana Islam in 2013.").arg("&lt;a href='http://www.ias.ac.in/ar
ticle/fulltext/joaa/029/03-04/0363-0366'&gt;2008&lt;/a&gt;").append(getCurrentDeltaT
AlgorithmValidRangeDescription(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case KhalidSultanaZaidi:</td><td> </td><td class="right">               case KhalidSultanaZaidi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("This polynomial approximation with
 0.6 seconds of accuracy by M. Khalid, Mariam Sultana and Faheem Zaidi was 
published in &lt;em&gt;Delta T: Polynomial Approximation of Time Period 1620-2013
&lt;/em&gt; (%1).").arg("&lt;a href='http://dx.doi.org/10.1155/2014/480964'&gt;2014&lt;/a&gt;
").append(getCurrentDeltaTAlgorithmValidRangeDescription(jd, &amp;marker));</td><td> </td><td class="right">                       description = q_("This polynomial approximation with
 0.6 seconds of accuracy by M. Khalid, Mariam Sultana and Faheem Zaidi was 
published in &lt;em&gt;Delta T: Polynomial Approximation of Time Period 1620-2013
&lt;/em&gt; (%1).").arg("&lt;a href='http://dx.doi.org/10.1155/2014/480964'&gt;2014&lt;/a&gt;
").append(getCurrentDeltaTAlgorithmValidRangeDescription(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">case StephensonMorrisonHohenkerk2016: // PRIMARY SOURCE, SEE</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">MS VERY IMPORTANT</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       description = q_("This solution by F. R. Stephenson,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> L. V. Morrison and C. Y. Hohenkerk (2016) was published in &lt;em&gt;Measurement</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> of the Earth’s rotation: 720 BC to AD 2015&lt;/em&gt; (%1). Outside of the named</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> range (modelled with a spline fit) it provides values from an approximate </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">parabola.").arg("&lt;a href='http://dx.doi.org/10.1098/rspa.2016.0404'&gt;2016&lt;/a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">&gt;").append(getCurrentDeltaTAlgorithmValidRangeDescription(jd, &amp;marker));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Custom:</td><td> </td><td class="right">               case Custom:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("This is a quadratic formula for ca
lculation of %1T with coefficients defined by the user.").arg(QChar(0x0394)
);</td><td> </td><td class="right">                       description = q_("This is a quadratic formula for ca
lculation of %1T with coefficients defined by the user.").arg(QChar(0x0394)
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               default:</td><td> </td><td class="right">               default:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("Error");</td><td> </td><td class="right">                       description = q_("Error");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// Put n-dot value info</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (getCurrentDeltaTAlgorithm()!=WithoutCorrection)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString fp = QString("%1\"/cy%2").arg(QString::number(getDel</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">taTnDot(), 'f', 4)).arg(QChar(0x00B2));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString sp = QString("n%1").arg(QChar(0x2032));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               description.append(" " + q_("The solution's value of %1 for </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">%2 (secular acceleration of the Moon) requires an adaptation, see Guide for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> details.").arg(fp).arg(sp));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return description;</td><td> </td><td class="right">       return description;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString StelCore::getCurrentDeltaTAlgorithmValidRangeDescription(const doub
le JD, QString *marker) const</td><td> </td><td class="right">QString StelCore::getCurrentDeltaTAlgorithmValidRangeDescription(const doub
le JD, QString *marker) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString validRange = "";</td><td> </td><td class="right">       QString validRange = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString validRangeAppendix = "";</td><td> </td><td class="right">       QString validRangeAppendix = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       *marker = "";</td><td> </td><td class="right">       *marker = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int year, month, day;</td><td> </td><td class="right">       int year, month, day;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0053" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">int start = 0;</span></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       int finish = 0;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelUtils::getDateFromJulianDay(JD, &amp;year, &amp;month, &amp;day);</td><td> </td><td class="right">       StelUtils::getDateFromJulianDay(JD, &amp;year, &amp;month, &amp;day);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0054" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       switch (<span class="delete">getCurrentDeltaTAlgorithm()</span>)</td><td> </td><td class="rblock">       switch (<span class="insert">currentDeltaTAlgorithm</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0055" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case WithoutCorrection:</td><td> </td><td class="rblock">               case WithoutCorrection:      // <span class="insert">and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // <span class="delete">say nothing</span></td><td> </td><td class="rblock">               case Schoch:                 // <span class="insert">and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock">               case Clemence:               <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case Schoch:</td><td> </td><td class="rblock">               case IAU:                    // <span class="insert">and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // <span class="delete">Valid range unknown</span></td><td> </td><td class="rblock">               case AstronomicalEphemeris:  // <span class="insert">and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock">               case TuckermanGoldstine:     <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case Clemence:</td><td> </td><td class="rblock"><span class="insert">               case StephensonHoulden:      // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = 1681;</span></td><td> </td><td class="rblock">               case MullerStephenson:       <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1900;</span></td><td> </td><td class="rblock">               case Stephenson1978:         // <span class="insert">and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock">               case MorrisonStephenson1982: // <span class="insert">and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case IAU:</td><td> </td><td class="rblock">               case StephensonMorrison1984: <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = 1681;</span></td><td> </td><td class="rblock">               case Espenak:                <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1936;</span> // <span class="delete">Details in http://adsabs.harvard.</span></td><td> </td><td class="rblock">               case Borkowski:              <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">edu/abs/1939MNRAS..99..541S</span></td><td> </td><td class="rblock">               case StephensonMorrison1995: <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock">               case Stephenson1997:         <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case AstronomicalEphemeris:</td><td> </td><td class="rblock">               case ChaprontMeeus:          <span class="insert">// and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // <span class="delete">GZ: What is the source of "1681..1900"? Expl.Supp</span></td><td> </td><td class="rblock"><span class="insert">               case ReingoldDershowitz:     // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">l.AE 1961-p87 says "...over periods extending back to ancient times"</span></td><td> </td><td class="rblock"><span class="insert">               case MorrisonStephenson2004: // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       // I changed to what I estimate.</span></td><td> </td><td class="rblock"><span class="insert">               case Reijs:                  // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -500; // 1681;</span></td><td> </td><td class="rblock"><span class="insert">               case EspenakMeeus: // the default, range stated</span> in <span class="insert">the Canon</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  =  2000; // 1900;</span></td><td> </td><td class="rblock"><span class="insert">, p. 14.  ... and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"><span class="insert">               case EspenakMeeusZeroMoonAccel: // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case TuckermanGoldstine:</td><td> </td><td class="rblock"><span class="insert">               case StephensonMorrisonHohenkerk2016:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = -600;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1649;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case MullerStephenson:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = -1375;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1975;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case Stephenson1978:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // <span class="delete">Valid range unknown</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case SchmadelZech1979:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = 1800;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1975;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       validRangeAppendix = q_("with meaningless values out</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">side this range");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case MorrisonStephenson1982:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // <span class="delete">FIXME: This is correct valid range?</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -4000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2800;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case StephensonMorrison1984:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = -391;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1600;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case StephensonHoulden:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -600;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1600;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case Espenak:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = 1950;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2100;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case Borkowski:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = -2136;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1715;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case SchmadelZech1988:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = 1800;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1988;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       validRangeAppendix = q_("with a mean error of less t</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">han one second, max. error 1.9s, and meaningless values outside this range"</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case ChaprontTouze:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       // FIXME: Is it valid range?</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -4000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 8000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case StephensonMorrison1995:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = -700;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1600;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case Stephenson1997:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = -500;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1600;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case ChaprontMeeus:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = -400; // 1800; // not explicitly given, bu</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">t guess based on his using ChaprontFrancou which is cited elsewhere</span> in <span class="delete">a si</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">milar term with -391.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  =  2150; // 1997;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case JPLHorizons:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -2999;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1620;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       validRangeAppendix = q_("with zero values outside th</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">is range");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0056" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case JPLHorizons: // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MeeusSimons:</td><td> </td><td class="right">               case MeeusSimons:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0057" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = 1620;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       validRangeAppendix = q_("with zero values outside th
is range");</td><td> </td><td class="right">                       validRangeAppendix = q_("with zero values outside th
is range");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MontenbruckPfleger:</td><td> </td><td class="right">               case MontenbruckPfleger:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0058" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = 1825;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2005;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       validRangeAppendix = q_("with a typical 1-second acc
uracy and zero values outside this range");</td><td> </td><td class="right">                       validRangeAppendix = q_("with a typical 1-second acc
uracy and zero values outside this range");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0059" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case <span class="delete">ReingoldDershowitz:</span></td><td> </td><td class="rblock">               case <span class="insert">SchmadelZech1988:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       // GZ: while not original work, it's based on Meeus </span></td><td> </td><td class="rblock">                       validRangeAppendix = q_("with <span class="insert">a mean error of less t</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">and therefore the full implementation covers likewise approximately:</span></td><td> </td><td class="rblock"><span class="insert">han one second, max. error 1.9s, and</span> values <span class="insert">for the limit years</span> outside <span class="insert">thi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -400; //1620;</span></td><td> </td><td class="rblock"><span class="insert">s</span> range");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2100; //2019;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case MorrisonStephenson2004:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -1000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case Reijs:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -1500; // -500; // GZ: It models long-term</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> variability, so we should reflect this. Not sure on the begin, though.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1100; // not 1620; // GZ: Not applicable f</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">or telescopic era, and better not after 1100 (pers.comm.)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case EspenakMeeus: // the default, range stated in the Canon</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">, p. 14.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case EspenakMeeusZeroMoonAccel:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -1999;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 3000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case Banjevic:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = -2020;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 1620;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       validRangeAppendix = q_("with zero values outside th</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">is range");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       break;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               case IslamSadiqQureshi:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       start   = 1620;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2007;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       validRangeAppendix = q_("with <span class="delete">zero</span> values outside <span class="delete">th</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">is</span> range");</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0060" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">case SchmadelZech1979:  // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case ChaprontTouze:     // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case Banjevic:          // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case IslamSadiqQureshi: // and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case KhalidSultanaZaidi:</td><td> </td><td class="right">               case KhalidSultanaZaidi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0061" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">start   = 1620;</span></td><td> </td><td class="rblock">                       validRangeAppendix = q_("with values <span class="insert">for the limit y</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       finish  = 2013;</span></td><td> </td><td class="rblock"><span class="insert">ears</span> outside <span class="insert">this</span> range");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       validRangeAppendix = q_("with <span class="delete">zero</span> values outside <span class="delete">th</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">is</span> range");</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Custom:</td><td> </td><td class="right">               case Custom:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Valid range unknown</td><td> </td><td class="right">                       // Valid range unknown</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0062" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if (<span class="delete">start!=finish)</span></td><td> </td><td class="rblock">       if (<span class="insert">deltaTstart &gt; INT_MIN) // limits declared?</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (validRangeAppendix!="")</td><td> </td><td class="right">               if (validRangeAppendix!="")</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0063" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       validRange = q_("Valid range of usage: between years
 %1 and %2, %3.").arg(<span class="delete">start).arg(finish).arg(validRangeAppendix</span>);</td><td> </td><td class="rblock">                       validRange = q_("Valid range of usage: between years
 %1 and %2, %3.").arg(<span class="insert">deltaTstart).arg(deltaTfinish).arg(validRangeAppendix
</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0064" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       validRange = q_("Valid range of usage: between years</td><td> </td><td class="rblock">                       validRange = q_("Valid range of usage: between years</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> %1 and <span class="delete">%2.").arg(start).arg(finish);</span></td><td> </td><td class="rblock"> %1 and <span class="insert">%2.").arg(deltaTstart).arg(deltaTfinish);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               if ((year &lt; <span class="delete">start)</span> || <span class="delete">(finish</span> &lt; year))</td><td> </td><td class="rblock">               if ((year &lt; <span class="insert">deltaTstart)</span> || <span class="insert">(deltaTfinish</span> &lt; year))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       *marker = "*";</td><td> </td><td class="rblock">                       *marker = "*"; <span class="insert">// mark "outside designed range, poss</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ible wrong"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0065" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               *marker = "?";</td><td> </td><td class="rblock">               *marker = "?";<span class="insert"> // mark "no range given"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return QString(" %1").arg(validRange);</td><td> </td><td class="right">       return QString(" %1").arg(validRange);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// return if sky plus atmosphere is bright enough from sunlight so that e.g
. screen labels should be rendered dark.</td><td> </td><td class="right">// return if sky plus atmosphere is bright enough from sunlight so that e.g
. screen labels should be rendered dark.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool StelCore::isBrightDaylight() const</td><td> </td><td class="right">bool StelCore::isBrightDaylight() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool r = false;</td><td> </td><td class="right">       bool r = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SolarSystem* ssys = GETSTELMODULE(SolarSystem);</td><td> </td><td class="right">       SolarSystem* ssys = GETSTELMODULE(SolarSystem);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const Vec3d&amp; sunPos = ssys-&gt;getSun()-&gt;getAltAzPosGeometric(this);</td><td> </td><td class="right">       const Vec3d&amp; sunPos = ssys-&gt;getSun()-&gt;getAltAzPosGeometric(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> line 2241</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> line 2298</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (ssys-&gt;getEclipseFactor(this)&lt;=0.01) // Total solar eclipse</td><td> </td><td class="right">       if (ssys-&gt;getEclipseFactor(this)&lt;=0.01) // Total solar eclipse</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               r = false;</td><td> </td><td class="right">               r = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return r;</td><td> </td><td class="right">       return r;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getCurrentEpoch() const</td><td> </td><td class="right">double StelCore::getCurrentEpoch() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return 2000.0 + (getJD() - 2451545.0)/365.25;</td><td> </td><td class="right">       return 2000.0 + (getJD() - 2451545.0)/365.25;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0066" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">// DE430/DE431 <span class="delete">handling</span></td><td> </td><td class="rblock">// DE430/DE431 <span class="insert">handling.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">// FIXME: GZ observes: When DE431 is not available, DE430 installed, but da</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">te outside, de430IsActive() should return false because computations go bac</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">k to VSOP!.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool StelCore::de430IsAvailable()</td><td> </td><td class="right">bool StelCore::de430IsAvailable()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return de430Available;</td><td> </td><td class="right">       return de430Available;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool StelCore::de431IsAvailable()</td><td> </td><td class="right">bool StelCore::de431IsAvailable()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return de431Available;</td><td> </td><td class="right">       return de431Available;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 66 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>256 lines changed or deleted</i></th><th><i> </i></th><th><i>333 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
