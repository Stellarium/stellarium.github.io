<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.home 4.4.0-67-generic #88-Ubuntu SMP Wed Mar 8 16:34:45 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.1.3, API: 1.1 (GNU MPFR 3.1.4, GNU MP 6.1.0) --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: Landscape.hpp - Landscape.hpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;Landscape.hpp&nbsp;</th><th> </th><th>&nbsp;Landscape.hpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 78</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 78</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d featurePoint; // start of the line: mountain peak, bui
lding, ...</td><td> </td><td class="right">               Vec3d featurePoint; // start of the line: mountain peak, bui
lding, ...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d labelPoint;   // end of the line, where the centered l
abel best fits.</td><td> </td><td class="right">               Vec3d labelPoint;   // end of the line, where the centered l
abel best fits.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       } LandscapeLabel;</td><td> </td><td class="right">       } LandscapeLabel;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Landscape(float _radius = 2.f);</td><td> </td><td class="right">       Landscape(float _radius = 2.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual ~Landscape();</td><td> </td><td class="right">       virtual ~Landscape();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Load landscape.</td><td> </td><td class="right">       //! Load landscape.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param landscapeIni A reference to an existing QSettings object 
which describes the landscape</td><td> </td><td class="right">       //! @param landscapeIni A reference to an existing QSettings object 
which describes the landscape</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param landscapeId The name of the directory for the landscape f
iles (e.g. "ocean")</td><td> </td><td class="right">       //! @param landscapeId The name of the directory for the landscape f
iles (e.g. "ocean")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId) = 0;</td><td> </td><td class="right">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId) = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//! Return approximate memory footprint in bytes (required for cache</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> cost estimate in LandscapeMgr)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! The returned value is only approximate, content of QStrings and </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">other small containers like the horizon polygon are not put in in detail.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! However, texture image sizes must be computed in subclasses.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! The value returned is a sum of RAM and texture memory requiremen</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ts.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       virtual unsigned int getMemorySize() const {return sizeof(Landscape)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void draw(StelCore* core) = 0;</td><td> </td><td class="right">       virtual void draw(StelCore* core) = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void update(double deltaTime)</td><td> </td><td class="right">       void update(double deltaTime)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               landFader.update((int)(deltaTime*1000));</td><td> </td><td class="right">               landFader.update((int)(deltaTime*1000));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               fogFader.update((int)(deltaTime*1000));</td><td> </td><td class="right">               fogFader.update((int)(deltaTime*1000));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               illumFader.update((int)(deltaTime*1000));</td><td> </td><td class="right">               illumFader.update((int)(deltaTime*1000));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               labelFader.update((int)(deltaTime*1000));</td><td> </td><td class="right">               labelFader.update((int)(deltaTime*1000));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the brightness of the landscape plus brightness of optional 
add-on night lightscape.</td><td> </td><td class="right">       //! Set the brightness of the landscape plus brightness of optional 
add-on night lightscape.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 127</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 134</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool getFlagShowLabels() const {return (bool)labelFader;}</td><td> </td><td class="right">       bool getFlagShowLabels() const {return (bool)labelFader;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! change font and fontsize for landscape labels</td><td> </td><td class="right">       //! change font and fontsize for landscape labels</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setLabelFontSize(const int size){fontSize=size;}</td><td> </td><td class="right">       void setLabelFontSize(const int size){fontSize=size;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get landscape name</td><td> </td><td class="right">       //! Get landscape name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getName() const {return name;}</td><td> </td><td class="right">       QString getName() const {return name;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get landscape author name</td><td> </td><td class="right">       //! Get landscape author name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getAuthorName() const {return author;}</td><td> </td><td class="right">       QString getAuthorName() const {return author;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get landscape description</td><td> </td><td class="right">       //! Get landscape description</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getDescription() const {return description;}</td><td> </td><td class="right">       QString getDescription() const {return description;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//! Get landscape id. This is the landscape directory name, used for</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> cache handling.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QString getId() const {return id;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the associated location (may be empty!)</td><td> </td><td class="right">       //! Return the associated location (may be empty!)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const StelLocation&amp; getLocation() const {return location;}</td><td> </td><td class="right">       const StelLocation&amp; getLocation() const {return location;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return if the location is valid (a valid location has a valid pl
anetName!)</td><td> </td><td class="right">       //! Return if the location is valid (a valid location has a valid pl
anetName!)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool hasLocation() const {return (!(location.planetName.isEmpty()));
}</td><td> </td><td class="right">       bool hasLocation() const {return (!(location.planetName.isEmpty()));
}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return default Bortle index (light pollution value) or -1 (unkno
wn/no change)</td><td> </td><td class="right">       //! Return default Bortle index (light pollution value) or -1 (unkno
wn/no change)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int getDefaultBortleIndex() const {return defaultBortleIndex;}</td><td> </td><td class="right">       int getDefaultBortleIndex() const {return defaultBortleIndex;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return default fog setting (0/1) or -1 (no change)</td><td> </td><td class="right">       //! Return default fog setting (0/1) or -1 (no change)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int getDefaultFogSetting() const {return defaultFogSetting;}</td><td> </td><td class="right">       int getDefaultFogSetting() const {return defaultFogSetting;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return default atmosperic extinction [mag/airmass], or -1 (no ch
ange)</td><td> </td><td class="right">       //! Return default atmosperic extinction [mag/airmass], or -1 (no ch
ange)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 204</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 213</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! search for a texture in landscape directory, else global texture
s directory</td><td> </td><td class="right">       //! search for a texture in landscape directory, else global texture
s directory</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param basename The name of a texture file, e.g. "fog.png"</td><td> </td><td class="right">       //! @param basename The name of a texture file, e.g. "fog.png"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param landscapeId The landscape ID (directory name) to which th
e texture belongs</td><td> </td><td class="right">       //! @param landscapeId The landscape ID (directory name) to which th
e texture belongs</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @exception misc possibility of throwing "file not found" excepti
ons</td><td> </td><td class="right">       //! @exception misc possibility of throwing "file not found" excepti
ons</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const QString getTexturePath(const QString&amp; basename, const QString&amp;
 landscapeId) const;</td><td> </td><td class="right">       const QString getTexturePath(const QString&amp; basename, const QString&amp;
 landscapeId) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float radius;</td><td> </td><td class="right">       float radius;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString name;          //! Read from landscape.ini:[landscape]name</td><td> </td><td class="right">       QString name;          //! Read from landscape.ini:[landscape]name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString author;        //! Read from landscape.ini:[landscape]author</td><td> </td><td class="right">       QString author;        //! Read from landscape.ini:[landscape]author</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString description;   //! Read from landscape.ini:[landscape]descri
ption</td><td> </td><td class="right">       QString description;   //! Read from landscape.ini:[landscape]descri
ption</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QString id;            //! Set during load. Required for consistent 
caching.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float minBrightness;   //! Read from landscape.ini:[landscape]minima
l_brightness. Allows minimum visibility that cannot be underpowered.</td><td> </td><td class="right">       float minBrightness;   //! Read from landscape.ini:[landscape]minima
l_brightness. Allows minimum visibility that cannot be underpowered.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float landscapeBrightness;  //! brightness [0..1] to draw the landsc
ape. Computed by the LandscapeMgr.</td><td> </td><td class="right">       float landscapeBrightness;  //! brightness [0..1] to draw the landsc
ape. Computed by the LandscapeMgr.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float lightScapeBrightness; //! can be used to draw nightscape textu
re (e.g. city light pollution), if available. Computed by the LandscapeMgr.</td><td> </td><td class="right">       float lightScapeBrightness; //! can be used to draw nightscape textu
re (e.g. city light pollution), if available. Computed by the LandscapeMgr.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool validLandscape;   //! was a landscape loaded properly?</td><td> </td><td class="right">       bool validLandscape;   //! was a landscape loaded properly?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LinearFader landFader; //! Used to slowly fade in/out landscape pain
ting.</td><td> </td><td class="right">       LinearFader landFader; //! Used to slowly fade in/out landscape pain
ting.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LinearFader fogFader;  //! Used to slowly fade in/out fog painting.</td><td> </td><td class="right">       LinearFader fogFader;  //! Used to slowly fade in/out fog painting.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LinearFader illumFader;//! Used to slowly fade in/out illumination p
ainting.</td><td> </td><td class="right">       LinearFader illumFader;//! Used to slowly fade in/out illumination p
ainting.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LinearFader labelFader;//! Used to slowly fade in/out landscape feat
ure labels.</td><td> </td><td class="right">       LinearFader labelFader;//! Used to slowly fade in/out landscape feat
ure labels.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int rows; //! horizontal rows.  May be given in landscape.ini:[lands
cape]tesselate_rows. More indicates higher accuracy, but is slower.</td><td> </td><td class="right">       int rows; //! horizontal rows.  May be given in landscape.ini:[lands
cape]tesselate_rows. More indicates higher accuracy, but is slower.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 261</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 271</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! It is more involved to configure, but may still be preferred if you req
uire the resolution, e.g. for alignment studies</td><td> </td><td class="right">//! It is more involved to configure, but may still be preferred if you req
uire the resolution, e.g. for alignment studies</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! for archaeoastronomy. In this case, don't forget to set calibrated=true
 in landscape.ini.</td><td> </td><td class="right">//! for archaeoastronomy. In this case, don't forget to set calibrated=true
 in landscape.ini.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Since V0.13.1, also this landscape has a self-luminous (light pollution
) option: Configure light&lt;n&gt; entries with textures overlaid the tex&lt;n&gt; text
ures. Only textures with light are necessary!</td><td> </td><td class="right">//! Since V0.13.1, also this landscape has a self-luminous (light pollution
) option: Configure light&lt;n&gt; entries with textures overlaid the tex&lt;n&gt; text
ures. Only textures with light are necessary!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Can be easily made using layers with e.g. Photoshop or Gimp.</td><td> </td><td class="right">//! Can be easily made using layers with e.g. Photoshop or Gimp.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class LandscapeOldStyle : public Landscape</td><td> </td><td class="right">class LandscapeOldStyle : public Landscape</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LandscapeOldStyle(float radius = 2.f);</td><td> </td><td class="right">       LandscapeOldStyle(float radius = 2.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual ~LandscapeOldStyle();</td><td> </td><td class="right">       virtual ~LandscapeOldStyle();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td> </td><td class="right">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       virtual unsigned int getMemorySize() const {return memorySize;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void draw(StelCore* core);</td><td> </td><td class="right">       virtual void draw(StelCore* core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //void create(bool _fullpath, QMap&lt;QString, QString&gt; param); // stil
l not implemented</td><td> </td><td class="right">       //void create(bool _fullpath, QMap&lt;QString, QString&gt; param); // stil
l not implemented</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual float getOpacity(Vec3d azalt) const;</td><td> </td><td class="right">       virtual float getOpacity(Vec3d azalt) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">protected:</td><td> </td><td class="right">protected:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       typedef struct</td><td> </td><td class="right">       typedef struct</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelTextureSP tex;</td><td> </td><td class="right">               StelTextureSP tex;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelTextureSP tex_illum; // optional light texture.</td><td> </td><td class="right">               StelTextureSP tex_illum; // optional light texture.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               float texCoords[4];</td><td> </td><td class="right">               float texCoords[4];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       } landscapeTexCoord;</td><td> </td><td class="right">       } landscapeTexCoord;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 304</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 315</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool tanMode;           // Whether the angles should be converted us
ing tan instead of sin, i.e., for a cylindrical pano</td><td> </td><td class="right">       bool tanMode;           // Whether the angles should be converted us
ing tan instead of sin, i.e., for a cylindrical pano</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool calibrated;        // if true, the documented altitudes are ind
eed correct (the original code is buggy!)</td><td> </td><td class="right">       bool calibrated;        // if true, the documented altitudes are ind
eed correct (the original code is buggy!)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       struct LOSSide</td><td> </td><td class="right">       struct LOSSide</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelVertexArray arr;</td><td> </td><td class="right">               StelVertexArray arr;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelTextureSP tex;</td><td> </td><td class="right">               StelTextureSP tex;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               bool light; // GZ NEW: true if texture is self-lighting.</td><td> </td><td class="right">               bool light; // GZ NEW: true if texture is self-lighting.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QList&lt;LOSSide&gt; precomputedSides;</td><td> </td><td class="right">       QList&lt;LOSSide&gt; precomputedSides;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       unsigned int memorySize;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/////////////////////////////////////////////////////////</td><td> </td><td class="right">/////////////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///</td><td> </td><td class="right">///</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @class LandscapePolygonal</td><td> </td><td class="right">//! @class LandscapePolygonal</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! This uses the list of (usually measured) horizon altitudes to define th
e horizon.</td><td> </td><td class="right">//! This uses the list of (usually measured) horizon altitudes to define th
e horizon.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Define it with the following names in landscape.ini:</td><td> </td><td class="right">//! Define it with the following names in landscape.ini:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @param landscape/ground_color use this color below horizon</td><td> </td><td class="right">//! @param landscape/ground_color use this color below horizon</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @param landscape/polygonal_horizon_list filename containing azimuths/al
titudes, compatible with Carte du Ciel.</td><td> </td><td class="right">//! @param landscape/polygonal_horizon_list filename containing azimuths/al
titudes, compatible with Carte du Ciel.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @param landscape/polygonal_angle_rotatez offset for the polygonal measu
rement</td><td> </td><td class="right">//! @param landscape/polygonal_angle_rotatez offset for the polygonal measu
rement</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//!        (different from landscape/angle_rotatez in photo panos, often ph
oto and line are not aligned.)</td><td> </td><td class="right">//!        (different from landscape/angle_rotatez in photo panos, often ph
oto and line are not aligned.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class LandscapePolygonal : public Landscape</td><td> </td><td class="right">class LandscapePolygonal : public Landscape</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LandscapePolygonal(float radius = 1.f);</td><td> </td><td class="right">       LandscapePolygonal(float radius = 1.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual ~LandscapePolygonal();</td><td> </td><td class="right">       virtual ~LandscapePolygonal();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td> </td><td class="right">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       virtual unsigned int getMemorySize() const {return sizeof(LandscapeP
olygonal);}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void draw(StelCore* core);</td><td> </td><td class="right">       virtual void draw(StelCore* core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual float getOpacity(Vec3d azalt) const;</td><td> </td><td class="right">       virtual float getOpacity(Vec3d azalt) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">private:</td><td> </td><td class="right">private:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // we have inherited: horizonFileName, horizonPolygon, horizonPolygo
nLineColor</td><td> </td><td class="right">       // we have inherited: horizonFileName, horizonPolygon, horizonPolygo
nLineColor</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3f groundColor; //! specified in landscape.ini[landscape]ground_c
olor.</td><td> </td><td class="right">       Vec3f groundColor; //! specified in landscape.ini[landscape]ground_c
olor.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////////////////////</td><td> </td><td class="right">///////////////////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///</td><td> </td><td class="right">///</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @class LandscapeFisheye</td><td> </td><td class="right">//! @class LandscapeFisheye</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! This uses a single image in fisheye projection. The image is typically 
square, ...</td><td> </td><td class="right">//! This uses a single image in fisheye projection. The image is typically 
square, ...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @param texFov:  field of view (opening angle) of the square texture, ra
dians.</td><td> </td><td class="right">//! @param texFov:  field of view (opening angle) of the square texture, ra
dians.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! If @param angleRotateZ==0, the top image border is due south.</td><td> </td><td class="right">//! If @param angleRotateZ==0, the top image border is due south.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class LandscapeFisheye : public Landscape</td><td> </td><td class="right">class LandscapeFisheye : public Landscape</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LandscapeFisheye(float radius = 1.f);</td><td> </td><td class="right">       LandscapeFisheye(float radius = 1.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual ~LandscapeFisheye();</td><td> </td><td class="right">       virtual ~LandscapeFisheye();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td> </td><td class="right">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       virtual unsigned int getMemorySize() const {return memorySize;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void draw(StelCore* core);</td><td> </td><td class="right">       virtual void draw(StelCore* core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Sample landscape texture for transparency/opacity. May be used f
or visibility, sunrise etc.</td><td> </td><td class="right">       //! Sample landscape texture for transparency/opacity. May be used f
or visibility, sunrise etc.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param azalt normalized direction in alt-az frame</td><td> </td><td class="right">       //! @param azalt normalized direction in alt-az frame</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual float getOpacity(Vec3d azalt) const;</td><td> </td><td class="right">       virtual float getOpacity(Vec3d azalt) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! create a fisheye landscape from basic parameters (no ini file ne
eded).</td><td> </td><td class="right">       //! create a fisheye landscape from basic parameters (no ini file ne
eded).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param name Landscape name</td><td> </td><td class="right">       //! @param name Landscape name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param maptex the fisheye texture</td><td> </td><td class="right">       //! @param maptex the fisheye texture</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param maptexIllum the fisheye texture that is overlaid in the n
ight (streetlights, skyglow, ...)</td><td> </td><td class="right">       //! @param maptexIllum the fisheye texture that is overlaid in the n
ight (streetlights, skyglow, ...)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param texturefov field of view for the photo, degrees</td><td> </td><td class="right">       //! @param texturefov field of view for the photo, degrees</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param angleRotateZ azimuth rotation angle, degrees</td><td> </td><td class="right">       //! @param angleRotateZ azimuth rotation angle, degrees</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 362</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 376</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">private:</td><td> </td><td class="right">private:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelTextureSP mapTex;      //!&lt; The fisheye image, centered on the z
enith.</td><td> </td><td class="right">       StelTextureSP mapTex;      //!&lt; The fisheye image, centered on the z
enith.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelTextureSP mapTexFog;   //!&lt; Optional panorama of identical size 
(create as layer over the mapTex image in your favorite image processor).</td><td> </td><td class="right">       StelTextureSP mapTexFog;   //!&lt; Optional panorama of identical size 
(create as layer over the mapTex image in your favorite image processor).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                  //!&lt; can also be smaller, just the textur
e is again mapped onto the same geometry.</td><td> </td><td class="right">                                  //!&lt; can also be smaller, just the textur
e is again mapped onto the same geometry.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelTextureSP mapTexIllum; //!&lt; Optional fisheye image of identical 
size (create as layer in your favorite image processor) or at least, propor
tions.</td><td> </td><td class="right">       StelTextureSP mapTexIllum; //!&lt; Optional fisheye image of identical 
size (create as layer in your favorite image processor) or at least, propor
tions.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                  //!&lt; To simulate light pollution (skyglow
), street lights, light in windows, ... at night</td><td> </td><td class="right">                                  //!&lt; To simulate light pollution (skyglow
), street lights, light in windows, ... at night</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QImage *mapImage;          //!&lt; The same image as mapTex, but stored
 in-mem for sampling.</td><td> </td><td class="right">       QImage *mapImage;          //!&lt; The same image as mapTex, but stored
 in-mem for sampling.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float texFov;</td><td> </td><td class="right">       float texFov;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       unsigned int memorySize;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//////////////////////////////////////////////////////////////////////////</td><td> </td><td class="right">//////////////////////////////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @class LandscapeSpherical</td><td> </td><td class="right">//! @class LandscapeSpherical</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! This uses a single panorama image in spherical (equirectangular) projec
tion. A complete image is rectangular with the horizon forming a</td><td> </td><td class="right">//! This uses a single panorama image in spherical (equirectangular) projec
tion. A complete image is rectangular with the horizon forming a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! horizontal line centered vertically, and vertical altitude angles linea
rly mapped in image height.</td><td> </td><td class="right">//! horizontal line centered vertically, and vertical altitude angles linea
rly mapped in image height.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Since 0.13 and Qt5, large images of 8192x4096 pixels are available, but
 they still may not work on every hardware.</td><td> </td><td class="right">//! Since 0.13 and Qt5, large images of 8192x4096 pixels are available, but
 they still may not work on every hardware.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! If @param angleRotateZ==0, the left/right image border is due east.</td><td> </td><td class="right">//! If @param angleRotateZ==0, the left/right image border is due east.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! It is possible to remove empty top or bottom parts of the textures (mai
n texture: only top part should meaningfully be cut away!)</td><td> </td><td class="right">//! It is possible to remove empty top or bottom parts of the textures (mai
n texture: only top part should meaningfully be cut away!)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! The textures should still be power-of-two, so maybe 8192x1024 for the f
og, or 8192x2048 for the light pollution.</td><td> </td><td class="right">//! The textures should still be power-of-two, so maybe 8192x1024 for the f
og, or 8192x2048 for the light pollution.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! (It's OK to stretch the textures. They just have to fit, geometrically!
)</td><td> </td><td class="right">//! (It's OK to stretch the textures. They just have to fit, geometrically!
)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! TODO: Allow a horizontal split for 2 or even 4 parts, i.e. super-large,
 super-accurate panos.</td><td> </td><td class="right">//! TODO: Allow a horizontal split for 2 or even 4 parts, i.e. super-large,
 super-accurate panos.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class LandscapeSpherical : public Landscape</td><td> </td><td class="right">class LandscapeSpherical : public Landscape</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LandscapeSpherical(float radius = 1.f);</td><td> </td><td class="right">       LandscapeSpherical(float radius = 1.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual ~LandscapeSpherical();</td><td> </td><td class="right">       virtual ~LandscapeSpherical();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td> </td><td class="right">       virtual void load(const QSettings&amp; landscapeIni, const QString&amp; land
scapeId);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       virtual unsigned int getMemorySize() const {return memorySize;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual void draw(StelCore* core);</td><td> </td><td class="right">       virtual void draw(StelCore* core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Sample landscape texture for transparency/opacity. May be used f
or visibility, sunrise etc.</td><td> </td><td class="right">       //! Sample landscape texture for transparency/opacity. May be used f
or visibility, sunrise etc.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param azalt normalized direction in alt-az frame</td><td> </td><td class="right">       //! @param azalt normalized direction in alt-az frame</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @retval alpha (0=fully transparent, 1=fully opaque. Trees, leave
s, glass etc may have intermediate values.)</td><td> </td><td class="right">       //! @retval alpha (0=fully transparent, 1=fully opaque. Trees, leave
s, glass etc may have intermediate values.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual float getOpacity(Vec3d azalt) const;</td><td> </td><td class="right">       virtual float getOpacity(Vec3d azalt) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! create a spherical landscape from basic parameters (no ini file 
needed).</td><td> </td><td class="right">       //! create a spherical landscape from basic parameters (no ini file 
needed).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param name Landscape name</td><td> </td><td class="right">       //! @param name Landscape name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param maptex the equirectangular texture</td><td> </td><td class="right">       //! @param maptex the equirectangular texture</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param maptexIllum the equirectangular texture that is overlaid 
in the night (streetlights, skyglow, ...)</td><td> </td><td class="right">       //! @param maptexIllum the equirectangular texture that is overlaid 
in the night (streetlights, skyglow, ...)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param angleRotateZ azimuth rotation angle, degrees [0]</td><td> </td><td class="right">       //! @param angleRotateZ azimuth rotation angle, degrees [0]</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 416</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 432</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                  //!&lt; To simulate light pollution (skyglow
), street lights, light in windows, ... at night</td><td> </td><td class="right">                                  //!&lt; To simulate light pollution (skyglow
), street lights, light in windows, ... at night</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // These vars are here to conserve texture memory. They must be allo
wed to be different: a landscape may have its highest elevations at 15, fo
g may reach from -25 to +15,</td><td> </td><td class="right">       // These vars are here to conserve texture memory. They must be allo
wed to be different: a landscape may have its highest elevations at 15, fo
g may reach from -25 to +15,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // light pollution may cover -5 (street lamps slightly below) plus 
parts of or even the whole sky. All have default values to simplify life.</td><td> </td><td class="right">       // light pollution may cover -5 (street lamps slightly below) plus 
parts of or even the whole sky. All have default values to simplify life.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float mapTexTop;           //!&lt; zenithal top angle of the landscape 
texture, radians</td><td> </td><td class="right">       float mapTexTop;           //!&lt; zenithal top angle of the landscape 
texture, radians</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float mapTexBottom;        //!&lt; zenithal bottom angle of the landsca
pe texture, radians</td><td> </td><td class="right">       float mapTexBottom;        //!&lt; zenithal bottom angle of the landsca
pe texture, radians</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float fogTexTop;           //!&lt; zenithal top angle of the fog textur
e, radians</td><td> </td><td class="right">       float fogTexTop;           //!&lt; zenithal top angle of the fog textur
e, radians</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float fogTexBottom;        //!&lt; zenithal bottom angle of the fog tex
ture, radians</td><td> </td><td class="right">       float fogTexBottom;        //!&lt; zenithal bottom angle of the fog tex
ture, radians</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float illumTexTop;         //!&lt; zenithal top angle of the illuminati
on texture, radians</td><td> </td><td class="right">       float illumTexTop;         //!&lt; zenithal top angle of the illuminati
on texture, radians</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float illumTexBottom;      //!&lt; zenithal bottom angle of the illumin
ation texture, radians</td><td> </td><td class="right">       float illumTexBottom;      //!&lt; zenithal bottom angle of the illumin
ation texture, radians</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QImage *mapImage;          //!&lt; The same image as mapTex, but stored
 in-mem for opacity sampling.</td><td> </td><td class="right">       QImage *mapImage;          //!&lt; The same image as mapTex, but stored
 in-mem for opacity sampling.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       unsigned int memorySize;   //!&lt; holds an approximate value of memory
 consumption (for cache cost estimate)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif // _LANDSCAPE_HPP_</td><td> </td><td class="right">#endif // _LANDSCAPE_HPP_</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 10 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>0 lines changed or deleted</i></th><th><i> </i></th><th><i>22 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
