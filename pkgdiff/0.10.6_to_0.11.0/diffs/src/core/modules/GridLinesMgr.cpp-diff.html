<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: GridLinesMgr.cpp - GridLinesMgr.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;GridLinesMgr.cpp&nbsp;</th><th> </th><th>&nbsp;GridLinesMgr.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 28</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 28</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> */</td><td> </td><td class="right"> */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;set&gt;</td><td> </td><td class="right">#include &lt;set&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QSettings&gt;</td><td> </td><td class="right">#include &lt;QSettings&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDebug&gt;</td><td> </td><td class="right">#include &lt;QDebug&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QFontMetrics&gt;</td><td> </td><td class="right">#include &lt;QFontMetrics&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QtOpenGL&gt;</td><td> </td><td class="right">#include &lt;QtOpenGL&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "GridLinesMgr.hpp"</td><td> </td><td class="right">#include "GridLinesMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelApp.hpp"</td><td> </td><td class="right">#include "StelApp.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">#include "StelNavigator.hpp"</span></td><td> </td><td class="rblock"><span class="insert">                                                                           </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTranslator.hpp"</td><td> </td><td class="right">#include "StelTranslator.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelProjector.hpp"</td><td> </td><td class="right">#include "StelProjector.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelFader.hpp"</td><td> </td><td class="right">#include "StelFader.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "Planet.hpp"</td><td> </td><td class="right">#include "Planet.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelLocaleMgr.hpp"</td><td> </td><td class="right">#include "StelLocaleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelModuleMgr.hpp"</td><td> </td><td class="right">#include "StelModuleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelCore.hpp"</td><td> </td><td class="right">#include "StelCore.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelPainter.hpp"</td><td> </td><td class="right">#include "StelPainter.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include "StelSkyDrawer.hpp"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @class SkyGrid</td><td> </td><td class="right">//! @class SkyGrid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Class which manages a grid to display in the sky.</td><td> </td><td class="right">//! Class which manages a grid to display in the sky.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! TODO needs support for DMS/DMS labelling, not only HMS/DMS</td><td> </td><td class="right">//! TODO needs support for DMS/DMS labelling, not only HMS/DMS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class SkyGrid</td><td> </td><td class="right">class SkyGrid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Create and precompute positions of a SkyGrid</td><td> </td><td class="right">       // Create and precompute positions of a SkyGrid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SkyGrid(StelCore::FrameType frame);</td><td> </td><td class="right">       SkyGrid(StelCore::FrameType frame);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual ~SkyGrid();</td><td> </td><td class="right">       virtual ~SkyGrid();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 71</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 72</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @class SkyLine</td><td> </td><td class="right">//! @class SkyLine</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Class which manages a line to display around the sky like the ecliptic 
line.</td><td> </td><td class="right">//! Class which manages a line to display around the sky like the ecliptic 
line.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class SkyLine</td><td> </td><td class="right">class SkyLine</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       enum SKY_LINE_TYPE</td><td> </td><td class="right">       enum SKY_LINE_TYPE</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               EQUATOR,</td><td> </td><td class="right">               EQUATOR,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ECLIPTIC,</td><td> </td><td class="right">               ECLIPTIC,</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">MERIDIAN</span></td><td> </td><td class="rblock">               <span class="insert">MERIDIAN,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               HORIZON</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Create and precompute positions of a SkyGrid</td><td> </td><td class="right">       // Create and precompute positions of a SkyGrid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SkyLine(SKY_LINE_TYPE _line_type = EQUATOR);</td><td> </td><td class="right">       SkyLine(SKY_LINE_TYPE _line_type = EQUATOR);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       virtual ~SkyLine();</td><td> </td><td class="right">       virtual ~SkyLine();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void draw(StelCore* core) const;</td><td> </td><td class="right">       void draw(StelCore* core) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setColor(const Vec3f&amp; c) {color = c;}</td><td> </td><td class="right">       void setColor(const Vec3f&amp; c) {color = c;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const Vec3f&amp; getColor() {return color;}</td><td> </td><td class="right">       const Vec3f&amp; getColor() {return color;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void update(double deltaTime) {fader.update((int)(deltaTime*1000));}</td><td> </td><td class="right">       void update(double deltaTime) {fader.update((int)(deltaTime*1000));}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setFadeDuration(float duration) {fader.setDuration((int)(durati
on*1000.f));}</td><td> </td><td class="right">       void setFadeDuration(float duration) {fader.setDuration((int)(durati
on*1000.f));}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setFlagshow(bool b){fader = b;}</td><td> </td><td class="right">       void setFlagshow(bool b){fader = b;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 190</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 192</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (std::fabs(2.*M_PI-lon)&lt;0.01)</td><td> </td><td class="right">                               if (std::fabs(2.*M_PI-lon)&lt;0.01)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // We are at meridian 0</td><td> </td><td class="right">                                       // We are at meridian 0</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       lon = 0.;</td><td> </td><td class="right">                                       lon = 0.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (std::fabs(lon-raAngle) &lt; 0.01)</td><td> </td><td class="right">                               if (std::fabs(lon-raAngle) &lt; 0.01)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       text = StelUtils::radToDmsStrAdapt(r
aAngle);</td><td> </td><td class="right">                                       text = StelUtils::radToDmsStrAdapt(r
aAngle);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               else</td><td> </td><td class="right">                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       const double delta = raAngle&lt;M_PI ? 
M_PI : -M_PI;</td><td> </td><td class="right">                                       const double delta = raAngle&lt;M_PI ? 
M_PI : -M_PI;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       text = <span class="delete">StelUtils::radToDmsStrAdapt(r</span></td><td> </td><td class="rblock">                                       <span class="insert">if (raAngle==2*M_PI &amp;&amp; delta==-M_PI)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">aAngle+delta);</span></td><td> </td><td class="rblock"><span class="insert">                                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                               text = <span class="insert">StelUtils::radToDmsSt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rAdapt(0);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               text = StelUtils::radToDmsSt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rAdapt(raAngle+delta);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               break;</td><td> </td><td class="right">                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       case StelCore::FrameGalactic:</td><td> </td><td class="right">                       case StelCore::FrameGalactic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               double raAngle = M_PI-d-&gt;raAngle;</td><td> </td><td class="right">                               double raAngle = M_PI-d-&gt;raAngle;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               lon = M_PI-lon;</td><td> </td><td class="right">                               lon = M_PI-lon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (raAngle&lt;0)</td><td> </td><td class="right">                               if (raAngle&lt;0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       raAngle=+2.*M_PI;</td><td> </td><td class="right">                                       raAngle=+2.*M_PI;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (lon&lt;0)</td><td> </td><td class="right">                               if (lon&lt;0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 254</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 263</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       d-&gt;sPainter-&gt;drawText(screenPos[0], screenPos[1], text, angleDeg, xs
hift, 3);</td><td> </td><td class="right">       d-&gt;sPainter-&gt;drawText(screenPos[0], screenPos[1], text, angleDeg, xs
hift, 3);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       d-&gt;sPainter-&gt;setColor(tmpColor[0], tmpColor[1], tmpColor[2], tmpColo
r[3]);</td><td> </td><td class="right">       d-&gt;sPainter-&gt;setColor(tmpColor[0], tmpColor[1], tmpColor[2], tmpColo
r[3]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       glDisable(GL_TEXTURE_2D);</td><td> </td><td class="right">       glDisable(GL_TEXTURE_2D);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</td><td> </td><td class="right">       glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Draw the sky grid in the current frame</td><td> </td><td class="right">//! Draw the sky grid in the current frame</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SkyGrid::draw(const StelCore* core) const</td><td> </td><td class="right">void SkyGrid::draw(const StelCore* core) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const StelProjectorP prj = core-&gt;getProjection(frameType<span class="delete">)</span>;</td><td> </td><td class="rblock">       const StelProjectorP prj = core-&gt;getProjection(frameType<span class="insert">, frameType!
=StelCore::FrameAltAz ? StelCore::RefractionAuto : StelCore::RefractionOff)
</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!fader.getInterstate())</td><td> </td><td class="right">       if (!fader.getInterstate())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Look for all meridians and parallels intersecting with the disk b
ounding the viewport</td><td> </td><td class="right">       // Look for all meridians and parallels intersecting with the disk b
ounding the viewport</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Check whether the pole are in the viewport</td><td> </td><td class="right">       // Check whether the pole are in the viewport</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool northPoleInViewport = false;</td><td> </td><td class="right">       bool northPoleInViewport = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool southPoleInViewport = false;</td><td> </td><td class="right">       bool southPoleInViewport = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3f win;</td><td> </td><td class="right">       Vec3f win;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (prj-&gt;project(Vec3f(0,0,1), win) &amp;&amp; prj-&gt;checkInViewport(win))</td><td> </td><td class="right">       if (prj-&gt;project(Vec3f(0,0,1), win) &amp;&amp; prj-&gt;checkInViewport(win))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               northPoleInViewport = true;</td><td> </td><td class="right">               northPoleInViewport = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 524</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 533</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("Meridian");</td><td> </td><td class="right">                       label = q_("Meridian");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ECLIPTIC:</td><td> </td><td class="right">               case ECLIPTIC:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       frameType = StelCore::FrameObservercentricEcliptic;</td><td> </td><td class="right">                       frameType = StelCore::FrameObservercentricEcliptic;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("Ecliptic");</td><td> </td><td class="right">                       label = q_("Ecliptic");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case EQUATOR:</td><td> </td><td class="right">               case EQUATOR:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       frameType = StelCore::FrameEquinoxEqu;</td><td> </td><td class="right">                       frameType = StelCore::FrameEquinoxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("Equator");</td><td> </td><td class="right">                       label = q_("Equator");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">case HORIZON:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       frameType = StelCore::FrameAltAz;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       label = q_("Horizon");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SkyLine::~SkyLine()</td><td> </td><td class="right">SkyLine::~SkyLine()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SkyLine::setFontSize(double newFontSize)</td><td> </td><td class="right">void SkyLine::setFontSize(double newFontSize)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       font.setPixelSize(newFontSize);</td><td> </td><td class="right">       font.setPixelSize(newFontSize);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SkyLine::draw(StelCore *core) const</td><td> </td><td class="right">void SkyLine::draw(StelCore *core) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!fader.getInterstate())</td><td> </td><td class="right">       if (!fader.getInterstate())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjectorP prj = core-&gt;getProjection(frameType);</td><td> </td><td class="rblock">       StelProjectorP prj = core-&gt;getProjection(frameType<span class="insert">, frameType!=StelC
ore::FrameAltAz ? StelCore::RefractionAuto : StelCore::RefractionOff</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Get the bounding halfspace</td><td> </td><td class="right">       // Get the bounding halfspace</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const SphericalCap&amp; viewPortSphericalCap = prj-&gt;getBoundingCap();</td><td> </td><td class="right">       const SphericalCap&amp; viewPortSphericalCap = prj-&gt;getBoundingCap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Initialize a painter and set openGL state</td><td> </td><td class="right">       // Initialize a painter and set openGL state</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelPainter sPainter(prj);</td><td> </td><td class="right">       StelPainter sPainter(prj);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sPainter.setColor(color[0], color[1], color[2], fader.getInterstate(
));</td><td> </td><td class="right">       sPainter.setColor(color[0], color[1], color[2], fader.getInterstate(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       glEnable(GL_BLEND);</td><td> </td><td class="right">       glEnable(GL_BLEND);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA); // Normal transpa
rency mode</td><td> </td><td class="right">       glBlendFunc(GL_SRC_ALPHA, GL_ONE_MINUS_SRC_ALPHA); // Normal transpa
rency mode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec4f textColor(color[0], color[1], color[2], 0);</td><td> </td><td class="right">       Vec4f textColor(color[0], color[1], color[2], 0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       textColor*=2;</td><td> </td><td class="right">       textColor*=2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       textColor[3]=fader.getInterstate();</td><td> </td><td class="right">       textColor[3]=fader.getInterstate();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ViewportEdgeIntersectCallbackData userData(&amp;sPainter);</td><td> </td><td class="right">       ViewportEdgeIntersectCallbackData userData(&amp;sPainter);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sPainter.setFont(font);</td><td> </td><td class="right">       sPainter.setFont(font);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       userData.textColor = textColor;</td><td> </td><td class="right">       userData.textColor = textColor;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       userData.text = label;</td><td> </td><td class="right">       userData.text = label;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                           </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       /////////////////////////////////////////////////</td><td> </td><td class="right">       /////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Draw the line</td><td> </td><td class="right">       // Draw the line</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SphericalCap meridianSphericalCap(Vec3d(0,0,1), 0);</td><td> </td><td class="right">       SphericalCap meridianSphericalCap(Vec3d(0,0,1), 0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d fpt(1,0,0);</td><td> </td><td class="right">       Vec3d fpt(1,0,0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (line_type==MERIDIAN)</td><td> </td><td class="right">       if (line_type==MERIDIAN)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               meridianSphericalCap.n.set(0,1,0);</td><td> </td><td class="right">               meridianSphericalCap.n.set(0,1,0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d p1, p2;</td><td> </td><td class="right">       Vec3d p1, p2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 616</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 628</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">GridLinesMgr::GridLinesMgr()</td><td> </td><td class="right">GridLinesMgr::GridLinesMgr()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setObjectName("GridLinesMgr");</td><td> </td><td class="right">       setObjectName("GridLinesMgr");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equGrid = new SkyGrid(StelCore::FrameEquinoxEqu);</td><td> </td><td class="right">       equGrid = new SkyGrid(StelCore::FrameEquinoxEqu);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equJ2000Grid = new SkyGrid(StelCore::FrameJ2000);</td><td> </td><td class="right">       equJ2000Grid = new SkyGrid(StelCore::FrameJ2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticGrid = new SkyGrid(StelCore::FrameGalactic);</td><td> </td><td class="right">       galacticGrid = new SkyGrid(StelCore::FrameGalactic);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       aziGrid = new SkyGrid(StelCore::FrameAltAz);</td><td> </td><td class="right">       aziGrid = new SkyGrid(StelCore::FrameAltAz);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorLine = new SkyLine(SkyLine::EQUATOR);</td><td> </td><td class="right">       equatorLine = new SkyLine(SkyLine::EQUATOR);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticLine = new SkyLine(SkyLine::ECLIPTIC);</td><td> </td><td class="right">       eclipticLine = new SkyLine(SkyLine::ECLIPTIC);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       meridianLine = new SkyLine(SkyLine::MERIDIAN);</td><td> </td><td class="right">       meridianLine = new SkyLine(SkyLine::MERIDIAN);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       horizonLine = new SkyLine(SkyLine::HORIZON);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">GridLinesMgr::~GridLinesMgr()</td><td> </td><td class="right">GridLinesMgr::~GridLinesMgr()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete equGrid;</td><td> </td><td class="right">       delete equGrid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete equJ2000Grid;</td><td> </td><td class="right">       delete equJ2000Grid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete galacticGrid;</td><td> </td><td class="right">       delete galacticGrid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete aziGrid;</td><td> </td><td class="right">       delete aziGrid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete equatorLine;</td><td> </td><td class="right">       delete equatorLine;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete eclipticLine;</td><td> </td><td class="right">       delete eclipticLine;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete meridianLine;</td><td> </td><td class="right">       delete meridianLine;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       delete horizonLine;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/*************************************************************************</td><td> </td><td class="right">/*************************************************************************</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> Reimplementation of the getCallOrder method</td><td> </td><td class="right"> Reimplementation of the getCallOrder method</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">*************************************************************************/</td><td> </td><td class="right">*************************************************************************/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double GridLinesMgr::getCallOrder(StelModuleActionName actionName) const</td><td> </td><td class="right">double GridLinesMgr::getCallOrder(StelModuleActionName actionName) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (actionName==StelModule::ActionDraw)</td><td> </td><td class="right">       if (actionName==StelModule::ActionDraw)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return StelApp::getInstance().getModuleMgr().getModule("Nebu
laMgr")-&gt;getCallOrder(actionName)+10;</td><td> </td><td class="right">               return StelApp::getInstance().getModuleMgr().getModule("Nebu
laMgr")-&gt;getCallOrder(actionName)+10;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return 0;</td><td> </td><td class="right">       return 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 651</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 665</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSettings* conf = StelApp::getInstance().getSettings();</td><td> </td><td class="right">       QSettings* conf = StelApp::getInstance().getSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(conf);</td><td> </td><td class="right">       Q_ASSERT(conf);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagAzimuthalGrid(conf-&gt;value("viewing/flag_azimuthal_grid").toBo
ol());</td><td> </td><td class="right">       setFlagAzimuthalGrid(conf-&gt;value("viewing/flag_azimuthal_grid").toBo
ol());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEquatorGrid(conf-&gt;value("viewing/flag_equatorial_grid").toBoo
l());</td><td> </td><td class="right">       setFlagEquatorGrid(conf-&gt;value("viewing/flag_equatorial_grid").toBoo
l());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEquatorJ2000Grid(conf-&gt;value("viewing/flag_equatorial_J2000_g
rid").toBool());</td><td> </td><td class="right">       setFlagEquatorJ2000Grid(conf-&gt;value("viewing/flag_equatorial_J2000_g
rid").toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagGalacticGrid(conf-&gt;value("viewing/flag_galactic_grid").toBool
());</td><td> </td><td class="right">       setFlagGalacticGrid(conf-&gt;value("viewing/flag_galactic_grid").toBool
());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEquatorLine(conf-&gt;value("viewing/flag_equator_line").toBool()
);</td><td> </td><td class="right">       setFlagEquatorLine(conf-&gt;value("viewing/flag_equator_line").toBool()
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEclipticLine(conf-&gt;value("viewing/flag_ecliptic_line").toBool
());</td><td> </td><td class="right">       setFlagEclipticLine(conf-&gt;value("viewing/flag_ecliptic_line").toBool
());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagMeridianLine(conf-&gt;value("viewing/flag_meridian_line").toBool
());</td><td> </td><td class="right">       setFlagMeridianLine(conf-&gt;value("viewing/flag_meridian_line").toBool
());</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">setFlagHorizonLine(conf-&gt;value("viewing/flag_horizon_line").toBool()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(&amp;StelApp::getInstance(), SIGNAL(colorSchemeChanged(const QSt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ring&amp;)), this, SLOT(setStelStyle(const QString&amp;)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::update(double deltaTime)</td><td> </td><td class="right">void GridLinesMgr::update(double deltaTime)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Update faders</td><td> </td><td class="right">       // Update faders</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       equGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equJ2000Grid-&gt;update(deltaTime);</td><td> </td><td class="right">       equJ2000Grid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       galacticGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       aziGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       aziGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorLine-&gt;update(deltaTime);</td><td> </td><td class="right">       equatorLine-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticLine-&gt;update(deltaTime);</td><td> </td><td class="right">       eclipticLine-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       meridianLine-&gt;update(deltaTime);</td><td> </td><td class="right">       meridianLine-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       horizonLine-&gt;update(deltaTime);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::draw(StelCore* core)</td><td> </td><td class="right">void GridLinesMgr::draw(StelCore* core)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equGrid-&gt;draw(core);</td><td> </td><td class="right">       equGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticGrid-&gt;draw(core);</td><td> </td><td class="right">       galacticGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equJ2000Grid-&gt;draw(core);</td><td> </td><td class="right">       equJ2000Grid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       aziGrid-&gt;draw(core);</td><td> </td><td class="right">       aziGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorLine-&gt;draw(core);</td><td> </td><td class="right">       equatorLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticLine-&gt;draw(core);</td><td> </td><td class="right">       eclipticLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       meridianLine-&gt;draw(core);</td><td> </td><td class="right">       meridianLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       horizonLine-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setStelStyle(const QString&amp; section)</td><td> </td><td class="right">void GridLinesMgr::setStelStyle(const QString&amp; section)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSettings* conf = StelApp::getInstance().getSettings();</td><td> </td><td class="right">       QSettings* conf = StelApp::getInstance().getSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Load colors from config file</td><td> </td><td class="right">       // Load colors from config file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString defaultColor = conf-&gt;value(section+"/default_color").toStrin
g();</td><td> </td><td class="right">       QString defaultColor = conf-&gt;value(section+"/default_color").toStrin
g();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorEquatorGrid(StelUtils::strToVec3f(conf-&gt;value(section+"/equa
torial_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorEquatorGrid(StelUtils::strToVec3f(conf-&gt;value(section+"/equa
torial_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorEquatorJ2000Grid(StelUtils::strToVec3f(conf-&gt;value(section+"
/equatorial_J2000_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorEquatorJ2000Grid(StelUtils::strToVec3f(conf-&gt;value(section+"
/equatorial_J2000_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorGalacticGrid(StelUtils::strToVec3f(conf-&gt;value(section+"/gal
actic_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorGalacticGrid(StelUtils::strToVec3f(conf-&gt;value(section+"/gal
actic_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorAzimuthalGrid(StelUtils::strToVec3f(conf-&gt;value(section+"/az
imuthal_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorAzimuthalGrid(StelUtils::strToVec3f(conf-&gt;value(section+"/az
imuthal_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorEquatorLine(StelUtils::strToVec3f(conf-&gt;value(section+"/equa
tor_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorEquatorLine(StelUtils::strToVec3f(conf-&gt;value(section+"/equa
tor_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorEclipticLine(StelUtils::strToVec3f(conf-&gt;value(section+"/ecl
iptic_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorEclipticLine(StelUtils::strToVec3f(conf-&gt;value(section+"/ecl
iptic_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorMeridianLine(StelUtils::strToVec3f(conf-&gt;value(section+"/mer
idian_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorMeridianLine(StelUtils::strToVec3f(conf-&gt;value(section+"/mer
idian_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       setColorHorizonLine(StelUtils::strToVec3f(conf-&gt;value(section+"/hori
zon_color", defaultColor).toString()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Set flag for displaying Azimuthal Grid</td><td> </td><td class="right">//! Set flag for displaying Azimuthal Grid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setFlagAzimuthalGrid(bool b) {aziGrid-&gt;setFlagshow(b);}</td><td> </td><td class="right">void GridLinesMgr::setFlagAzimuthalGrid(bool b) {aziGrid-&gt;setFlagshow(b);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get flag for displaying Azimuthal Grid</td><td> </td><td class="right">//! Get flag for displaying Azimuthal Grid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool GridLinesMgr::getFlagAzimuthalGrid(void) const {return aziGrid-&gt;getFla
gshow();}</td><td> </td><td class="right">bool GridLinesMgr::getFlagAzimuthalGrid(void) const {return aziGrid-&gt;getFla
gshow();}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3f GridLinesMgr::getColorAzimuthalGrid(void) const {return aziGrid-&gt;getC
olor();}</td><td> </td><td class="right">Vec3f GridLinesMgr::getColorAzimuthalGrid(void) const {return aziGrid-&gt;getC
olor();}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Set flag for displaying Equatorial Grid</td><td> </td><td class="right">//! Set flag for displaying Equatorial Grid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setFlagEquatorGrid(bool b) {equGrid-&gt;setFlagshow(b);}</td><td> </td><td class="right">void GridLinesMgr::setFlagEquatorGrid(bool b) {equGrid-&gt;setFlagshow(b);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 733</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 752</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get flag for displaying Ecliptic Line</td><td> </td><td class="right">//! Get flag for displaying Ecliptic Line</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool GridLinesMgr::getFlagEclipticLine(void) const {return eclipticLine-&gt;ge
tFlagshow();}</td><td> </td><td class="right">bool GridLinesMgr::getFlagEclipticLine(void) const {return eclipticLine-&gt;ge
tFlagshow();}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3f GridLinesMgr::getColorEclipticLine(void) const {return eclipticLine-&gt;
getColor();}</td><td> </td><td class="right">Vec3f GridLinesMgr::getColorEclipticLine(void) const {return eclipticLine-&gt;
getColor();}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Set flag for displaying Meridian Line</td><td> </td><td class="right">//! Set flag for displaying Meridian Line</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setFlagMeridianLine(bool b) {meridianLine-&gt;setFlagshow(b
);}</td><td> </td><td class="right">void GridLinesMgr::setFlagMeridianLine(bool b) {meridianLine-&gt;setFlagshow(b
);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get flag for displaying Meridian Line</td><td> </td><td class="right">//! Get flag for displaying Meridian Line</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool GridLinesMgr::getFlagMeridianLine(void) const {return meridianLine-&gt;ge
tFlagshow();}</td><td> </td><td class="right">bool GridLinesMgr::getFlagMeridianLine(void) const {return meridianLine-&gt;ge
tFlagshow();}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3f GridLinesMgr::getColorMeridianLine(void) const {return meridianLine-&gt;
getColor();}</td><td> </td><td class="right">Vec3f GridLinesMgr::getColorMeridianLine(void) const {return meridianLine-&gt;
getColor();}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">//! Set flag for displaying Horizon Line</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void GridLinesMgr::setFlagHorizonLine(bool b) {horizonLine-&gt;setFlagshow(b);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">//! Get flag for displaying Horizon Line</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">bool GridLinesMgr::getFlagHorizonLine(void) const {return horizonLine-&gt;getF</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">lagshow();}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Vec3f GridLinesMgr::getColorHorizonLine(void) const {return horizonLine-&gt;ge</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tColor();}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setColorAzimuthalGrid(const Vec3f&amp; v) { aziGrid-&gt;setColo
r(v);}</td><td> </td><td class="right">void GridLinesMgr::setColorAzimuthalGrid(const Vec3f&amp; v) { aziGrid-&gt;setColo
r(v);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setColorEquatorGrid(const Vec3f&amp; v) { equGrid-&gt;setColor(
v);}</td><td> </td><td class="right">void GridLinesMgr::setColorEquatorGrid(const Vec3f&amp; v) { equGrid-&gt;setColor(
v);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setColorEquatorJ2000Grid(const Vec3f&amp; v) { equJ2000Grid-
&gt;setColor(v);}</td><td> </td><td class="right">void GridLinesMgr::setColorEquatorJ2000Grid(const Vec3f&amp; v) { equJ2000Grid-
&gt;setColor(v);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setColorGalacticGrid(const Vec3f&amp; v) { galacticGrid-&gt;set
Color(v);}</td><td> </td><td class="right">void GridLinesMgr::setColorGalacticGrid(const Vec3f&amp; v) { galacticGrid-&gt;set
Color(v);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setColorEquatorLine(const Vec3f&amp; v) { equatorLine-&gt;setCo
lor(v);}</td><td> </td><td class="right">void GridLinesMgr::setColorEquatorLine(const Vec3f&amp; v) { equatorLine-&gt;setCo
lor(v);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setColorEclipticLine(const Vec3f&amp; v) { eclipticLine-&gt;set
Color(v);}</td><td> </td><td class="right">void GridLinesMgr::setColorEclipticLine(const Vec3f&amp; v) { eclipticLine-&gt;set
Color(v);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setColorMeridianLine(const Vec3f&amp; v) { meridianLine-&gt;set
Color(v);}</td><td> </td><td class="right">void GridLinesMgr::setColorMeridianLine(const Vec3f&amp; v) { meridianLine-&gt;set
Color(v);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void GridLinesMgr::setColorHorizonLine(const Vec3f&amp; v) { horizonLine-&gt;setCo
lor(v);}</span></td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 16 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>7 lines changed or deleted</i></th><th><i> </i></th><th><i>38 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
