<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: SolarSystem.cpp - SolarSystem.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;SolarSystem.cpp&nbsp;</th><th> </th><th>&nbsp;SolarSystem.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left">/*</td><td> </td><td class="right">/*</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Stellarium</td><td> </td><td class="right"> * Stellarium</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Copyright (C) 2002 Fabien Chereau</td><td> </td><td class="right"> * Copyright (C) 2002 Fabien Chereau</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Copyright (C) 2010 Bogdan Marinov</td><td> </td><td class="right"> * Copyright (C) 2010 Bogdan Marinov</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> * Copyright (C) 2011 Alexander Wolf</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * This program is free software; you can redistribute it and/or</td><td> </td><td class="right"> * This program is free software; you can redistribute it and/or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * modify it under the terms of the GNU General Public License</td><td> </td><td class="right"> * modify it under the terms of the GNU General Public License</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * as published by the Free Software Foundation; either version 2</td><td> </td><td class="right"> * as published by the Free Software Foundation; either version 2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * of the License, or (at your option) any later version.</td><td> </td><td class="right"> * of the License, or (at your option) any later version.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * This program is distributed in the hope that it will be useful,</td><td> </td><td class="right"> * This program is distributed in the hope that it will be useful,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td> </td><td class="right"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td> </td><td class="right"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * GNU General Public License for more details.</td><td> </td><td class="right"> * GNU General Public License for more details.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * You should have received a copy of the GNU General Public License</td><td> </td><td class="right"> * You should have received a copy of the GNU General Public License</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * along with this program; if not, write to the Free Software</td><td> </td><td class="right"> * along with this program; if not, write to the Free Software</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td> </td><td class="right"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> */</td><td> </td><td class="right"> */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "SolarSystem.hpp"</td><td> </td><td class="right">#include "SolarSystem.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTexture.hpp"</td><td> </td><td class="right">#include "StelTexture.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "stellplanet.h"</td><td> </td><td class="right">#include "stellplanet.h"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "Orbit.hpp"</td><td> </td><td class="right">#include "Orbit.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">#include "StelNavigator.hpp"</span></td><td> </td><td class="rblock"><span class="insert">                                                                           </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelProjector.hpp"</td><td> </td><td class="right">#include "StelProjector.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelApp.hpp"</td><td> </td><td class="right">#include "StelApp.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelCore.hpp"</td><td> </td><td class="right">#include "StelCore.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTextureMgr.hpp"</td><td> </td><td class="right">#include "StelTextureMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelObjectMgr.hpp"</td><td> </td><td class="right">#include "StelObjectMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelLocaleMgr.hpp"</td><td> </td><td class="right">#include "StelLocaleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelSkyCultureMgr.hpp"</td><td> </td><td class="right">#include "StelSkyCultureMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelFileMgr.hpp"</td><td> </td><td class="right">#include "StelFileMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelModuleMgr.hpp"</td><td> </td><td class="right">#include "StelModuleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelIniParser.hpp"</td><td> </td><td class="right">#include "StelIniParser.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "Planet.hpp"</td><td> </td><td class="right">#include "Planet.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "MinorPlanet.hpp"</td><td> </td><td class="right">#include "MinorPlanet.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "Comet.hpp"</td><td> </td><td class="right">#include "Comet.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">#include "StelNavigator.hpp"</span></td><td> </td><td class="rblock"><span class="insert">                                                                           </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelSkyDrawer.hpp"</td><td> </td><td class="right">#include "StelSkyDrawer.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelUtils.hpp"</td><td> </td><td class="right">#include "StelUtils.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelPainter.hpp"</td><td> </td><td class="right">#include "StelPainter.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "TrailGroup.hpp"</td><td> </td><td class="right">#include "TrailGroup.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include "RefractionExtinction.hpp"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;functional&gt;</td><td> </td><td class="right">#include &lt;functional&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;algorithm&gt;</td><td> </td><td class="right">#include &lt;algorithm&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QTextStream&gt;</td><td> </td><td class="right">#include &lt;QTextStream&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QSettings&gt;</td><td> </td><td class="right">#include &lt;QSettings&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QVariant&gt;</td><td> </td><td class="right">#include &lt;QVariant&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QString&gt;</td><td> </td><td class="right">#include &lt;QString&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QStringList&gt;</td><td> </td><td class="right">#include &lt;QStringList&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QMap&gt;</td><td> </td><td class="right">#include &lt;QMap&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 130</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 132</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagHints(conf-&gt;value("astro/flag_planets_hints").toBool());</td><td> </td><td class="right">       setFlagHints(conf-&gt;value("astro/flag_planets_hints").toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagLabels(conf-&gt;value("astro/flag_planets_labels", true).toBool(
));</td><td> </td><td class="right">       setFlagLabels(conf-&gt;value("astro/flag_planets_labels", true).toBool(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setLabelsAmount(conf-&gt;value("astro/labels_amount", 3.).toFloat());</td><td> </td><td class="right">       setLabelsAmount(conf-&gt;value("astro/labels_amount", 3.).toFloat());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagOrbits(conf-&gt;value("astro/flag_planets_orbits").toBool());</td><td> </td><td class="right">       setFlagOrbits(conf-&gt;value("astro/flag_planets_orbits").toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagLightTravelTime(conf-&gt;value("astro/flag_light_travel_time", f
alse).toBool());</td><td> </td><td class="right">       setFlagLightTravelTime(conf-&gt;value("astro/flag_light_travel_time", f
alse).toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       recreateTrails();</td><td> </td><td class="right">       recreateTrails();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagTrails(conf-&gt;value("astro/flag_object_trails", false).toBool(
));</td><td> </td><td class="right">       setFlagTrails(conf-&gt;value("astro/flag_object_trails", false).toBool(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">GETSTELMODULE(StelObjectMgr)-&gt;registerStelObjectMgr(this);</span></td><td> </td><td class="rblock">       <span class="insert">StelObjectMgr *objectManager = GETSTELMODULE(StelObjectMgr);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       objectManager-&gt;registerStelObjectMgr(this);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(objectManager, SIGNAL(selectedObjectChanged(StelModule::Stel</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ModuleSelectAction)),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       this, SLOT(selectedObjectChange(StelModule::StelModu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">leSelectAction)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       texPointer = StelApp::getInstance().getTextureManager().createTextur
e("textures/pointeur4.png");</td><td> </td><td class="right">       texPointer = StelApp::getInstance().getTextureManager().createTextur
e("textures/pointeur4.png");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Planet::hintCircleTex = StelApp::getInstance().getTextureManager().c
reateTexture("textures/planet-indicator.png");</td><td> </td><td class="right">       Planet::hintCircleTex = StelApp::getInstance().getTextureManager().c
reateTexture("textures/planet-indicator.png");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">StelApp *app = &amp;StelApp::getInstance();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(app, SIGNAL(languageChanged()), this, SLOT(updateI18n()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(app, SIGNAL(colorSchemeChanged(const QString&amp;)), this, SLOT(</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">setStelStyle(const QString&amp;)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SolarSystem::recreateTrails()</td><td> </td><td class="right">void SolarSystem::recreateTrails()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Create a trail group containing all the planets orbiting the sun 
(not including satellites)</td><td> </td><td class="right">       // Create a trail group containing all the planets orbiting the sun 
(not including satellites)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (allTrails!=NULL)</td><td> </td><td class="right">       if (allTrails!=NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete allTrails;</td><td> </td><td class="right">               delete allTrails;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       allTrails = new TrailGroup(365.f);</td><td> </td><td class="right">       allTrails = new TrailGroup(365.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const PlanetP&amp; p, getSun()-&gt;satellites)</td><td> </td><td class="right">       foreach (const PlanetP&amp; p, getSun()-&gt;satellites)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               allTrails-&gt;addObject((QSharedPointer&lt;StelObject&gt;)p, &amp;trailCo
lor);</td><td> </td><td class="right">               allTrails-&gt;addObject((QSharedPointer&lt;StelObject&gt;)p, &amp;trailCo
lor);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SolarSystem::drawPointer(const StelCore* core)</td><td> </td><td class="right">void SolarSystem::drawPointer(const StelCore* core)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       const StelNavigator* nav = core-&gt;getNavigator();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const StelProjectorP prj = core-&gt;getProjection(StelCore::FrameJ2000)
;</td><td> </td><td class="right">       const StelProjectorP prj = core-&gt;getProjection(StelCore::FrameJ2000)
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const QList&lt;StelObjectP&gt; newSelected = GETSTELMODULE(StelObjectMgr)-
&gt;getSelectedObject("Planet");</td><td> </td><td class="right">       const QList&lt;StelObjectP&gt; newSelected = GETSTELMODULE(StelObjectMgr)-
&gt;getSelectedObject("Planet");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!newSelected.empty())</td><td> </td><td class="right">       if (!newSelected.empty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               const StelObjectP obj = newSelected[0];</td><td> </td><td class="right">               const StelObjectP obj = newSelected[0];</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               Vec3d <span class="delete">pos=obj-&gt;getJ2000EquatorialPos(nav);</span></td><td> </td><td class="rblock">               Vec3d <span class="insert">pos=obj-&gt;getJ2000EquatorialPos(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d screenpos;</td><td> </td><td class="right">               Vec3d screenpos;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Compute 2D pos and return if outside screen</td><td> </td><td class="right">               // Compute 2D pos and return if outside screen</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!prj-&gt;project(pos, screenpos))</td><td> </td><td class="right">               if (!prj-&gt;project(pos, screenpos))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelPainter sPainter(prj);</td><td> </td><td class="right">               StelPainter sPainter(prj);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               sPainter.setColor(1.0f,0.3f,0.3f);</td><td> </td><td class="right">               sPainter.setColor(1.0f,0.3f,0.3f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               float size = obj-&gt;getAngularSize(core)*M_PI/180.*prj-&gt;getPix
elPerRadAtCenter()*2.;</td><td> </td><td class="right">               float size = obj-&gt;getAngularSize(core)*M_PI/180.*prj-&gt;getPix
elPerRadAtCenter()*2.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               size+=40.f + 10.f*std::sin(2.f * StelApp::getInstance().getT
otalRunTime());</td><td> </td><td class="right">               size+=40.f + 10.f*std::sin(2.f * StelApp::getInstance().getT
otalRunTime());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 360</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 370</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               qWarning() &lt;&lt; "ERROR : can't find parent sol
ar system body for " &lt;&lt; englishName;</td><td> </td><td class="right">                               qWarning() &lt;&lt; "ERROR : can't find parent sol
ar system body for " &lt;&lt; englishName;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               //abort();</td><td> </td><td class="right">                               //abort();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               const QString funcName = pd.value(secname+"/coord_func").toS
tring();</td><td> </td><td class="right">               const QString funcName = pd.value(secname+"/coord_func").toS
tring();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               posFuncType posfunc=NULL;</td><td> </td><td class="right">               posFuncType posfunc=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               void* userDataPtr=NULL;</td><td> </td><td class="right">               void* userDataPtr=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               OsulatingFunctType *osculatingFunc = 0;</td><td> </td><td class="rblock">               Os<span class="insert">c</span>ulatingFunctType *osculatingFunc = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               bool closeOrbit = pd.value(secname+"/closeOrbit", true).toBo
ol();</td><td> </td><td class="right">               bool closeOrbit = pd.value(secname+"/closeOrbit", true).toBo
ol();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (funcName=="ell_orbit")</td><td> </td><td class="right">               if (funcName=="ell_orbit")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Read the orbital elements</td><td> </td><td class="right">                       // Read the orbital elements</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       const double epoch = pd.value(secname+"/orbit_Epoch"
,J2000).toDouble();</td><td> </td><td class="right">                       const double epoch = pd.value(secname+"/orbit_Epoch"
,J2000).toDouble();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       const double eccentricity = pd.value(secname+"/orbit
_Eccentricity").toDouble();</td><td> </td><td class="right">                       const double eccentricity = pd.value(secname+"/orbit
_Eccentricity").toDouble();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (eccentricity &gt;= 1.0) closeOrbit = false;</td><td> </td><td class="right">                       if (eccentricity &gt;= 1.0) closeOrbit = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double pericenterDistance = pd.value(secname+"/orbit
_PericenterDistance",-1e100).toDouble();</td><td> </td><td class="right">                       double pericenterDistance = pd.value(secname+"/orbit
_PericenterDistance",-1e100).toDouble();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double semi_major_axis;</td><td> </td><td class="right">                       double semi_major_axis;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 428</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 438</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double mean_anomaly = pd.value(secname+"/orbit_MeanA
nomaly",-1e100).toDouble();</td><td> </td><td class="right">                       double mean_anomaly = pd.value(secname+"/orbit_MeanA
nomaly",-1e100).toDouble();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double mean_longitude;</td><td> </td><td class="right">                       double mean_longitude;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (mean_anomaly &lt;= -1e100) {</td><td> </td><td class="right">                       if (mean_anomaly &lt;= -1e100) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               mean_longitude = pd.value(secname+"/orbit_Me
anLongitude").toDouble()*(M_PI/180.0);</td><td> </td><td class="right">                               mean_longitude = pd.value(secname+"/orbit_Me
anLongitude").toDouble()*(M_PI/180.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               mean_anomaly = mean_longitude - long_of_peri
center;</td><td> </td><td class="right">                               mean_anomaly = mean_longitude - long_of_peri
center;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       } else {</td><td> </td><td class="right">                       } else {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               mean_anomaly *= (M_PI/180.0);</td><td> </td><td class="right">                               mean_anomaly *= (M_PI/180.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               mean_longitude = mean_anomaly + long_of_peri
center;</td><td> </td><td class="right">                               mean_longitude = mean_anomaly + long_of_peri
center;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // when the parent is the sun use ecliptic rathe<span class="delete"> tha
</span>n sun equator:</td><td> </td><td class="rblock">                       // when the parent is the sun use ecliptic rathe<span class="insert">r th
a</span>n sun equator:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       const double parentRotObliquity = parent-&gt;getParent(
)</td><td> </td><td class="right">                       const double parentRotObliquity = parent-&gt;getParent(
)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
              ? parent-&gt;getRotObliquity()</td><td> </td><td class="right">                                                                           
              ? parent-&gt;getRotObliquity()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
              : 0.0;</td><td> </td><td class="right">                                                                           
              : 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       const double parent_rot_asc_node = parent-&gt;getParent
()</td><td> </td><td class="right">                       const double parent_rot_asc_node = parent-&gt;getParent
()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
              ? parent-&gt;getRotAscendingnode()</td><td> </td><td class="right">                                                                           
              ? parent-&gt;getRotAscendingnode()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
              : 0.0;</td><td> </td><td class="right">                                                                           
              : 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double parent_rot_j2000_longitude = 0.0;</td><td> </td><td class="right">                       double parent_rot_j2000_longitude = 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (parent-&gt;getParent()) {</td><td> </td><td class="right">                       if (parent-&gt;getParent()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const double c_obl = cos(parentRotObliquity)
;</td><td> </td><td class="right">                               const double c_obl = cos(parentRotObliquity)
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const double s_obl = sin(parentRotObliquity)
;</td><td> </td><td class="right">                               const double s_obl = sin(parentRotObliquity)
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const double c_nod = cos(parent_rot_asc_node
);</td><td> </td><td class="right">                               const double c_nod = cos(parent_rot_asc_node
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const double s_nod = sin(parent_rot_asc_node
);</td><td> </td><td class="right">                               const double s_nod = sin(parent_rot_asc_node
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const Vec3d OrbitAxis0( c_nod,       s_nod, 
       0.0);</td><td> </td><td class="right">                               const Vec3d OrbitAxis0( c_nod,       s_nod, 
       0.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const Vec3d OrbitAxis1(-s_nod*c_obl, c_nod*c
_obl,s_obl);</td><td> </td><td class="right">                               const Vec3d OrbitAxis1(-s_nod*c_obl, c_nod*c
_obl,s_obl);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const Vec3d OrbitPole(  s_nod*s_obl,-c_nod*s
_obl,c_obl);</td><td> </td><td class="right">                               const Vec3d OrbitPole(  s_nod*s_obl,-c_nod*s
_obl,c_obl);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               const Vec3d J2000Pole(Stel<span class="delete">Navigator::matJ200
0ToVs</span>op87.multiplyWithoutTranslation(Vec3d(0,0,1)));</td><td> </td><td class="rblock">                               const Vec3d J2000Pole(Stel<span class="insert">Core::matJ2000ToVs
</span>op87.multiplyWithoutTranslation(Vec3d(0,0,1)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               Vec3d J2000NodeOrigin(J2000Pole^OrbitPole);</td><td> </td><td class="right">                               Vec3d J2000NodeOrigin(J2000Pole^OrbitPole);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               J2000NodeOrigin.normalize();</td><td> </td><td class="right">                               J2000NodeOrigin.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               parent_rot_j2000_longitude = atan2(J2000Node
Origin*OrbitAxis1,J2000NodeOrigin*OrbitAxis0);</td><td> </td><td class="right">                               parent_rot_j2000_longitude = atan2(J2000Node
Origin*OrbitAxis1,J2000NodeOrigin*OrbitAxis0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Create an elliptical orbit</td><td> </td><td class="right">                       // Create an elliptical orbit</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       EllipticalOrbit *orb = new EllipticalOrbit(pericente
rDistance,</td><td> </td><td class="right">                       EllipticalOrbit *orb = new EllipticalOrbit(pericente
rDistance,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
                               eccentricity,</td><td> </td><td class="right">                                                                           
                               eccentricity,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
                               inclination,</td><td> </td><td class="right">                                                                           
                               inclination,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
                               ascending_node,</td><td> </td><td class="right">                                                                           
                               ascending_node,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 552</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 562</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
              : 0.0;</td><td> </td><td class="right">                                                                           
              : 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double parent_rot_j2000_longitude = 0.0;</td><td> </td><td class="right">                       double parent_rot_j2000_longitude = 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               if (parent-&gt;getParent()) {</td><td> </td><td class="right">                                               if (parent-&gt;getParent()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  const double c_obl = cos(
parentRotObliquity);</td><td> </td><td class="right">                                                  const double c_obl = cos(
parentRotObliquity);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  const double s_obl = sin(
parentRotObliquity);</td><td> </td><td class="right">                                                  const double s_obl = sin(
parentRotObliquity);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  const double c_nod = cos(
parent_rot_asc_node);</td><td> </td><td class="right">                                                  const double c_nod = cos(
parent_rot_asc_node);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  const double s_nod = sin(
parent_rot_asc_node);</td><td> </td><td class="right">                                                  const double s_nod = sin(
parent_rot_asc_node);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  const Vec3d OrbitAxis0( c
_nod,       s_nod,        0.0);</td><td> </td><td class="right">                                                  const Vec3d OrbitAxis0( c
_nod,       s_nod,        0.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  const Vec3d OrbitAxis1(-s
_nod*c_obl, c_nod*c_obl,s_obl);</td><td> </td><td class="right">                                                  const Vec3d OrbitAxis1(-s
_nod*c_obl, c_nod*c_obl,s_obl);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  const Vec3d OrbitPole(  s
_nod*s_obl,-c_nod*s_obl,c_obl);</td><td> </td><td class="right">                                                  const Vec3d OrbitPole(  s
_nod*s_obl,-c_nod*s_obl,c_obl);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                  const Vec3d J2000Pole(Ste
l<span class="delete">Navigator</span>::matJ2000ToVsop87.multiplyWithoutTranslation(Vec3d(0,0,1)));</td><td> </td><td class="rblock">                                                  const Vec3d J2000Pole(Ste
l<span class="insert">Core</span>::matJ2000ToVsop87.multiplyWithoutTranslation(Vec3d(0,0,1)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  Vec3d J2000NodeOrigin(J20
00Pole^OrbitPole);</td><td> </td><td class="right">                                                  Vec3d J2000NodeOrigin(J20
00Pole^OrbitPole);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  J2000NodeOrigin.normalize
();</td><td> </td><td class="right">                                                  J2000NodeOrigin.normalize
();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                  parent_rot_j2000_longitud
e = atan2(J2000NodeOrigin*OrbitAxis1,J2000NodeOrigin*OrbitAxis0);</td><td> </td><td class="right">                                                  parent_rot_j2000_longitud
e = atan2(J2000NodeOrigin*OrbitAxis1,J2000NodeOrigin*OrbitAxis0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               }</td><td> </td><td class="right">                                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       CometOrbit *orb = new CometOrbit(pericenterDistance,</td><td> </td><td class="right">                       CometOrbit *orb = new CometOrbit(pericenterDistance,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
             eccentricity,</td><td> </td><td class="right">                                                                           
             eccentricity,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
             inclination,</td><td> </td><td class="right">                                                                           
             inclination,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
             ascending_node,</td><td> </td><td class="right">                                                                           
             ascending_node,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
             arg_of_pericenter,</td><td> </td><td class="right">                                                                           
             arg_of_pericenter,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                           
             time_at_pericenter,</td><td> </td><td class="right">                                                                           
             time_at_pericenter,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 808</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 818</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // NB: N pole as defined by IAU (NOT right hand rotation rul
e)</td><td> </td><td class="right">               // NB: N pole as defined by IAU (NOT right hand rotation rul
e)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // NB: J2000 epoch</td><td> </td><td class="right">               // NB: J2000 epoch</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double J2000NPoleRA = pd.value(secname+"/rot_pole_ra", 0.).t
oDouble()*M_PI/180.;</td><td> </td><td class="right">               double J2000NPoleRA = pd.value(secname+"/rot_pole_ra", 0.).t
oDouble()*M_PI/180.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double J2000NPoleDE = pd.value(secname+"/rot_pole_de", 0.).t
oDouble()*M_PI/180.;</td><td> </td><td class="right">               double J2000NPoleDE = pd.value(secname+"/rot_pole_de", 0.).t
oDouble()*M_PI/180.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(J2000NPoleRA || J2000NPoleDE)</td><td> </td><td class="right">               if(J2000NPoleRA || J2000NPoleDE)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       Vec3d J2000NPole;</td><td> </td><td class="right">                       Vec3d J2000NPole;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       StelUtils::spheToRect(J2000NPoleRA,J2000NPoleDE,J200
0NPole);</td><td> </td><td class="right">                       StelUtils::spheToRect(J2000NPoleRA,J2000NPoleDE,J200
0NPole);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       Vec3d vsop87Pole(Stel<span class="delete">Navigator::matJ2000ToVsop87.mul
tiply</span>WithoutTranslation(J2000NPole));</td><td> </td><td class="rblock">                       Vec3d vsop87Pole(Stel<span class="insert">Core::matJ2000ToVsop87.multiply
</span>WithoutTranslation(J2000NPole));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double ra, de;</td><td> </td><td class="right">                       double ra, de;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       StelUtils::rectToSphe(&amp;ra, &amp;de, vsop87Pole);</td><td> </td><td class="right">                       StelUtils::rectToSphe(&amp;ra, &amp;de, vsop87Pole);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       rotObliquity = (M_PI_2 - de);</td><td> </td><td class="right">                       rotObliquity = (M_PI_2 - de);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       rotAscNode = (ra + M_PI_2);</td><td> </td><td class="right">                       rotAscNode = (ra + M_PI_2);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // qDebug() &lt;&lt; "\tCalculated rotational obliquity: "
 &lt;&lt; rotObliquity*180./M_PI &lt;&lt; endl;</td><td> </td><td class="right">                       // qDebug() &lt;&lt; "\tCalculated rotational obliquity: "
 &lt;&lt; rotObliquity*180./M_PI &lt;&lt; endl;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // qDebug() &lt;&lt; "\tCalculated rotational ascending no
de: " &lt;&lt; rotAscNode*180./M_PI &lt;&lt; endl;</td><td> </td><td class="right">                       // qDebug() &lt;&lt; "\tCalculated rotational ascending no
de: " &lt;&lt; rotAscNode*180./M_PI &lt;&lt; endl;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 916</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 926</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Draw all the elements of the solar system</td><td> </td><td class="right">// Draw all the elements of the solar system</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// We are supposed to be in heliocentric coordinate</td><td> </td><td class="right">// We are supposed to be in heliocentric coordinate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SolarSystem::draw(StelCore* core)</td><td> </td><td class="right">void SolarSystem::draw(StelCore* core)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!flagShow)</td><td> </td><td class="right">       if (!flagShow)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">StelNavigator* nav = core-&gt;getNavigator();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Compute each Planet distance to the observer</td><td> </td><td class="right">       // Compute each Planet distance to the observer</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d obsHelioPos = <span class="delete">nav</span>-&gt;getObserverHeliocentricEclipticPos();</td><td> </td><td class="rblock">       Vec3d obsHelioPos = <span class="insert">core</span>-&gt;getObserverHeliocentricEclipticPos();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (PlanetP p, systemPlanets)</td><td> </td><td class="right">       foreach (PlanetP p, systemPlanets)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               p-&gt;computeDistance(obsHelioPos);</td><td> </td><td class="right">               p-&gt;computeDistance(obsHelioPos);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // And sort them from the furthest to the closest</td><td> </td><td class="right">       // And sort them from the furthest to the closest</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sort(systemPlanets.begin(),systemPlanets.end(),biggerDistance());</td><td> </td><td class="right">       sort(systemPlanets.begin(),systemPlanets.end(),biggerDistance());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (trailFader.getInterstate()&gt;0.0000001f)</td><td> </td><td class="right">       if (trailFader.getInterstate()&gt;0.0000001f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 1004</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 1012</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Search if any Planet is close to position given in earth equatorial posi
tion and return the distance</td><td> </td><td class="right">// Search if any Planet is close to position given in earth equatorial posi
tion and return the distance</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelObjectP SolarSystem::search(Vec3d pos, const StelCore* core) const</td><td> </td><td class="right">StelObjectP SolarSystem::search(Vec3d pos, const StelCore* core) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       pos.normalize();</td><td> </td><td class="right">       pos.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       PlanetP closest;</td><td> </td><td class="right">       PlanetP closest;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double cos_angle_closest = 0.;</td><td> </td><td class="right">       double cos_angle_closest = 0.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d equPos;</td><td> </td><td class="right">       Vec3d equPos;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const PlanetP&amp; p, systemPlanets)</td><td> </td><td class="right">       foreach (const PlanetP&amp; p, systemPlanets)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               equPos = p-&gt;getEquinoxEquatorialPos(core<span class="delete">-&gt;getNavigator()</span>);</td><td> </td><td class="rblock">               equPos = p-&gt;getEquinoxEquatorialPos(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               equPos.normalize();</td><td> </td><td class="right">               equPos.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double cos_ang_dist = equPos*pos;</td><td> </td><td class="right">               double cos_ang_dist = equPos*pos;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (cos_ang_dist&gt;cos_angle_closest)</td><td> </td><td class="right">               if (cos_ang_dist&gt;cos_angle_closest)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       closest = p;</td><td> </td><td class="right">                       closest = p;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       cos_angle_closest = cos_ang_dist;</td><td> </td><td class="right">                       cos_angle_closest = cos_ang_dist;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (cos_angle_closest&gt;0.999)</td><td> </td><td class="right">       if (cos_angle_closest&gt;0.999)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 1028</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 1036</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else return StelObjectP();</td><td> </td><td class="right">       else return StelObjectP();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Return a stl vector containing the planets located inside the limFov cir
cle around position v</td><td> </td><td class="right">// Return a stl vector containing the planets located inside the limFov cir
cle around position v</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QList&lt;StelObjectP&gt; SolarSystem::searchAround(const Vec3d&amp; vv, double limitF
ov, const StelCore* core) const</td><td> </td><td class="right">QList&lt;StelObjectP&gt; SolarSystem::searchAround(const Vec3d&amp; vv, double limitF
ov, const StelCore* core) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QList&lt;StelObjectP&gt; result;</td><td> </td><td class="right">       QList&lt;StelObjectP&gt; result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!getFlagPlanets())</td><td> </td><td class="right">       if (!getFlagPlanets())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return result;</td><td> </td><td class="right">               return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d v = core-&gt;<span class="delete">getNavigator()-&gt;</span>j2000ToEquinoxEqu(vv);</td><td> </td><td class="rblock">       Vec3d v = core-&gt;j2000ToEquinoxEqu(vv);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       v.normalize();</td><td> </td><td class="right">       v.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double cosLimFov = std::cos(limitFov * M_PI/180.);</td><td> </td><td class="right">       double cosLimFov = std::cos(limitFov * M_PI/180.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d equPos;</td><td> </td><td class="right">       Vec3d equPos;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const PlanetP&amp; p, systemPlanets)</td><td> </td><td class="right">       foreach (const PlanetP&amp; p, systemPlanets)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               equPos = p-&gt;getEquinoxEquatorialPos(core<span class="delete">-&gt;getNavigator()</span>);</td><td> </td><td class="rblock">               equPos = p-&gt;getEquinoxEquatorialPos(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               equPos.normalize();</td><td> </td><td class="right">               equPos.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (equPos*v&gt;=cosLimFov)</td><td> </td><td class="right">               if (equPos*v&gt;=cosLimFov)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       result.append(qSharedPointerCast&lt;StelObject&gt;(p));</td><td> </td><td class="right">                       result.append(qSharedPointerCast&lt;StelObject&gt;(p));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return result;</td><td> </td><td class="right">       return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">// Update i18 names from english names according to <span class="delete">passed</span> translator</td><td> </td><td class="rblock">// Update i18 names from english names according to <span class="insert">current</span> translator</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SolarSystem::updateI18n()</td><td> </td><td class="right">void SolarSystem::updateI18n()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelTranslator&amp; trans = StelApp::getInstance().getLocaleMgr().getApp
StelTranslator();</td><td> </td><td class="right">       StelTranslator&amp; trans = StelApp::getInstance().getLocaleMgr().getApp
StelTranslator();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (PlanetP p, systemPlanets)</td><td> </td><td class="right">       foreach (PlanetP p, systemPlanets)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               p-&gt;translateName(trans);</td><td> </td><td class="right">               p-&gt;translateName(trans);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString SolarSystem::getPlanetHashString(void)</td><td> </td><td class="right">QString SolarSystem::getPlanetHashString(void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString str;</td><td> </td><td class="right">       QString str;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 1208</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 1216</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (constw==objw)</td><td> </td><td class="right">               if (constw==objw)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       result &lt;&lt; p-&gt;getNameI18n();</td><td> </td><td class="right">                       result &lt;&lt; p-&gt;getNameI18n();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (result.size()==maxNbItem)</td><td> </td><td class="right">                       if (result.size()==maxNbItem)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               return result;</td><td> </td><td class="right">                               return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return result;</td><td> </td><td class="right">       return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void SolarSystem::selectedObjectChange<span class="delete">CallBack(</span>StelModuleSelectAction)</td><td> </td><td class="rblock">void SolarSystem::selectedObjectChange<span class="insert">(StelModule::</span>StelModuleSelectAction)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const QList&lt;StelObjectP&gt; newSelected = GETSTELMODULE(StelObjectMgr)-
&gt;getSelectedObject("Planet");</td><td> </td><td class="right">       const QList&lt;StelObjectP&gt; newSelected = GETSTELMODULE(StelObjectMgr)-
&gt;getSelectedObject("Planet");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!newSelected.empty())</td><td> </td><td class="right">       if (!newSelected.empty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               setSelected(qSharedPointerCast&lt;Planet&gt;(newSelected[0]));</td><td> </td><td class="right">               setSelected(qSharedPointerCast&lt;Planet&gt;(newSelected[0]));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Activate/Deactivate planets display</td><td> </td><td class="right">// Activate/Deactivate planets display</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SolarSystem::setFlagPlanets(bool b)</td><td> </td><td class="right">void SolarSystem::setFlagPlanets(bool b)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       flagShow=b;</td><td> </td><td class="right">       flagShow=b;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> line 1262</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> line 1270</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Get the list of all the planet english names</td><td> </td><td class="right">// Get the list of all the planet english names</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QStringList SolarSystem::getAllPlanetEnglishNames() const</td><td> </td><td class="right">QStringList SolarSystem::getAllPlanetEnglishNames() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QStringList res;</td><td> </td><td class="right">       QStringList res;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const PlanetP&amp; p, systemPlanets)</td><td> </td><td class="right">       foreach (const PlanetP&amp; p, systemPlanets)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               res.append(p-&gt;englishName);</td><td> </td><td class="right">               res.append(p-&gt;englishName);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return res;</td><td> </td><td class="right">       return res;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">QStringList SolarSystem::getAllPlanetLocalizedNames() const</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QStringList res;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       foreach (const PlanetP&amp; p, systemPlanets)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               res.append(p-&gt;nameI18);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return res;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SolarSystem::reloadPlanets()</td><td> </td><td class="right">void SolarSystem::reloadPlanets()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Save flag states</td><td> </td><td class="right">       //Save flag states</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool flagScaleMoon = getFlagMoonScale();</td><td> </td><td class="right">       bool flagScaleMoon = getFlagMoonScale();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float moonScale = getMoonScale();</td><td> </td><td class="right">       float moonScale = getMoonScale();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool flagPlanets = getFlagPlanets();</td><td> </td><td class="right">       bool flagPlanets = getFlagPlanets();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool flagHints = getFlagHints();</td><td> </td><td class="right">       bool flagHints = getFlagHints();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool flagLabels = getFlagLabels();</td><td> </td><td class="right">       bool flagLabels = getFlagLabels();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool flagOrbits = getFlagOrbits();</td><td> </td><td class="right">       bool flagOrbits = getFlagOrbits();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 21 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>18 lines changed or deleted</i></th><th><i> </i></th><th><i>37 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
