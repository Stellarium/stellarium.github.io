<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.home 4.4.0-93-generic #116-Ubuntu SMP Fri Aug 11 21:17:51 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.1.3, API: 1.1 (GNU MPFR 3.1.4, GNU MP 6.1.0) --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: Planet.cpp - Planet.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;Planet.cpp&nbsp;</th><th> </th><th>&nbsp;Planet.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 220</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 220</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         sphereScale(1.f),</td><td> </td><td class="right">         sphereScale(1.f),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         lastJDE(J2000),</td><td> </td><td class="right">         lastJDE(J2000),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         coordFunc(coordFunc),</td><td> </td><td class="right">         coordFunc(coordFunc),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         orbitPtr(anOrbitPtr),</td><td> </td><td class="right">         orbitPtr(anOrbitPtr),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         osculatingFunc(osculatingFunc),</td><td> </td><td class="right">         osculatingFunc(osculatingFunc),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         parent(Q_NULLPTR),</td><td> </td><td class="right">         parent(Q_NULLPTR),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         flagLabels(true),</td><td> </td><td class="right">         flagLabels(true),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         hidden(hidden),</td><td> </td><td class="right">         hidden(hidden),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         atmosphere(hasAtmosphere),</td><td> </td><td class="right">         atmosphere(hasAtmosphere),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">         halo(hasHalo),</td><td> </td><td class="right">         halo(hasHalo),</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">         <span class="delete">gl(Q_NULLPTR)</span></td><td> </td><td class="rblock">         <span class="insert">gl(Q_NULLPTR),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">         iauMoonNumber("")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Initialize pType with the key found in pTypeMap, or mark planet t
ype as undefined.</td><td> </td><td class="right">       // Initialize pType with the key found in pTypeMap, or mark planet t
ype as undefined.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The latter condition should obviously never happen.</td><td> </td><td class="right">       // The latter condition should obviously never happen.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       pType = pTypeMap.key(pTypeStr, Planet::isUNDEFINED);</td><td> </td><td class="right">       pType = pTypeMap.key(pTypeStr, Planet::isUNDEFINED);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // 0.16: Ensure type is always given!</td><td> </td><td class="right">       // 0.16: Ensure type is always given!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // AW: I've commented the code to the allow flying on spaceship (imp
lemented as an artificial planet)!</td><td> </td><td class="right">       // AW: I've commented the code to the allow flying on spaceship (imp
lemented as an artificial planet)!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (pType==Planet::isUNDEFINED)</td><td> </td><td class="right">       if (pType==Planet::isUNDEFINED)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qCritical() &lt;&lt; "Planet " &lt;&lt; englishName &lt;&lt; "has no type. Ple
ase edit one of ssystem_major.ini or ssystem_minor.ini to ensure operation.
";</td><td> </td><td class="right">               qCritical() &lt;&lt; "Planet " &lt;&lt; englishName &lt;&lt; "has no type. Ple
ase edit one of ssystem_major.ini or ssystem_minor.ini to ensure operation.
";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               exit(-1);</td><td> </td><td class="right">               exit(-1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 330</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 331</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (getFlagTranslatedName())</td><td> </td><td class="right">               if (getFlagTranslatedName())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       nameI18 = trans.qtranslate(englishName);</td><td> </td><td class="right">                       nameI18 = trans.qtranslate(englishName);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       nameI18 = englishName;</td><td> </td><td class="right">                       nameI18 = englishName;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void Planet::setIAUMoonNumber(QString designation)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (!iauMoonNumber.isEmpty())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               return;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       iauMoonNumber = designation;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString Planet::getEnglishName() const</td><td> </td><td class="right">QString Planet::getEnglishName() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return englishName;</td><td> </td><td class="right">       return englishName;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString Planet::getNameI18n() const</td><td> </td><td class="right">QString Planet::getNameI18n() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return nameI18;</td><td> </td><td class="right">       return nameI18;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 354</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 363</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QTextStream oss(&amp;str);</td><td> </td><td class="right">       QTextStream oss(&amp;str);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double az_app, alt_app;</td><td> </td><td class="right">       double az_app, alt_app;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelUtils::rectToSphe(&amp;az_app,&amp;alt_app,getAltAzPosApparent(core));</td><td> </td><td class="right">       StelUtils::rectToSphe(&amp;az_app,&amp;alt_app,getAltAzPosApparent(core));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool withDecimalDegree = StelApp::getInstance().getFlagShowDecimalDe
grees();</td><td> </td><td class="right">       bool withDecimalDegree = StelApp::getInstance().getFlagShowDecimalDe
grees();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double distanceAu = getJ2000EquatorialPos(core).length();</td><td> </td><td class="right">       double distanceAu = getJ2000EquatorialPos(core).length();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_UNUSED(az_app);</td><td> </td><td class="right">       Q_UNUSED(az_app);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;Name)</td><td> </td><td class="right">       if (flags&amp;Name)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss &lt;&lt; "&lt;h2&gt;" &lt;&lt; getNameI18n();  // UI translation can diffe
r from sky translation</td><td> </td><td class="right">               oss &lt;&lt; "&lt;h2&gt;" &lt;&lt; getNameI18n();  // UI translation can diffe
r from sky translation</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">if (!iauMoonNumber.isEmpty())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       oss &lt;&lt; QString(" (%1)").arg(iauMoonNumber);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss.setRealNumberNotation(QTextStream::FixedNotation);</td><td> </td><td class="right">               oss.setRealNumberNotation(QTextStream::FixedNotation);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss.setRealNumberPrecision(1);</td><td> </td><td class="right">               oss.setRealNumberPrecision(1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (sphereScale != 1.f)</td><td> </td><td class="right">               if (sphereScale != 1.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       oss &lt;&lt; QString::fromUtf8(" (\xC3\x97") &lt;&lt; sphereScal
e &lt;&lt; ")";</td><td> </td><td class="right">                       oss &lt;&lt; QString::fromUtf8(" (\xC3\x97") &lt;&lt; sphereScal
e &lt;&lt; ")";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss &lt;&lt; "&lt;/h2&gt;";</td><td> </td><td class="right">               oss &lt;&lt; "&lt;/h2&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;ObjectType &amp;&amp; getPlanetType()!=isUNDEFINED)</td><td> </td><td class="right">       if (flags&amp;ObjectType &amp;&amp; getPlanetType()!=isUNDEFINED)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               oss &lt;&lt; <span class="delete">q_("Type: &lt;b&gt;%1&lt;/b&gt;").arg(q_(getPlanetTypeString())) 
</span>&lt;&lt; "&lt;br /&gt;";</td><td> </td><td class="rblock">               oss &lt;&lt; <span class="insert">QString("%1: &lt;b&gt;%2&lt;/b&gt;").arg(q_("Type"), q_(getPlanet
TypeString())) </span>&lt;&lt; "&lt;br /&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;Magnitude &amp;&amp; getVMagnitude(core)!=std::numeric_limits&lt;floa
t&gt;::infinity())</td><td> </td><td class="right">       if (flags&amp;Magnitude &amp;&amp; getVMagnitude(core)!=std::numeric_limits&lt;floa
t&gt;::infinity())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString emag = "";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (core-&gt;getSkyDrawer()-&gt;getFlagHasAtmosphere() &amp;&amp; (alt_app
&gt;-3.0*M_PI/180.0)) // Don't show extincted magnitude much below horizon whe
re model is meaningless.</td><td> </td><td class="right">               if (core-&gt;getSkyDrawer()-&gt;getFlagHasAtmosphere() &amp;&amp; (alt_app
&gt;-3.0*M_PI/180.0)) // Don't show extincted magnitude much below horizon whe
re model is meaningless.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">oss &lt;&lt; q_("Magnitude: &lt;b&gt;%1&lt;/b&gt; (after extinction: &lt;</span></td><td> </td><td class="rblock">                       <span class="insert">emag = QString(" (%1: &lt;b&gt;%2&lt;/b&gt;)").arg(q_("extincted</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">b&gt;%2&lt;/b&gt;)").arg(QString::number(getVMagnitude(core), 'f', 2),</span></td><td> </td><td class="rblock"><span class="insert"> to"),</span> QString::number(getVMagnitudeWithExtinction(core), 'f', <span class="insert">2));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                QString::number(getVMagnitudeWithExtinction(core), 'f', <span class="delete">2))</span></td><td> </td><td class="rblock">               oss &lt;&lt; <span class="insert">QString("%1: &lt;b&gt;%2&lt;/b&gt;%3").arg(q_("Magnitude"), QStri</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">ng::number(getVMagnitude(core),</span> 'f', <span class="insert">2), emag)</span> &lt;&lt; <span class="insert">"&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               else</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; <span class="delete">q_("Magnitude: &lt;b&gt;%1&lt;/b&gt;").arg(getVMagnitude(</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">core), 0,</span> 'f', <span class="delete">2)</span> &lt;&lt; <span class="delete">"&lt;br&gt;";</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;AbsoluteMagnitude &amp;&amp; (getAbsoluteMagnitude() &gt; -99.))</td><td> </td><td class="right">       if (flags&amp;AbsoluteMagnitude &amp;&amp; (getAbsoluteMagnitude() &gt; -99.))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               oss &lt;&lt; <span class="delete">q_("Absolute Magnitude: %1").arg(getAbsoluteMagnitude
(), 0, 'f', 2) &lt;&lt; "&lt;br</span>&gt;";</td><td> </td><td class="rblock">               oss &lt;&lt; <span class="insert">QString("%1: %2").arg(q_("Absolute Magnitude")).arg(g
etAbsoluteMagnitude(), 0, 'f', 2) &lt;&lt; "&lt;br /</span>&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               const float moMag=getMeanOppositionMagnitude();</td><td> </td><td class="right">               const float moMag=getMeanOppositionMagnitude();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (moMag&lt;50.f)</td><td> </td><td class="right">               if (moMag&lt;50.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; <span class="delete">q_("Mean Opposition Magnitude: %1").arg(moMag
, 0, 'f', 2) &lt;&lt; "&lt;br</span>&gt;";</td><td> </td><td class="rblock">                       oss &lt;&lt; <span class="insert">QString("%1: %2").arg(q_("Mean Opposition Mag
nitude")).arg(moMag, 0, 'f', 2) &lt;&lt; "&lt;br /</span>&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       oss &lt;&lt; get<span class="delete">Positi</span>onInfoString(core, flags);</td><td> </td><td class="rblock">       oss &lt;&lt; get<span class="insert">Comm</span>onInfoString(core, flags);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Debug help.</td><td> </td><td class="right">       // Debug help.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //oss &lt;&lt; "Apparent Magnitude Algorithm: " &lt;&lt; getApparentMagnitudeAlg
orithmString() &lt;&lt; " " &lt;&lt; vMagAlgorithm &lt;&lt; "&lt;br&gt;";</td><td> </td><td class="right">       //oss &lt;&lt; "Apparent Magnitude Algorithm: " &lt;&lt; getApparentMagnitudeAlg
orithmString() &lt;&lt; " " &lt;&lt; vMagAlgorithm &lt;&lt; "&lt;br&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // GZ This is mostly for debugging. Maybe also useful for letting pe
ople use our results to cross-check theirs, but we should not act as refere
nce, currently...</td><td> </td><td class="right">       // GZ This is mostly for debugging. Maybe also useful for letting pe
ople use our results to cross-check theirs, but we should not act as refere
nce, currently...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TODO: maybe separate this out into:</td><td> </td><td class="right">       // TODO: maybe separate this out into:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //if (flags&amp;EclipticCoordXYZ)</td><td> </td><td class="right">       //if (flags&amp;EclipticCoordXYZ)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       // For now: add to <span class="delete">EclipticCoord</span></td><td> </td><td class="rblock">       // For now: add to <span class="insert">EclipticCoordJ2000 group</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //if <span class="delete">(flags&amp;EclipticCoord)</span></td><td> </td><td class="rblock">       //if <span class="insert">(flags&amp;EclipticCoordJ2000)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //      oss &lt;&lt; q_("Ecliptical XYZ (VSOP87A): %1/%2/%3").arg(QString:</td><td> </td><td class="rblock"><span class="insert">       //{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">:number(eclipticPos[0],</span> 'f', <span class="delete">3), QString::number(eclipticPos[1],</span> 'f', <span class="delete">3), Q</span></td><td> </td><td class="rblock"><span class="insert">       //      Vec3d eclPos=(englishName=="Sun" ? GETSTELMODULE(SolarSystem</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">String::number(eclipticPos[2],</span> 'f', <span class="delete">3))</span> &lt;&lt; "&lt;br&gt;";</td><td> </td><td class="rblock"><span class="insert">)-&gt;getLightTimeSunPosition() : eclipticPos);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       //      oss &lt;&lt; q_("Ecliptical XYZ (VSOP87A): %1/%2/%3").arg(QString:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:number(eclPos[0],</span> 'f', <span class="insert">7), QString::number(eclPos[1],</span> 'f', <span class="insert">7), QString::nu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">mber(eclPos[2],</span> 'f', <span class="insert">7))</span> &lt;&lt; "&lt;br&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;Distance)</td><td> </td><td class="right">       if (flags&amp;Distance)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double hdistanceAu = getHeliocentricEclipticPos().length();</td><td> </td><td class="right">               double hdistanceAu = getHeliocentricEclipticPos().length();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double hdistanceKm = AU * hdistanceAu;</td><td> </td><td class="right">               double hdistanceKm = AU * hdistanceAu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">// TRANSLATORS: Unit of measure for distance - astronomical </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">unit</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString au = qc_("AU", "distance, astronomical unit");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               // TRANSLATORS: Unit of measure for distance - kilometers</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString km = qc_("km", "distance");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString distAU, distKM;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (englishName!="Sun")</td><td> </td><td class="right">               if (englishName!="Sun")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (hdistanceAu &lt; 0.1)</td><td> </td><td class="right">                       if (hdistanceAu &lt; 0.1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">// xgettext:no-c-format</span></td><td> </td><td class="rblock">                               <span class="insert">distAU = QString::number(hdistanceAu,</span> 'f', <span class="insert">6</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               oss &lt;&lt; QString(q_("Distance from Sun: %1AU (</span></td><td> </td><td class="rblock"><span class="insert">);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">%2 km)"))</span></td><td> </td><td class="rblock"><span class="insert">                               distKM = QString::number(hdistanceKm,</span> 'f', <span class="insert">3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                      .arg(hdistanceAu, 0,</span> 'f', <span class="delete">6)</span></td><td> </td><td class="rblock"><span class="insert">);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                      .arg(hdistanceKm, 0,</span> 'f', <span class="delete">3);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">// xgettext:no-c-format</span></td><td> </td><td class="rblock">                               <span class="insert">distAU = QString::number(hdistanceAu,</span> 'f', <span class="insert">3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               oss &lt;&lt; QString(q_("Distance from Sun: %1AU (</span></td><td> </td><td class="rblock"><span class="insert">);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">%2 Mio km)"))</span></td><td> </td><td class="rblock"><span class="insert">                               distKM = QString::number(hdistanceKm</span> / <span class="insert">1.0e6</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                      .arg(hdistanceAu, 0,</span> 'f', <span class="delete">3)</span></td><td> </td><td class="rblock"><span class="insert">,</span> 'f', 3);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                      .arg(hdistanceKm</span> / <span class="delete">1.0e6, 0,</span> 'f', 3);</td><td> </td><td class="rblock">                               <span class="insert">// TRANSLATORS: Unit of measure for distance</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> - milliones kilometers</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               km = qc_("Mio km", "distance");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; <span class="delete">"&lt;br&gt;";</span></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       oss &lt;&lt; <span class="insert">QString("%1: %2%3 (%4 %5)").arg(q_("Distance </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">from Sun"), distAU, au, distKM, km) &lt;&lt; "&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double distanceKm = AU * distanceAu;</td><td> </td><td class="right">               double distanceKm = AU * distanceAu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (distanceAu &lt; 0.1)</td><td> </td><td class="right">               if (distanceAu &lt; 0.1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">// xgettext:no-c-format</span></td><td> </td><td class="rblock">                       <span class="insert">distAU = QString::number(distanceAu,</span> 'f', <span class="insert">6);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       oss &lt;&lt; QString(q_("Distance: %1AU (%2 km)"))</span></td><td> </td><td class="rblock"><span class="insert">                       distKM = QString::number(distanceKm,</span> 'f', 3);       </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                              .arg(distanceAu, 0,</span> 'f', <span class="delete">6)</span></td><td> </td><td class="rblock">    }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                              .arg(distanceKm, 0,</span> 'f', 3);</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               }</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">// xgettext:no-c-format</span></td><td> </td><td class="rblock">                       <span class="insert">distAU = QString::number(distanceAu,</span> 'f', <span class="insert">3);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       oss &lt;&lt; QString(q_("Distance: %1AU (%2 Mio km)"))</span></td><td> </td><td class="rblock"><span class="insert">                       distKM = QString::number(distanceKm</span> / 1.0e6, 'f', <span class="insert">3)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                              .arg(distanceAu, 0,</span> 'f', <span class="delete">3)</span></td><td> </td><td class="rblock"><span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                              .arg(distanceKm</span> / 1.0e6, <span class="delete">0,</span> 'f', <span class="delete">3);</span></td><td> </td><td class="rblock"><span class="insert">                       // TRANSLATORS: Unit of measure for distance - milli</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ones kilometers</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       km = qc_("Mio km", "distance");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               oss &lt;&lt; <span class="delete">"&lt;br&gt;";</span></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               oss &lt;&lt; <span class="insert">QString("%1: %2%3 (%4 %5)").arg(q_("Distance"), distA</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">U, au, distKM, km) &lt;&lt; "&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(flags&amp;Size)</span></td><td> </td><td class="rblock">       <span class="insert">double angularSize = 2.*getAngularSize(core)*M_PI/180.;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       if <span class="insert">(flags&amp;Size &amp;&amp; angularSize&gt;=4.8e-7)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">double angularSize = 2.*getAngularSize(core)*M_PI/180.</span>;</td><td> </td><td class="rblock">               <span class="insert">QString s1, s2, sizeStr = ""</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (rings)</td><td> </td><td class="right">               if (rings)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double withoutRings = 2.*getSpheroidAngularSize(core
)*M_PI/180.;</td><td> </td><td class="right">                       double withoutRings = 2.*getSpheroidAngularSize(core
)*M_PI/180.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (withDecimalDegree)</td><td> </td><td class="right">                       if (withDecimalDegree)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">oss &lt;&lt; q_("Apparent diameter: %1, with rings</span></td><td> </td><td class="rblock">                       <span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">: %2")</span></td><td> </td><td class="rblock"><span class="insert">                               s1 = StelUtils::radToDecDegStr(withoutRings,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                      .arg(StelUtils::radToDecDegStr(withou</span></td><td> </td><td class="rblock"><span class="insert">4,false,true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tRings,4,false,true),</span></td><td> </td><td class="rblock"><span class="insert">                               s2 = StelUtils::radToDecDegStr(angularSize,4</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                           StelUtils::radToDecDegStr(angula</span></td><td> </td><td class="rblock"><span class="insert">,false,true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">rSize,4,false,true));</span></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">oss &lt;&lt; q_("Apparent diameter: %1, with rings</span></td><td> </td><td class="rblock">                       <span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">: %2")</span></td><td> </td><td class="rblock"><span class="insert">                               s1 = StelUtils::radToDmsStr(withoutRings, tr</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                      .arg(StelUtils::radToDmsStr(withoutRi</span></td><td> </td><td class="rblock"><span class="insert">ue);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ngs, true),</span></td><td> </td><td class="rblock"><span class="insert">                               s2 = StelUtils::radToDmsStr(angularSize, tru</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                           StelUtils::radToDmsStr(angularSi</span></td><td> </td><td class="rblock"><span class="insert">e);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ze, true));</span></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       sizeStr = QString("%1, %2: %3").arg(s1, q_("with rin</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">gs"), s2);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (sphereScale!=1.f) // We must give correct diamet
ers even if upscaling (e.g. Moon)</td><td> </td><td class="right">                       if (sphereScale!=1.f) // We must give correct diamet
ers even if upscaling (e.g. Moon)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (withDecimalDegree)</td><td> </td><td class="right">                               if (withDecimalDegree)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       <span class="delete">oss &lt;&lt; q_("Apparent diameter: %1, sc</span></td><td> </td><td class="rblock">                               <span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">aled up to: %2")</span></td><td> </td><td class="rblock"><span class="insert">                                       s1 = StelUtils::radToDecDegStr(angul</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                              .arg(StelUtils::radToDecDegSt</span></td><td> </td><td class="rblock"><span class="insert">arSize</span> / <span class="insert">sphereScale,5,false,true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">r(angularSize</span> / <span class="delete">sphereScale,5,false,true))</span></td><td> </td><td class="rblock"><span class="insert">                                       s2 = StelUtils::radToDecDegStr(angul</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                              .arg(StelUtils::radToDecDegSt</span></td><td> </td><td class="rblock"><span class="insert">arSize,5,false,true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">r(angularSize,5,false,true));</span></td><td> </td><td class="rblock"><span class="insert">                               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               else</td><td> </td><td class="right">                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       <span class="delete">oss &lt;&lt; q_("Apparent diameter: %1, sc</span></td><td> </td><td class="rblock">                               <span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">aled up to: %2")</span></td><td> </td><td class="rblock"><span class="insert">                                       s1 = StelUtils::radToDmsStr(angularS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                              .arg(StelUtils::radToDmsStr(a</span></td><td> </td><td class="rblock"><span class="insert">ize</span> / sphereScale, <span class="insert">true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ngularSize</span> / sphereScale, <span class="delete">true))</span></td><td> </td><td class="rblock"><span class="insert">                                       s2 = StelUtils::radToDmsStr(angularS</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                              .arg(StelUtils::radToDmsStr(a</span></td><td> </td><td class="rblock"><span class="insert">ize, true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ngularSize, true));</span></td><td> </td><td class="rblock"><span class="insert">                               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               sizeStr = QString("%1, %2: %3").arg(s1, q_("</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">scaled up to"), s2);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (withDecimalDegree)</td><td> </td><td class="right">                               if (withDecimalDegree)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       <span class="delete">oss &lt;&lt; q_("Apparent diameter: %1").a
rg(StelUtils::radToDecDegStr(angularSize,5,false,true)</span>);</td><td> </td><td class="rblock">                                       <span class="insert">sizeStr = StelUtils::radToDecDegStr(
angularSize,5,false,true</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               else</td><td> </td><td class="right">                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       <span class="delete">oss &lt;&lt; q_("Apparent diameter: %1").a
rg(StelUtils::radToDmsStr(angularSize, true)</span>);</td><td> </td><td class="rblock">                                       <span class="insert">sizeStr = StelUtils::radToDmsStr(ang
ularSize, true</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               oss &lt;&lt; <span class="delete">"&lt;br</span>&gt;";</td><td> </td><td class="rblock">               oss &lt;&lt; <span class="insert">QString("%1: %2").arg(q_("Apparent diameter"), sizeSt
r) &lt;&lt; "&lt;br /</span>&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double siderealPeriod = getSiderealPeriod();</td><td> </td><td class="right">       double siderealPeriod = getSiderealPeriod();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double siderealDay = getSiderealDay();</td><td> </td><td class="right">       double siderealDay = getSiderealDay();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;Extra)</td><td> </td><td class="right">       if (flags&amp;Extra)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // This is a string you can activate for debugging. It shows
 the distance between observer and center of the body you are standing on.</td><td> </td><td class="right">               // This is a string you can activate for debugging. It shows
 the distance between observer and center of the body you are standing on.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // May be helpful for debugging critical parallax correction
s for eclipses.</td><td> </td><td class="right">               // May be helpful for debugging critical parallax correction
s for eclipses.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // For general use, find a better location first.</td><td> </td><td class="right">               // For general use, find a better location first.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // oss &lt;&lt; q_("Planetocentric distance &amp;rho;: %1 (km)").arg(c
ore-&gt;getCurrentObserver()-&gt;getDistanceFromCenter() * AU) &lt;&lt;"&lt;br&gt;";</td><td> </td><td class="right">               // oss &lt;&lt; q_("Planetocentric distance &amp;rho;: %1 (km)").arg(c
ore-&gt;getCurrentObserver()-&gt;getDistanceFromCenter() * AU) &lt;&lt;"&lt;br&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (siderealPeriod&gt;0)</td><td> </td><td class="right">               if (siderealPeriod&gt;0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       // <span class="delete">TRANSLATORS:</span> Sidereal (orbital) period for solar </td><td> </td><td class="rblock">                       <span class="insert">QString days = qc_("days", "duration");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">system bodies in days and in Julian years (symbol: a)</td><td> </td><td class="rblock">                       // Sidereal (orbital) period for solar system bodies</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; <span class="delete">q_("Sidereal period: %1 days (%2 a)").arg(QSt</span></td><td> </td><td class="rblock"> in days and in Julian years (symbol: a)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ring::number(siderealPeriod,</span> 'f', <span class="delete">2)).arg(QString::number(siderealPeriod/36</span></td><td> </td><td class="rblock">                       oss &lt;&lt; <span class="insert">QString("%1: %2 %3 (%4 a)").arg(q_("Sidereal </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">5.25,</span> 'f', 3)) &lt;&lt; <span class="delete">"&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">period"), QString::number(siderealPeriod,</span> 'f', <span class="insert">2), days, QString::number(si</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">derealPeriod/365.25,</span> 'f', 3)) &lt;&lt; <span class="insert">"&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (qAbs(siderealDay)&gt;0)</td><td> </td><td class="right">                       if (qAbs(siderealDay)&gt;0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               oss &lt;&lt; <span class="delete">q_("Sidereal day: %1").arg(StelUtils:</span></td><td> </td><td class="rblock">                               oss &lt;&lt; <span class="insert">QString("%1: %2").arg(q_("Sidereal da</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">:hoursToHmsStr(qAbs(siderealDay*24)))</span> &lt;&lt; <span class="delete">"&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">y"), StelUtils::hoursToHmsStr(qAbs(siderealDay*24)))</span> &lt;&lt; <span class="insert">"&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               oss &lt;&lt; <span class="delete">q_("Mean</span> solar <span class="delete">day: %1").arg(StelUtil</span></td><td> </td><td class="rblock">                               oss &lt;&lt; <span class="insert">QString("%1: %2").arg(q_("Mean</span> solar </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">s::hoursToHmsStr(qAbs(getMeanSolarDay()*24)))</span> &lt;&lt; <span class="delete">"&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">day"), StelUtils::hoursToHmsStr(qAbs(getMeanSolarDay()*24)))</span> &lt;&lt; <span class="insert">"&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else if (re.period==0.)</td><td> </td><td class="right">                       else if (re.period==0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               oss &lt;&lt; q_("The period of rotation is chaotic
") &lt;&lt; "&lt;br&gt;";</td><td> </td><td class="rblock">                               oss &lt;&lt; q_("The period of rotation is chaotic
") &lt;&lt; "&lt;br<span class="insert"> /</span>&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (englishName != "Sun")</td><td> </td><td class="right">               if (englishName != "Sun")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       const Vec3d&amp; observerHelioPos = core-&gt;getObserverHel
iocentricEclipticPos();</td><td> </td><td class="right">                       const Vec3d&amp; observerHelioPos = core-&gt;getObserverHel
iocentricEclipticPos();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       const double elongation = getElongation(observerHeli
oPos);</td><td> </td><td class="right">                       const double elongation = getElongation(observerHeli
oPos);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString moonPhase = "";</td><td> </td><td class="right">                       QString moonPhase = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (englishName=="Moon" &amp;&amp; core-&gt;getCurrentLocation(
).planetName=="Earth")</td><td> </td><td class="right">                       if (englishName=="Moon" &amp;&amp; core-&gt;getCurrentLocation(
).planetName=="Earth")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               double eclJDE = GETSTELMODULE(SolarSystem)-&gt;
getEarth()-&gt;getRotObliquity(core-&gt;getJDE());</td><td> </td><td class="right">                               double eclJDE = GETSTELMODULE(SolarSystem)-&gt;
getEarth()-&gt;getRotObliquity(core-&gt;getJDE());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 528</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 555</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (deltaLong==225)</td><td> </td><td class="right">                               if (deltaLong==225)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       moonPhase = qc_("Waning Gibbous", "M
oon phase");</td><td> </td><td class="right">                                       moonPhase = qc_("Waning Gibbous", "M
oon phase");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (deltaLong==270)</td><td> </td><td class="right">                               if (deltaLong==270)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       moonPhase = qc_("Third Quarter", "Mo
on phase");</td><td> </td><td class="right">                                       moonPhase = qc_("Third Quarter", "Mo
on phase");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (deltaLong==315)</td><td> </td><td class="right">                               if (deltaLong==315)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       moonPhase = qc_("Waning Crescent", "
Moon phase");</td><td> </td><td class="right">                                       moonPhase = qc_("Waning Crescent", "
Moon phase");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (deltaLong==0 || deltaLong==360)</td><td> </td><td class="right">                               if (deltaLong==0 || deltaLong==360)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       moonPhase = qc_("New Moon", "Moon ph
ase");</td><td> </td><td class="right">                                       moonPhase = qc_("New Moon", "Moon ph
ase");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       QString pha, elo;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (withDecimalDegree)</td><td> </td><td class="right">                       if (withDecimalDegree)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">oss &lt;&lt; QString(q_("Phase Angle: %1")).arg(St</span></td><td> </td><td class="rblock">                               <span class="insert">pha = StelUtils::radToDecDegStr(getPhaseAngl</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">elUtils::radToDecDegStr(getPhaseAngle(observerHelioPos),4,false,true)) &lt;&lt; "</span></td><td> </td><td class="rblock"><span class="insert">e(observerHelioPos),4,false,true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">                               elo = StelUtils::radToDecDegStr(elongation,4</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               oss &lt;&lt; QString(q_("Elongation: %1")).arg(Ste</span></td><td> </td><td class="rblock"><span class="insert">,false,true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">lUtils::radToDecDegStr(elongation,4,false,true)) &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               <span class="delete">oss &lt;&lt; QString(q_("Phase Angle: %1")).arg(St</span></td><td> </td><td class="rblock">                               <span class="insert">pha = StelUtils::radToDmsStr(getPhaseAngle(o</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">elUtils::radToDmsStr(getPhaseAngle(observerHelioPos), true)) &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">bserverHelioPos), true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               oss &lt;&lt; QString(q_("Elongation: %1")).arg(Ste</span></td><td> </td><td class="rblock"><span class="insert">                               elo = StelUtils::radToDmsStr(elongation, tru</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">lUtils::radToDmsStr(elongation, true)) &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">e);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; <span class="delete">QString(q_("Phase: %1")).arg(getPhase(observe</span></td><td> </td><td class="rblock">                       oss &lt;&lt; <span class="insert">QString("%1: %2").arg(q_("Phase angle"), pha)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">rHelioPos), 0,</span> 'f', <span class="delete">2);</span></td><td> </td><td class="rblock"><span class="insert"> &lt;&lt; "&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       oss &lt;&lt; QString("%1: %2").arg(q_("Elongation"), elo) </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">&lt;&lt; "&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       oss &lt;&lt; QString("%1: %2%").arg(q_("Illuminated"), QSt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ring::number(getPhase(observerHelioPos) * 100,</span> 'f', <span class="insert">1)) &lt;&lt; "&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       oss &lt;&lt; QString("%1: %2").arg(q_("Albedo"), QString::</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">number(getAlbedo(), 'f', 3)) &lt;&lt; "&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (!moonPhase.isEmpty())</td><td> </td><td class="right">                       if (!moonPhase.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               oss &lt;&lt; <span class="delete">" ("</span> &lt;&lt; <span class="delete">moonPhase &lt;&lt; ")";</span></td><td> </td><td class="rblock">                               oss &lt;&lt; <span class="insert">QString("%1: %2").arg(q_("Phase"), mo</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       oss &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"><span class="insert">onPhase)</span> &lt;&lt; <span class="insert">"&lt;br /&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       oss &lt;&lt; QString(q_("Illuminated: %1%")).arg(getPhase(</span></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">observerHelioPos) * 100, 0, 'f', 1) &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       oss &lt;&lt; QString(q_("Albedo: %1")).arg(QString::number</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">(getAlbedo(), 'f', 3)) &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (englishName=="Sun")</td><td> </td><td class="right">               if (englishName=="Sun")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Only show during eclipse, show percent?</td><td> </td><td class="right">                       // Only show during eclipse, show percent?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       static SolarSystem *ssystem=GETSTELMODULE(SolarSyste
m);</td><td> </td><td class="right">                       static SolarSystem *ssystem=GETSTELMODULE(SolarSyste
m);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">// Debug solution:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       //                      float eclipseFactor = ssyste</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">m-&gt;getEclipseFactor(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       //                      oss &lt;&lt; QString(q_("Eclipse F</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">actor: %1 alpha: %2")).arg(eclipseFactor).arg(-0.1f*qMax(-10.0f, (float) st</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">d::log10(eclipseFactor))) &lt;&lt; "&lt;br&gt;";</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       // Release version:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       float eclipseFactor = 100.f*(1.f-ssystem-&gt;getEclipse
Factor(core));</td><td> </td><td class="right">                       float eclipseFactor = 100.f*(1.f-ssystem-&gt;getEclipse
Factor(core));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (eclipseFactor&gt;1.e-7) // needed to avoid false di
splay of 1e-14 or so.</td><td> </td><td class="right">                       if (eclipseFactor&gt;1.e-7) // needed to avoid false di
splay of 1e-14 or so.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               oss &lt;&lt; QString(<span class="delete">q_("Eclipse Factor: %1%")).ar
g(eclipseFactor) &lt;&lt; "&lt;br</span>&gt;";</td><td> </td><td class="rblock">                               oss &lt;&lt; QString(<span class="insert">"%1: %2%").arg(q_("Eclipse Fa
ctor")).arg(QString::number(eclipseFactor, 'f', 2)) &lt;&lt; "&lt;br /</span>&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       postProcessInfoString(str, flags);</td><td> </td><td class="right">       postProcessInfoString(str, flags);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return str;</td><td> </td><td class="right">       return str;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QVariantMap Planet::getInfoMap(const StelCore *core) const</td><td> </td><td class="right">QVariantMap Planet::getInfoMap(const StelCore *core) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 662</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 687</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       re.obliquity = _obliquity;</td><td> </td><td class="right">       re.obliquity = _obliquity;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       re.ascendingNode = _ascendingNode;</td><td> </td><td class="right">       re.ascendingNode = _ascendingNode;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       re.precessionRate = _precessionRate;</td><td> </td><td class="right">       re.precessionRate = _precessionRate;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       re.siderealPeriod = _siderealPeriod;  // used for drawing orbit line
s</td><td> </td><td class="right">       re.siderealPeriod = _siderealPeriod;  // used for drawing orbit line
s</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       deltaOrbitJDE = re.siderealPeriod/ORBIT_SEGMENTS;</td><td> </td><td class="right">       deltaOrbitJDE = re.siderealPeriod/ORBIT_SEGMENTS;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d Planet::getJ2000EquatorialPos(const StelCore *core) const</td><td> </td><td class="right">Vec3d Planet::getJ2000EquatorialPos(const StelCore *core) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return <span class="delete">StelCore::matVsop87ToJ2000.multiplyWithoutTranslation(getHeli</span></td><td> </td><td class="rblock">       <span class="insert">if (englishName=="Sun")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ocentricEclipticPos()</span> - <span class="delete">core-&gt;getObserverHeliocentricEclipticPos());</span></td><td> </td><td class="rblock">               return <span class="insert">StelCore::matVsop87ToJ2000.multiplyWithoutTranslation</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">(GETSTELMODULE(SolarSystem)-&gt;getLightTimeSunPosition()</span> - <span class="insert">core-&gt;getObserverH</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">eliocentricEclipticPos());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               return StelCore::matVsop87ToJ2000.multiplyWithoutTranslation</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">(getHeliocentricEclipticPos() - core-&gt;getObserverHeliocentricEclipticPos())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Compute the position in the parent Planet coordinate system</td><td> </td><td class="right">// Compute the position in the parent Planet coordinate system</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Actually call the provided function to compute the ecliptical position</td><td> </td><td class="right">// Actually call the provided function to compute the ecliptical position</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Planet::computePositionWithoutOrbits(const double dateJDE)</td><td> </td><td class="right">void Planet::computePositionWithoutOrbits(const double dateJDE)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (fabs(lastJDE-dateJDE)&gt;deltaJDE)</td><td> </td><td class="right">       if (fabs(lastJDE-dateJDE)&gt;deltaJDE)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               coordFunc(dateJDE, eclipticPos, orbitPtr);</td><td> </td><td class="right">               coordFunc(dateJDE, eclipticPos, orbitPtr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               lastJDE = dateJDE;</td><td> </td><td class="right">               lastJDE = dateJDE;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 1294</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 1322</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       const double sinx=sin(i)*cos(beta)*s
in(lambda-Omega)-cos(i)*sin(beta);</td><td> </td><td class="right">                                       const double sinx=sin(i)*cos(beta)*s
in(lambda-Omega)-cos(i)*sin(beta);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       double rings = -2.6*fabs(sinx) + 1.2
5*sinx*sinx; // ExplSup2013: added term as (10.81)</td><td> </td><td class="right">                                       double rings = -2.6*fabs(sinx) + 1.2
5*sinx*sinx; // ExplSup2013: added term as (10.81)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       return -8.88 + d + 0.044*phaseDeg + 
rings;</td><td> </td><td class="right">                                       return -8.88 + d + 0.044*phaseDeg + 
rings;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (englishName=="Uranus")</td><td> </td><td class="right">                               if (englishName=="Uranus")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       return -7.19 + d + 0.002*phaseDeg;</td><td> </td><td class="right">                                       return -7.19 + d + 0.002*phaseDeg;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (englishName=="Neptune")</td><td> </td><td class="right">                               if (englishName=="Neptune")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       return -6.87 + d;</td><td> </td><td class="right">                                       return -6.87 + d;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (englishName=="Pluto")</td><td> </td><td class="right">                               if (englishName=="Pluto")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       return -1.01 + d;</td><td> </td><td class="right">                                       return -1.01 + d;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                               <span class="insert">// AW2017: I've added special case for Jupit</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">er's moons when they are in the shadow of Jupiter.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               //         FIXME: Need experimental data to </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">fitting to real world or the scientific paper with description of model.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               // GZ 2017-09: Phase coefficients for I and </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">III corrected, based on original publication (Stebbins&amp;Jacobsen 1928) now.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (englishName=="Io")</td><td> </td><td class="right">                               if (englishName=="Io")</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       return <span class="delete">-1.68 + d + phaseDeg*(0.46   
- 0.0010*phaseDeg</span>);</td><td> </td><td class="rblock">                                       return <span class="insert">shadowFactor&lt;1.0 ? 21.0 : (-1
.68 + d + phaseDeg*(0.046  - 0.0010 *phaseDeg)</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (englishName=="Europa")</td><td> </td><td class="right">                               if (englishName=="Europa")</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       return <span class="delete">-1.41 + d + phaseDeg*(0.0312 
- 0.00125*phaseDeg</span>);</td><td> </td><td class="rblock">                                       return <span class="insert">shadowFactor&lt;1.0 ? 21.0 : (-1
.41 + d + phaseDeg*(0.0312 - 0.00125*phaseDeg)</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (englishName=="Ganymede")</td><td> </td><td class="right">                               if (englishName=="Ganymede")</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       return <span class="delete">-2.09 + d + phaseDeg*(0.323  
- 0.00066*phaseDeg</span>);</td><td> </td><td class="rblock">                                       return <span class="insert">shadowFactor&lt;1.0 ? 21.0 : (-2
.09 + d + phaseDeg*(0.0323 - 0.00066*phaseDeg)</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (englishName=="Callisto")</td><td> </td><td class="right">                               if (englishName=="Callisto")</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       return <span class="delete">-1.05</span> + d + phaseDeg*(0.078  </td><td> </td><td class="rblock">                                       return <span class="insert">shadowFactor&lt;1.0 ? 21.0 : (-1</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">- <span class="delete">0.00274*phaseDeg);</span></td><td> </td><td class="rblock"><span class="insert">.05</span> + d + phaseDeg*(0.078  - <span class="insert">0.00274*phaseDeg));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if ((absoluteMagnitude!=-99.) &amp;&amp; (englishNam
e!="Moon"))</td><td> </td><td class="right">                               if ((absoluteMagnitude!=-99.) &amp;&amp; (englishNam
e!="Moon"))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       return absoluteMagnitude+d;</td><td> </td><td class="right">                                       return absoluteMagnitude+d;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               break;</td><td> </td><td class="right">                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       case Expl_Sup_1992:</td><td> </td><td class="right">                       case Expl_Sup_1992:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // Algorithm provided by Pere Planesas (Obse
rvatorio Astronomico Nacional)</td><td> </td><td class="right">                               // Algorithm provided by Pere Planesas (Obse
rvatorio Astronomico Nacional)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // GZ2016: Actually, this is taken straight 
from the Explanatory Supplement to the Astronomical Ephemeris 1992! (chap. 
7.12)</td><td> </td><td class="right">                               // GZ2016: Actually, this is taken straight 
from the Explanatory Supplement to the Astronomical Ephemeris 1992! (chap. 
7.12)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 1483</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 1516</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Problematic: Early-out here of course disables the wanted hint ci
rcles for dim asteroids.</td><td> </td><td class="right">       // Problematic: Early-out here of course disables the wanted hint ci
rcles for dim asteroids.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The line makes hints for asteroids 5 magnitudes below sky limitin
g magnitude visible.</td><td> </td><td class="right">       // The line makes hints for asteroids 5 magnitudes below sky limitin
g magnitude visible.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // If asteroid is too faint to be seen, don't bother rendering. (Mas
sive speedup if people have hundreds of orbital elements!)</td><td> </td><td class="right">       // If asteroid is too faint to be seen, don't bother rendering. (Mas
sive speedup if people have hundreds of orbital elements!)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // AW: Added a special case for educational purpose to drawing orbit
s for the Solar System Observer</td><td> </td><td class="right">       // AW: Added a special case for educational purpose to drawing orbit
s for the Solar System Observer</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Details: https://sourceforge.net/p/stellarium/discussion/278769/t
hread/4828ebe4/</td><td> </td><td class="right">       // Details: https://sourceforge.net/p/stellarium/discussion/278769/t
hread/4828ebe4/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (((getVMagnitude(core)-5.0f) &gt; core-&gt;getSkyDrawer()-&gt;getLimitMagn
itude()) &amp;&amp; pType&gt;=Planet::isAsteroid &amp;&amp; !core-&gt;getCurrentLocation().planet
Name.contains("Observer", Qt::CaseInsensitive))</td><td> </td><td class="right">       if (((getVMagnitude(core)-5.0f) &gt; core-&gt;getSkyDrawer()-&gt;getLimitMagn
itude()) &amp;&amp; pType&gt;=Planet::isAsteroid &amp;&amp; !core-&gt;getCurrentLocation().planet
Name.contains("Observer", Qt::CaseInsensitive))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d mat = Mat4d::translation(eclipticPos) * rotLocalToParent;</td><td> </td><td class="rblock">       Mat4d <span class="insert">mat;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (englishName=="Sun")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               mat = Mat4d::translation(GETSTELMODULE(SolarSystem)-&gt;getLigh</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tTimeSunPosition()) * rotLocalToParent;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               mat = Mat4d::translation(eclipticPos) * rotLocalToParent;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       PlanetP p = parent;</td><td> </td><td class="right">       PlanetP p = parent;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       while (p &amp;&amp; p-&gt;parent)</td><td> </td><td class="right">       while (p &amp;&amp; p-&gt;parent)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               mat = Mat4d::translation(p-&gt;eclipticPos) * mat * p-&gt;rotLocal
ToParent;</td><td> </td><td class="right">               mat = Mat4d::translation(p-&gt;eclipticPos) * mat * p-&gt;rotLocal
ToParent;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               p = p-&gt;parent;</td><td> </td><td class="right">               p = p-&gt;parent;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // This removed totally the Planet shaking bug!!!</td><td> </td><td class="right">       // This removed totally the Planet shaking bug!!!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelProjector::ModelViewTranformP transfo = core-&gt;getHeliocentricEcl
ipticModelViewTransform();</td><td> </td><td class="right">       StelProjector::ModelViewTranformP transfo = core-&gt;getHeliocentricEcl
ipticModelViewTransform();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       transfo-&gt;combine(mat);</td><td> </td><td class="right">       transfo-&gt;combine(mat);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 2118</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 2160</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Let's hide halo when inner planet between Sun and observe
r (or moon between planet and observer).</td><td> </td><td class="right">               // Let's hide halo when inner planet between Sun and observe
r (or moon between planet and observer).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Do not hide Earth's moon's halo below ~-45degrees when ob
serving from earth.</td><td> </td><td class="right">               // Do not hide Earth's moon's halo below ~-45degrees when ob
serving from earth.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d obj = getJ2000EquatorialPos(core);</td><td> </td><td class="right">               Vec3d obj = getJ2000EquatorialPos(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d par = getParent()-&gt;getJ2000EquatorialPos(core);</td><td> </td><td class="right">               Vec3d par = getParent()-&gt;getJ2000EquatorialPos(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double angle = obj.angle(par)*180.f/M_PI;</td><td> </td><td class="right">               double angle = obj.angle(par)*180.f/M_PI;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double asize = getParent()-&gt;getSpheroidAngularSize(core);</td><td> </td><td class="right">               double asize = getParent()-&gt;getSpheroidAngularSize(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (angle&lt;=asize)</td><td> </td><td class="right">               if (angle&lt;=asize)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       allowDrawHalo = false;</td><td> </td><td class="right">                       allowDrawHalo = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       // Draw the halo if <span class="delete">it enabled in the ssystem.ini file</span> (+ special ca
se for backward compatible for the Sun)</td><td> </td><td class="rblock">       // Draw the halo if <span class="insert">enabled in the ssystem_*.ini files</span> (+ special ca
se for backward compatible for the Sun)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if ((hasHalo() || this==ssm-&gt;getSun()) &amp;&amp; allowDrawHalo)</td><td> </td><td class="right">       if ((hasHalo() || this==ssm-&gt;getSun()) &amp;&amp; allowDrawHalo)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Prepare openGL lighting parameters according to luminance</td><td> </td><td class="right">               // Prepare openGL lighting parameters according to luminance</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               float surfArcMin2 = getSpheroidAngularSize(core)*60;</td><td> </td><td class="right">               float surfArcMin2 = getSpheroidAngularSize(core)*60;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               surfArcMin2 = surfArcMin2*surfArcMin2*M_PI; // the total ill
uminated area in arcmin^2</td><td> </td><td class="right">               surfArcMin2 = surfArcMin2*surfArcMin2*M_PI; // the total ill
uminated area in arcmin^2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelPainter sPainter(core-&gt;getProjection(StelCore::FrameJ200
0));</td><td> </td><td class="right">               StelPainter sPainter(core-&gt;getProjection(StelCore::FrameJ200
0));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d tmp = getJ2000EquatorialPos(core);</td><td> </td><td class="right">               Vec3d tmp = getJ2000EquatorialPos(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Find new extincted color for halo. The method is again ra
ther ad-hoc, but does not look too bad.</td><td> </td><td class="right">               // Find new extincted color for halo. The method is again ra
ther ad-hoc, but does not look too bad.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 2353</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 2395</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       painter-&gt;setBlending(false);</td><td> </td><td class="right">       painter-&gt;setBlending(false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       painter-&gt;setCullFace(true);</td><td> </td><td class="right">       painter-&gt;setCullFace(true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Draw the spheroid itself</td><td> </td><td class="right">       // Draw the spheroid itself</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Adapt the number of facets according with the size of the sphere 
for optimization</td><td> </td><td class="right">       // Adapt the number of facets according with the size of the sphere 
for optimization</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       int nb_facet = (int)(screenSz * <span class="delete">40.f/50.f);</span>     // <span class="delete">40</span> facets for <span class="delete">102</span></td><td> </td><td class="rblock">       int nb_facet = <span class="insert">qBound(10,</span> (int)(screenSz * <span class="insert">40.f/50.f), 100);</span>    // <span class="insert">4</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">4</span> pixels diameter on screen</td><td> </td><td class="rblock"><span class="insert">0</span> facets for <span class="insert">1024</span> pixels diameter on screen</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">if (nb_facet&lt;10) nb_facet = 10;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (nb_facet&gt;100) nb_facet = 100;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Generates the vertice</td><td> </td><td class="right">       // Generates the vertice</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Planet3DModel model;</td><td> </td><td class="right">       Planet3DModel model;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sSphere(&amp;model, radius*sphereScale, oneMinusOblateness, nb_facet, nb
_facet);</td><td> </td><td class="right">       sSphere(&amp;model, radius*sphereScale, oneMinusOblateness, nb_facet, nb
_facet);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVector&lt;float&gt; projectedVertexArr(model.vertexArr.size());</td><td> </td><td class="right">       QVector&lt;float&gt; projectedVertexArr(model.vertexArr.size());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int i=0;i&lt;model.vertexArr.size()/3;++i)</td><td> </td><td class="right">       for (int i=0;i&lt;model.vertexArr.size()/3;++i)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               painter-&gt;getProjector()-&gt;project(*((Vec3f*)(model.vertexArr.
constData()+i*3)), *((Vec3f*)(projectedVertexArr.data()+i*3)));</td><td> </td><td class="right">               painter-&gt;getProjector()-&gt;project(*((Vec3f*)(model.vertexArr.
constData()+i*3)), *((Vec3f*)(projectedVertexArr.data()+i*3)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const SolarSystem* ssm = GETSTELMODULE(SolarSystem);</td><td> </td><td class="right">       const SolarSystem* ssm = GETSTELMODULE(SolarSystem);</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 45 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>116 lines changed or deleted</i></th><th><i> </i></th><th><i>167 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
