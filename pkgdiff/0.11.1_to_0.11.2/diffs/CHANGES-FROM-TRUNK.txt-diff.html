<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: CHANGES-FROM-TRUNK.txt - CHANGES-FROM-TRUNK.txt</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;CHANGES-FROM-TRUNK.txt&nbsp;</th><th> </th><th>&nbsp;CHANGES-FROM-TRUNK.txt&nbsp;</th><th></th></tr> 
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">REFRA</span>CTION branch:</td><td> </td><td class="rblock"><span class="insert">EXTIN</span>CTION branch:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Introduces changes necessary for <span class="delete">refraction and </span>extinction effects.</td><td> </td><td class="rblock">Introduces changes necessary for extinction effects.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Status: Partial solution, needs help.</td><td> </td><td class="right">Status: Partial solution, needs help.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Contributor: Georg.Zotti@univie.ac.at</td><td> </td><td class="right">Contributor: Georg.Zotti@univie.ac.at</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">All changes are donated to the Stellarium project for distribution under op
ensource licenses like GNU.</td><td> </td><td class="right">All changes are donated to the Stellarium project for distribution under op
ensource licenses like GNU.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">COMPUTING:      core/RefractionExtinction. DONE</span></td><td> </td><td class="rblock"><span class="insert">2011-Oct: A</span> new <span class="insert">attempt</span> in <span class="insert">Extinction:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">STARS:          core/modules/ZoneArray::draw</span></td><td> </td><td class="rblock"><span class="insert">=========================================</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">           BUG: stars appear to have a problem after magnitude loss.</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">+SELECT-MARK:   StarMgr.cpp::drawPointer(). DONE</span></td><td> </td><td class="rblock"><span class="insert">StelObject and derived classes: getVMagnitude() has new optional arg: withE</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">CLICK-IDENTIFY: core/StelObjectMgr::cleverFind(core, x, y) DONE</span></td><td> </td><td class="rblock"><span class="insert">xtinction.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">INFOSTRING:     core/StelObject.cpp::getPositionInfoString(core, flags) DON</span></td><td> </td><td class="rblock"><span class="insert">This should be set to true only for determining magnitude for</span> drawing <span class="insert">(draw</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">E</span></td><td> </td><td class="rblock"><span class="insert">())</span> and <span class="insert">also for textual info (getInfoString()),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                new <span class="delete">core/StelObject.cpp::getSideralPosRefr(core) DONE</span></td><td> </td><td class="rblock">not <span class="insert">e.g. for selection (getSelectPriority()).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">DEEPSKY:        NebulaMgr::draw(). Influences symbols and labels only.</span></td><td> </td><td class="rblock"><span class="insert">It will also only change the result if atmosphere rendering is ON.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">+DSO TEXTURES:  ---TODO. May require a vertex shader program, beyond my kno</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">wledge.</span></td><td> </td><td class="rblock"><span class="insert">StelSkyDrawer::drawPointSource</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">+SELECT-MARK:   NebulaMgr::drawPointer(). DONE</span></td><td> </td><td class="rblock"><span class="insert">StelObject::getVMagnitude</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">+MILKY WAY:     Should become dimmer in low sky. May require a vertex shade</span></td><td> </td><td class="rblock"><span class="insert">Satellite::getVMagnitude, ::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">r program, beyond my knowledge.</span></td><td> </td><td class="rblock"><span class="insert">Supernova::getVMagnitude, ::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">PLANETS:        ---TODO. Involves StelPainter, 3D spheres, full matrices.</span></td><td> </td><td class="rblock"><span class="insert">Quasar::getVMagnitude,    ::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                         May require a vertex shader program, beyond my kno</span></td><td> </td><td class="rblock"><span class="insert">Satellite::getVMagnitude</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">wledge, sorry.</span></td><td> </td><td class="rblock"><span class="insert">Planet::getVMagnitude, ::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">+SELECT-MARK:   SolarSystem::drawPointer. DONE</span></td><td> </td><td class="rblock"><span class="insert">Comet::getVMagnitude, ::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RA-DEC+GAL.GRIDS: core/GridLinesMgr. TODO OR LEAVE-AS-IS</span></td><td> </td><td class="rblock"><span class="insert">MinorPlanet::getVMagnitude, ::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                Requires changes</span> in <span class="delete">StelPainter's arc</span> drawing <span class="delete">methods.</span></td><td> </td><td class="rblock"><span class="insert">Nebula::getVMagnitude, ::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                Currently this seems not viable</span> and <span class="delete">will</span> not <span class="delete">be changed.</span></td><td> </td><td class="rblock"><span class="insert">StarWrapper::getInfoString</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">SATELLITES:     Not required, practically unobservable on horizon, orbital </span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">parameters unsure, etc.</span></td><td> </td><td class="rblock"><span class="insert">I currently have no solution for extended objects! Therefore ...</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                Should be easy, however.</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">CONSTELLATIONS: Large-scale items. Vertices could be refracted. Extinction </span></td><td> </td><td class="rblock"><span class="insert">TODO: Milky Way, Nebula figures, Constellations??</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">would be a nice effect.</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                Not urgent, later.</span></td><td> </td><td class="rblock"><span class="insert">===========================================================================</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">METEORS         NOT NECESSARY.</span></td><td> </td><td class="rblock"><span class="insert">=====</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">OTHER?          ???</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">TODO, but maybe in yet another branch: See implementation in abandoned refr</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">action branch!</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">CHANGES IN LANDSCAPE HANDLING:</td><td> </td><td class="right">CHANGES IN LANDSCAPE HANDLING:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">1) Moved config.ini:[stars].init_bortle_scale to [landscape] section</td><td> </td><td class="right">1) Moved config.ini:[stars].init_bortle_scale to [landscape] section</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">2) Added optional settings to landscape.ini files:</td><td> </td><td class="right">2) Added optional settings to landscape.ini files:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   landscape.ini:[location].light_pollution (&lt;1: no change; 1..9: Bortle; &gt;
9--&gt;9);</td><td> </td><td class="right">   landscape.ini:[location].light_pollution (&lt;1: no change; 1..9: Bortle; &gt;
9--&gt;9);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   landscape.ini:[location].display_fog: -1=no change, 0=off, 1=on</td><td> </td><td class="right">   landscape.ini:[location].display_fog: -1=no change, 0=off, 1=on</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   landscape.ini:[location].atmospheric_extinction_coefficient (mag/airmass
; -1=no change)</td><td> </td><td class="right">   landscape.ini:[location].atmospheric_extinction_coefficient (mag/airmass
; -1=no change)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   landscape.ini:[location].atmospheric_temperature (C; -1000=no change)</td><td> </td><td class="right">   landscape.ini:[location].atmospheric_temperature (C; -1000=no change)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   landscape.ini:[location].atmospheric_pressure    (mbar; -1=auto, &lt;-1 no 
change)</td><td> </td><td class="right">   landscape.ini:[location].atmospheric_pressure    (mbar; -1=auto, &lt;-1 no 
change)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   LandscapeMgr forwards those settings to the respective recipients.</td><td> </td><td class="right">   LandscapeMgr forwards those settings to the respective recipients.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">   TODO: make GUI aware of changed values (how?).</td><td> </td><td class="right">   TODO: make GUI aware of changed values (how?).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">GUI changes: ViewDialog.ui</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">added 3 DoubleSpinBoxes for temperature, pressure, extinction coefficient i</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">nto atmosphereGroupBox</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ViewDialog.cpp: TODO: when switching landscapes, new data only load partial</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ly into GUI. No idea why!</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">CHANGES IN ASTR.COMPUTATIONS</td><td> </td><td class="right">CHANGES IN ASTR.COMPUTATIONS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">planetsephems/sideral_time.[hc]: added get_mean_ecliptical_obliquity(double
 JDE),</td><td> </td><td class="right">planetsephems/sideral_time.[hc]: added get_mean_ecliptical_obliquity(double
 JDE),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                 changed correct ecliptic in nutation compu
tation.</td><td> </td><td class="right">                                 changed correct ecliptic in nutation compu
tation.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelUtil::ctRadec2Ecl(): coordinate transformation RA/dec to ecliptical wit
h given ecl. obliquity.</td><td> </td><td class="right">StelUtil::ctRadec2Ecl(): coordinate transformation RA/dec to ecliptical wit
h given ecl. obliquity.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Planet::getInfoString(): added ecliptical positions for planets if observed
 from earth.</td><td> </td><td class="right">Planet::getInfoString(): added ecliptical positions for planets if observed
 from earth.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                         This helped detect A BUG, apparently ecliptical ob
liquity does not change, currently.</td><td> </td><td class="right">                         This helped detect A BUG, apparently ecliptical ob
liquity does not change, currently.</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 4 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>37 lines changed or deleted</i></th><th><i> </i></th><th><i>33 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
