<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.home 3.13.0-92-generic #139-Ubuntu SMP Tue Jun 28 20:42:26 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: TelescopeControl.cpp - TelescopeControl.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;TelescopeControl.cpp&nbsp;</th><th> </th><th>&nbsp;TelescopeControl.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 132</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 132</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Make sure that the module directory exists</td><td> </td><td class="right">               //Make sure that the module directory exists</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString moduleDirectoryPath = StelFileMgr::getUserDir() + "/
modules/TelescopeControl";</td><td> </td><td class="right">               QString moduleDirectoryPath = StelFileMgr::getUserDir() + "/
modules/TelescopeControl";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!StelFileMgr::exists(moduleDirectoryPath))</td><td> </td><td class="right">               if(!StelFileMgr::exists(moduleDirectoryPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       StelFileMgr::mkDir(moduleDirectoryPath);</td><td> </td><td class="right">                       StelFileMgr::mkDir(moduleDirectoryPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Load the device models</td><td> </td><td class="right">               //Load the device models</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               loadDeviceModels();</td><td> </td><td class="right">               loadDeviceModels();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(deviceModels.isEmpty())</td><td> </td><td class="right">               if(deviceModels.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: No device model des
criptions have been loaded. Stellarium will not be able to control a telesc
ope on its own, but it is still possible to do it through an external appli
</span>cation or to connect to a remote host.";</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] No device model de
scriptions have been loaded. Stellarium will not be able to control a teles
cope on its own, but it is still possible to do it through an external appl
i</span>cation or to connect to a remote host.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Unload Stellarium's internal telescope control module</td><td> </td><td class="right">               //Unload Stellarium's internal telescope control module</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //(not necessary since revision 6308; remains as an example)</td><td> </td><td class="right">               //(not necessary since revision 6308; remains as an example)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //StelApp::getInstance().getModuleMgr().unloadModule("Telesc
opeMgr", false);</td><td> </td><td class="right">               //StelApp::getInstance().getModuleMgr().unloadModule("Telesc
opeMgr", false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               /*If the alsoDelete parameter is set to true, Stellarium cra
shes with a</td><td> </td><td class="right">               /*If the alsoDelete parameter is set to true, Stellarium cra
shes with a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       segmentation fault when an object is selected. TODO:
 Find out why.</td><td> </td><td class="right">                       segmentation fault when an object is selected. TODO:
 Find out why.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       unloadModule() didn't work prior to revision 5058: t
he module unloaded</td><td> </td><td class="right">                       unloadModule() didn't work prior to revision 5058: t
he module unloaded</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       normally, but Stellarium crashed later with a segmen
tation fault,</td><td> </td><td class="right">                       normally, but Stellarium crashed later with a segmen
tation fault,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       because LandscapeMgr::getCallOrder() depended on the
 module's</td><td> </td><td class="right">                       because LandscapeMgr::getCallOrder() depended on the
 module's</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       existence to return a value.*/</td><td> </td><td class="right">                       existence to return a value.*/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Load and start all telescope clients</td><td> </td><td class="right">               //Load and start all telescope clients</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               loadTelescopes();</td><td> </td><td class="right">               loadTelescopes();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Load OpenGL textures</td><td> </td><td class="right">               //Load OpenGL textures</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               reticleTexture = StelApp::getInstance().getTextureManager().
createTexture(":/telescopeControl/telescope_reticle.png");</td><td> </td><td class="right">               reticleTexture = StelApp::getInstance().getTextureManager().
createTexture(":/telescopeControl/telescope_reticle.png");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               selectionTexture = StelApp::getInstance().getTextureManager(
).createTexture(StelFileMgr::getInstallationDir()+"/textures/pointeur2.png"
);</td><td> </td><td class="right">               selectionTexture = StelApp::getInstance().getTextureManager(
).createTexture(StelFileMgr::getInstallationDir()+"/textures/pointeur2.png"
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">QSignalMapper* slewObj = new QSignalMapper(this);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QSignalMapper* slewDir = new QSignalMapper(this);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Create telescope key bindings</td><td> </td><td class="right">               //Create telescope key bindings</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               /* StelAction-s with these key bindings existed in Stellariu
m prior to</td><td> </td><td class="right">               /* StelAction-s with these key bindings existed in Stellariu
m prior to</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       revision 6311. Any future backports should account f
or that. */</td><td> </td><td class="right">                       revision 6311. Any future backports should account f
or that. */</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString section = N_("Telescope Control");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               for (int i = MIN_SLOT_NUMBER; i &lt;= MAX_SLOT_NUMBER; i++)</td><td> </td><td class="right">               for (int i = MIN_SLOT_NUMBER; i &lt;= MAX_SLOT_NUMBER; i++)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // "Slew to object" commands</td><td> </td><td class="right">                       // "Slew to object" commands</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString name = moveToSelectedActionId.arg(i);</td><td> </td><td class="right">                       QString name = moveToSelectedActionId.arg(i);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString shortcut = QString("Ctrl+%1").arg(i);</td><td> </td><td class="right">                       QString shortcut = QString("Ctrl+%1").arg(i);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString text;</td><td> </td><td class="right">                       QString text;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       text = q_("Move telescope #%1 to selected object").a
rg(i);</td><td> </td><td class="right">                       text = q_("Move telescope #%1 to selected object").a
rg(i);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       addAction(name, <span class="delete">N_("Telescope Control"),</span> text, <span class="delete">"slew</span></td><td> </td><td class="rblock">                       <span class="insert">StelAction* actionSlewObj =</span> addAction(name, <span class="insert">section,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">TelescopeToSelectedObject()",</span> shortcut);</td><td> </td><td class="rblock"> text, <span class="insert">slewObj, "map()",</span> shortcut);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">slewObj-&gt;setMapping(actionSlewObj, i);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // "Slew to the center of the screen" commands</td><td> </td><td class="right">                       // "Slew to the center of the screen" commands</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       name = moveToCenterActionId.arg(i);</td><td> </td><td class="right">                       name = moveToCenterActionId.arg(i);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       shortcut = QString("Alt+%1").arg(i);</td><td> </td><td class="right">                       shortcut = QString("Alt+%1").arg(i);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       text = q_("Move telescope #%1 to the point currently
 in the center of the screen").arg(i);</td><td> </td><td class="right">                       text = q_("Move telescope #%1 to the point currently
 in the center of the screen").arg(i);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       addAction(name, <span class="delete">N_("Telescope Control"),</span> text, <span class="delete">"slew</span></td><td> </td><td class="rblock">                       <span class="insert">StelAction* actionSlewDir =</span> addAction(name, <span class="insert">section,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">TelescopeToViewDirection()",</span> shortcut);</td><td> </td><td class="rblock"> text, <span class="insert">slewDir, "map()",</span> shortcut);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">slewDir-&gt;setMapping(actionSlewDir, i);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">connect(slewObj,SIGNAL(mapped(int)),this,SLOT(slewTelescopeT</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">oSelectedObject(int)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               connect(slewDir,SIGNAL(mapped(int)),this,SLOT(slewTelescopeT</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">oViewDirection(int)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               connect(&amp;StelApp::getInstance(), SIGNAL(languageChanged()),</td><td> </td><td class="right">               connect(&amp;StelApp::getInstance(), SIGNAL(languageChanged()),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       this, SLOT(translateActionDescriptions()));</td><td> </td><td class="right">                       this, SLOT(translateActionDescriptions()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Create and initialize dialog windows</td><td> </td><td class="right">               //Create and initialize dialog windows</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeDialog = new TelescopeDialog();</td><td> </td><td class="right">               telescopeDialog = new TelescopeDialog();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               slewDialog = new SlewDialog();</td><td> </td><td class="right">               slewDialog = new SlewDialog();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               addAction("actionShow_Slew_Window", N_("Telescope Control"),
 N_("Move a telescope to a given set of coordinates"), slewDialog, "visible
", "Ctrl+0");</td><td> </td><td class="right">               addAction("actionShow_Slew_Window", N_("Telescope Control"),
 N_("Move a telescope to a given set of coordinates"), slewDialog, "visible
", "Ctrl+0");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Create toolbar button</td><td> </td><td class="right">               //Create toolbar button</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 193</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 201</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       toolbarButton = new StelButton(NULL,</td><td> </td><td class="right">                       toolbarButton = new StelButton(NULL,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      QPixmap(":/telescopeC
ontrol/button_Slew_Dialog_on.png"),</td><td> </td><td class="right">                                                      QPixmap(":/telescopeC
ontrol/button_Slew_Dialog_on.png"),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      QPixmap(":/telescopeC
ontrol/button_Slew_Dialog_off.png"),</td><td> </td><td class="right">                                                      QPixmap(":/telescopeC
ontrol/button_Slew_Dialog_off.png"),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      QPixmap(":/graphicGui
/glow32x32.png"),</td><td> </td><td class="right">                                                      QPixmap(":/graphicGui
/glow32x32.png"),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      "actionShow_Slew_Wind
ow");</td><td> </td><td class="right">                                                      "actionShow_Slew_Wind
ow");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       gui-&gt;getButtonBar()-&gt;addButton(toolbarButton, "065-p
luginsGroup");</td><td> </td><td class="right">                       gui-&gt;getButtonBar()-&gt;addButton(toolbarButton, "065-p
luginsGroup");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       catch (std::runtime_error &amp;e)</td><td> </td><td class="right">       catch (std::runtime_error &amp;e)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl::init() error: " &lt;&lt; e.what()
</span>;</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] init() error: " &lt;&lt; e.what(
)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       GETSTELMODULE(StelObjectMgr)-&gt;registerStelObjectMgr(this);</td><td> </td><td class="right">       GETSTELMODULE(StelObjectMgr)-&gt;registerStelObjectMgr(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">//Initialize style, as it is not called at startup:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       //(necessary to initialize the reticle/label/circle colors)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       setStelStyle(StelApp::getInstance().getCurrentStelStyle());</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       connect(&amp;StelApp::getInstance(), SIGNAL(colorSchemeChanged(const QSt</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ring&amp;)), this, SLOT(setStelStyle(const QString&amp;)));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::translateActionDescriptions()</td><td> </td><td class="right">void TelescopeControl::translateActionDescriptions()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelActionMgr* actionMgr = StelApp::getInstance().getStelActionManag
er();</td><td> </td><td class="right">       StelActionMgr* actionMgr = StelApp::getInstance().getStelActionManag
er();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int i = MIN_SLOT_NUMBER; i &lt;= MAX_SLOT_NUMBER; i++)</td><td> </td><td class="right">       for (int i = MIN_SLOT_NUMBER; i &lt;= MAX_SLOT_NUMBER; i++)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString name;</td><td> </td><td class="right">               QString name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString description;</td><td> </td><td class="right">               QString description;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 240</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 243</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       while(iterator != telescopeServerProcess.constEnd())</td><td> </td><td class="right">       while(iterator != telescopeServerProcess.constEnd())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               int slotNumber = iterator.key();</td><td> </td><td class="right">               int slotNumber = iterator.key();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef Q_OS_WIN</td><td> </td><td class="right">#ifdef Q_OS_WIN</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerProcess[slotNumber]-&gt;close();</td><td> </td><td class="right">               telescopeServerProcess[slotNumber]-&gt;close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#else</td><td> </td><td class="right">#else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerProcess[slotNumber]-&gt;terminate();</td><td> </td><td class="right">               telescopeServerProcess[slotNumber]-&gt;terminate();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerProcess[slotNumber]-&gt;waitForFinished();</td><td> </td><td class="right">               telescopeServerProcess[slotNumber]-&gt;waitForFinished();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete telescopeServerProcess[slotNumber];</td><td> </td><td class="right">               delete telescopeServerProcess[slotNumber];</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">TelescopeControl::deinit(): Server process at s
</span>lot" &lt;&lt; slotNumber &lt;&lt; "terminated successfully.";</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] deinit(): Server process at 
s</span>lot" &lt;&lt; slotNumber &lt;&lt; "terminated successfully.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ++iterator;</td><td> </td><td class="right">               ++iterator;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //TODO: Decide if it should be saved on change</td><td> </td><td class="right">       //TODO: Decide if it should be saved on change</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Save the configuration on exit</td><td> </td><td class="right">       //Save the configuration on exit</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       saveConfiguration();</td><td> </td><td class="right">       saveConfiguration();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::update(double deltaTime)</td><td> </td><td class="right">void TelescopeControl::update(double deltaTime)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 310</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 313</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       reticleTexture-&gt;bind();</td><td> </td><td class="right">                                       reticleTexture-&gt;bind();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(GETSTELMODULE(StelObjectMgr)-&gt;getFlagSelectedObjectPointer())</td><td> </td><td class="right">       if(GETSTELMODULE(StelObjectMgr)-&gt;getFlagSelectedObjectPointer())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               drawPointer(prj, core, sPainter);</td><td> </td><td class="right">               drawPointer(prj, core, sPainter);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">void TelescopeControl::setStelStyle(const QString&amp; section)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">{</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (section == "night_color")</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               setLabelColor(labelNightColor);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               setReticleColor(reticleNightColor);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               setCircleColor(circleNightColor);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       else</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               setLabelColor(labelNormalColor);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               setReticleColor(reticleNormalColor);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               setCircleColor(circleNormalColor);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       telescopeDialog-&gt;updateStyle();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double TelescopeControl::getCallOrder(StelModuleActionName actionName) cons
t</td><td> </td><td class="right">double TelescopeControl::getCallOrder(StelModuleActionName actionName) cons
t</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //TODO: Remove magic number (call order offset)</td><td> </td><td class="right">       //TODO: Remove magic number (call order offset)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (actionName == StelModule::ActionDraw)</td><td> </td><td class="right">       if (actionName == StelModule::ActionDraw)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return StelApp::getInstance().getModuleMgr().getModule("Land
scapeMgr")-&gt;getCallOrder(actionName) + 2.;</td><td> </td><td class="right">               return StelApp::getInstance().getModuleMgr().getModule("Land
scapeMgr")-&gt;getCallOrder(actionName) + 2.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return 0.;</td><td> </td><td class="right">       return 0.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////////////////////////////////
/////</td><td> </td><td class="right">///////////////////////////////////////////////////////////////////////////
/////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Methods inherited from the StelObjectModule class</td><td> </td><td class="right">// Methods inherited from the StelObjectModule class</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 377</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 362</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelObjectP TelescopeControl::searchByName(const QString &amp;name) const</td><td> </td><td class="right">StelObjectP TelescopeControl::searchByName(const QString &amp;name) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</td><td> </td><td class="right">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (telescope-&gt;getEnglishName() == name)</td><td> </td><td class="right">               if (telescope-&gt;getEnglishName() == name)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return qSharedPointerCast&lt;StelObject&gt;(telescope);</td><td> </td><td class="right">                       return qSharedPointerCast&lt;StelObject&gt;(telescope);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return 0;</td><td> </td><td class="right">       return 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">QStringList TelescopeControl::listMatchingObjectsI18n(const QString&amp; objPre</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">fix, int maxNbItem, bool useStartOfWords) const</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">{</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QStringList result;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (maxNbItem==0)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return result;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QString tn;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       bool find;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               tn = telescope-&gt;getNameI18n();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               find = false;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (useStartOfWords)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       if (objPrefix.toUpper()==tn.mid(0, objPrefix.size())</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">.toUpper())</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               find = true;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               else</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       if (tn.contains(objPrefix, Qt::CaseInsensitive))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               find = true;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (find)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       result &lt;&lt; tn;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       result.sort();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (result.size()&gt;maxNbItem)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               result.erase(result.begin() + maxNbItem, result.end());</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       return result;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">QStringList TelescopeControl::listMatchingObjects(const QString&amp; objPrefix,</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> int maxNbItem, bool useStartOfWords) const</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">{</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QStringList result;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (maxNbItem==0)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return result;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QString tn;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       bool find;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       foreach (const TelescopeClientP&amp; telescope, telescopeClients)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               tn = telescope-&gt;getEnglishName();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               find = false;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (useStartOfWords)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       if (objPrefix.toUpper()==tn.mid(0, objPrefix.size())</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">.toUpper())</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               find = true;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               else</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       if (tn.contains(objPrefix, Qt::CaseInsensitive))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               find = true;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (find)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       result &lt;&lt; tn;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       result.sort();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (result.size()&gt;maxNbItem)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               result.erase(result.begin() + maxNbItem, result.end());</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       return result;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool TelescopeControl::configureGui(bool show)</td><td> </td><td class="right">bool TelescopeControl::configureGui(bool show)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(show)</td><td> </td><td class="right">       if(show)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeDialog-&gt;setVisible(true);</td><td> </td><td class="right">               telescopeDialog-&gt;setVisible(true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return true;</td><td> </td><td class="right">       return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////////////////////////////////
/////</td><td> </td><td class="right">///////////////////////////////////////////////////////////////////////////
/////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Misc methods (from TelescopeMgr; TODO: Better categorization)</td><td> </td><td class="right">// Misc methods (from TelescopeMgr; TODO: Better categorization)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::setFontSize(int fontSize)</td><td> </td><td class="right">void TelescopeControl::setFontSize(int fontSize)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       labelFont.setPixelSize(fontSize);</td><td> </td><td class="right">       labelFont.setPixelSize(fontSize);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void TelescopeControl::slewTelescopeToSelectedObject()</td><td> </td><td class="rblock">void TelescopeControl::slewTelescopeToSelectedObject(<span class="insert">const int idx</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">// Find out for which telescope is the command</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (sender() == NULL)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       int slotNumber = sender()-&gt;objectName().right(1).toInt();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Find out the coordinates of the target</td><td> </td><td class="right">       // Find out the coordinates of the target</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelObjectMgr* omgr = GETSTELMODULE(StelObjectMgr);</td><td> </td><td class="right">       StelObjectMgr* omgr = GETSTELMODULE(StelObjectMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (omgr-&gt;getSelectedObject().isEmpty())</td><td> </td><td class="right">       if (omgr-&gt;getSelectedObject().isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelObjectP selectObject = omgr-&gt;getSelectedObject().at(0);</td><td> </td><td class="right">       StelObjectP selectObject = omgr-&gt;getSelectedObject().at(0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!selectObject)  // should never happen</td><td> </td><td class="right">       if (!selectObject)  // should never happen</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d objectPosition = selectObject-&gt;getJ2000EquatorialPos(StelApp::
getInstance().getCore());</td><td> </td><td class="right">       Vec3d objectPosition = selectObject-&gt;getJ2000EquatorialPos(StelApp::
getInstance().getCore());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       telescopeGoto(<span class="delete">slotNumber</span>, objectPosition);</td><td> </td><td class="rblock">       telescopeGoto(<span class="insert">idx</span>, objectPosition);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void TelescopeControl::slewTelescopeToViewDirection()</td><td> </td><td class="rblock">void TelescopeControl::slewTelescopeToViewDirection(<span class="insert">const int idx</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">// Find out for which telescope is the command</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if (sender() == NULL)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       // XXX: we could use a QSignalMapper instead of this trick.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       int slotNumber = sender()-&gt;objectName().right(1).toInt();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Find out the coordinates of the target</td><td> </td><td class="right">       // Find out the coordinates of the target</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d centerPosition = GETSTELMODULE(StelMovementMgr)-&gt;getViewDirect
ionJ2000();</td><td> </td><td class="right">       Vec3d centerPosition = GETSTELMODULE(StelMovementMgr)-&gt;getViewDirect
ionJ2000();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       telescopeGoto(<span class="delete">slotNumber</span>, centerPosition);</td><td> </td><td class="rblock">       telescopeGoto(<span class="insert">idx</span>, centerPosition);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::drawPointer(const StelProjectorP&amp; prj, const StelCor
e* core, StelPainter&amp; sPainter)</td><td> </td><td class="right">void TelescopeControl::drawPointer(const StelProjectorP&amp; prj, const StelCor
e* core, StelPainter&amp; sPainter)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifndef COMPATIBILITY_001002</td><td> </td><td class="right">#ifndef COMPATIBILITY_001002</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Leaves this whole routine empty if this is the backport version.</td><td> </td><td class="right">       //Leaves this whole routine empty if this is the backport version.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Otherwise, there will be two concentric selection markers drawn ar
ound the telescope pointer.</td><td> </td><td class="right">       //Otherwise, there will be two concentric selection markers drawn ar
ound the telescope pointer.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //In 0.10.3, the plug-in unloads the module that draws the surplus m
arker.</td><td> </td><td class="right">       //In 0.10.3, the plug-in unloads the module that draws the surplus m
arker.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const QList&lt;StelObjectP&gt; newSelected = GETSTELMODULE(StelObjectMgr)-
&gt;getSelectedObject("Telescope");</td><td> </td><td class="right">       const QList&lt;StelObjectP&gt; newSelected = GETSTELMODULE(StelObjectMgr)-
&gt;getSelectedObject("Telescope");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!newSelected.empty())</td><td> </td><td class="right">       if (!newSelected.empty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 591</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 495</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //TODO: I don't like how this turned out</td><td> </td><td class="right">       //TODO: I don't like how this turned out</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(serverExecutablesDirectoryPath.isEmpty())</td><td> </td><td class="right">       if(serverExecutablesDirectoryPath.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //As StelFileMgr is quite limited, use Qt's handy methods (I love Qt
!)</td><td> </td><td class="right">       //As StelFileMgr is quite limited, use Qt's handy methods (I love Qt
!)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Get all executable files with names beginning with "TelescopeServe
r" in this directory</td><td> </td><td class="right">       //Get all executable files with names beginning with "TelescopeServe
r" in this directory</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QDir serverDirectory(serverExecutablesDirectoryPath);</td><td> </td><td class="right">       QDir serverDirectory(serverExecutablesDirectoryPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!serverDirectory.exists())</td><td> </td><td class="right">       if(!serverDirectory.exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl: No telescope server directo
</span>ry has been found.";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] No telescope server direct
o</span>ry has been found.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QList&lt;QFileInfo&gt; telescopeServerExecutables = serverDirectory.entryI
nfoList(QStringList("TelescopeServer*"), (QDir::Files|QDir::Executable|QDir
::CaseSensitive), QDir::Name);</td><td> </td><td class="right">       QList&lt;QFileInfo&gt; telescopeServerExecutables = serverDirectory.entryI
nfoList(QStringList("TelescopeServer*"), (QDir::Files|QDir::Executable|QDir
::CaseSensitive), QDir::Name);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!telescopeServerExecutables.isEmpty())</td><td> </td><td class="right">       if(!telescopeServerExecutables.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               foreach(QFileInfo telescopeServerExecutable, telescopeServer
Executables)</td><td> </td><td class="right">               foreach(QFileInfo telescopeServerExecutable, telescopeServer
Executables)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServers.append(telescopeServerExecutable.ba
seName());//This strips the ".exe" suffix on Windows</td><td> </td><td class="right">                       telescopeServers.append(telescopeServerExecutable.ba
seName());//This strips the ".exe" suffix on Windows</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> No telescope server <span class="delete">executa</span></td><td> </td><td class="rblock">               qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> No telescope server <span class="insert">execut</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">bles</span> found in"</td><td> </td><td class="rblock"><span class="insert">ables</span> found in" &lt;&lt; <span class="insert">serverExecutablesDirectoryPath;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                        &lt;&lt; <span class="delete">serverExecutable</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">sDirectoryPath;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////////////////////////////////
/////</td><td> </td><td class="right">///////////////////////////////////////////////////////////////////////////
/////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Methods for reading from and writing to the configuration file</td><td> </td><td class="right">// Methods for reading from and writing to the configuration file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::loadConfiguration()</td><td> </td><td class="right">void TelescopeControl::loadConfiguration()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSettings* settings = StelApp::getInstance().getSettings();</td><td> </td><td class="right">       QSettings* settings = StelApp::getInstance().getSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(settings);</td><td> </td><td class="right">       Q_ASSERT(settings);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 630</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 533</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagTelescopeCircles(settings-&gt;value("flag_telescope_circles", tr
ue).toBool());</td><td> </td><td class="right">       setFlagTelescopeCircles(settings-&gt;value("flag_telescope_circles", tr
ue).toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Load font size</td><td> </td><td class="right">       //Load font size</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef Q_OS_WIN</td><td> </td><td class="right">#ifdef Q_OS_WIN</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFontSize(settings-&gt;value("telescope_labels_font_size", 13).toInt(
)); //Windows Qt bug workaround</td><td> </td><td class="right">       setFontSize(settings-&gt;value("telescope_labels_font_size", 13).toInt(
)); //Windows Qt bug workaround</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#else</td><td> </td><td class="right">#else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFontSize(settings-&gt;value("telescope_labels_font_size", 12).toInt(
));</td><td> </td><td class="right">       setFontSize(settings-&gt;value("telescope_labels_font_size", 12).toInt(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Load colours</td><td> </td><td class="right">       //Load colours</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">reticleNormalColor = StelUtils::strToVec3f(settings-&gt;value("color_te</span></td><td> </td><td class="rblock">       <span class="insert">setReticleColor(StelUtils::strToVec3f(settings-&gt;value("color_telesco</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">lescope_reticles", "0.6,0.4,0").toString());</span></td><td> </td><td class="rblock"><span class="insert">pe_reticles", "0.6,0.4,0").toString()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       reticleNightColor = StelUtils::strToVec3f(settings-&gt;value("night_col</span></td><td> </td><td class="rblock"><span class="insert">       setLabelColor(StelUtils::strToVec3f(settings-&gt;value("color_telescope</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">or_telescope_reticles", "0.5,0,0").toString());</span></td><td> </td><td class="rblock"><span class="insert">_labels", "0.6,0.4,0").toString()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       labelNormalColor = StelUtils::strToVec3f(settings-&gt;value("color_tele</span></td><td> </td><td class="rblock"><span class="insert">       setCircleColor(StelUtils::strToVec3f(settings-&gt;value("color_telescop</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">scope_labels", "0.6,0.4,0").toString());</span></td><td> </td><td class="rblock"><span class="insert">e_circles", "0.6,0.4,0").toString()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       labelNightColor = StelUtils::strToVec3f(settings-&gt;value("night_color</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">_telescope_labels", "0.5,0,0").toString());</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       circleNormalColor = StelUtils::strToVec3f(settings-&gt;value("color_tel</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">escope_circles", "0.6,0.4,0").toString());</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       circleNightColor = StelUtils::strToVec3f(settings-&gt;value("night_colo</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">r_telescope_circles", "0.5,0,0").toString());</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Load server executables flag and directory</td><td> </td><td class="right">       //Load server executables flag and directory</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       useServerExecutables = settings-&gt;value("flag_use_server_executables"
, false).toBool();</td><td> </td><td class="right">       useServerExecutables = settings-&gt;value("flag_use_server_executables"
, false).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       serverExecutablesDirectoryPath = settings-&gt;value("server_executables
_path").toString();</td><td> </td><td class="right">       serverExecutablesDirectoryPath = settings-&gt;value("server_executables
_path").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //If no directory is specified in the configuration file, try to fin
d the default one</td><td> </td><td class="right">       //If no directory is specified in the configuration file, try to fin
d the default one</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(serverExecutablesDirectoryPath.isEmpty() || !QDir(serverExecutabl
esDirectoryPath).exists())</td><td> </td><td class="right">       if(serverExecutablesDirectoryPath.isEmpty() || !QDir(serverExecutabl
esDirectoryPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Find out if the default server directory exists</td><td> </td><td class="right">               //Find out if the default server directory exists</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString serverDirectoryPath = StelFileMgr::findFile("servers
", StelFileMgr::Directory);</td><td> </td><td class="right">               QString serverDirectoryPath = StelFileMgr::findFile("servers
", StelFileMgr::Directory);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 677</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 577</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(settings);</td><td> </td><td class="right">       Q_ASSERT(settings);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;beginGroup("TelescopeControl");</td><td> </td><td class="right">       settings-&gt;beginGroup("TelescopeControl");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Save display flags</td><td> </td><td class="right">       //Save display flags</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("flag_telescope_reticles", getFlagTelescopeReticl
es());</td><td> </td><td class="right">       settings-&gt;setValue("flag_telescope_reticles", getFlagTelescopeReticl
es());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("flag_telescope_labels", getFlagTelescopeLabels()
);</td><td> </td><td class="right">       settings-&gt;setValue("flag_telescope_labels", getFlagTelescopeLabels()
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("flag_telescope_circles", getFlagTelescopeCircles
());</td><td> </td><td class="right">       settings-&gt;setValue("flag_telescope_circles", getFlagTelescopeCircles
());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Save colours</td><td> </td><td class="right">       //Save colours</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       settings-&gt;setValue("color_telescope_reticles", <span class="delete">QString("%1,%2,%3").a</span></td><td> </td><td class="rblock">       settings-&gt;setValue("color_telescope_reticles", <span class="insert">StelUtils::vec3fToHtm</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">rg(reticleNormalColor[0], 0, 'f', 2).arg(reticleNormalColor[1], 0, 'f', 2).</span></td><td> </td><td class="rblock"><span class="insert">lColor(getReticleColor()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">arg(reticleNormalColor[2], 0, 'f', 2));</span></td><td> </td><td class="rblock">       settings-&gt;setValue("color_telescope_labels", <span class="insert">StelUtils::vec3fToHtmlC</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       settings-&gt;setValue("night_color_telescope_reticles", QString("%1,%2,</span></td><td> </td><td class="rblock"><span class="insert">olor(getLabelColor()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">%3").arg(reticleNightColor[0], 0, 'f', 2).arg(reticleNightColor[1], 0, 'f',</span></td><td> </td><td class="rblock">       settings-&gt;setValue("color_telescope_circles", <span class="insert">StelUtils::vec3fToHtml</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> 2).arg(reticleNightColor[2], 0, 'f', 2));</span></td><td> </td><td class="rblock"><span class="insert">Color(getCircleColor()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       settings-&gt;setValue("color_telescope_labels", <span class="delete">QString("%1,%2,%3").arg</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">(labelNormalColor[0], 0, 'f', 2).arg(labelNormalColor[1], 0, 'f', 2).arg(la</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">belNormalColor[2], 0, 'f', 2));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       settings-&gt;setValue("night_color_telescope_labels", QString("%1,%2,%3</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">").arg(labelNightColor[0], 0, 'f', 2).arg(labelNightColor[1], 0, 'f', 2).ar</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">g(labelNightColor[2], 0, 'f', 2));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       settings-&gt;setValue("color_telescope_circles", <span class="delete">QString("%1,%2,%3").ar</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">g(circleNormalColor[0], 0, 'f', 2).arg(circleNormalColor[1], 0, 'f', 2).arg</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">(circleNormalColor[2], 0, 'f', 2));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       settings-&gt;setValue("night_color_telescope_circles", QString("%1,%2,%</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">3").arg(circleNightColor[0], 0, 'f', 2).arg(circleNightColor[1], 0, 'f', 2)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">.arg(circleNightColor[2], 0, 'f', 2));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Save telescope server executables flag and directory</td><td> </td><td class="right">       //Save telescope server executables flag and directory</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("flag_use_server_executables", useServerExecutabl
es);</td><td> </td><td class="right">       settings-&gt;setValue("flag_use_server_executables", useServerExecutabl
es);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(useServerExecutables)</td><td> </td><td class="right">       if(useServerExecutables)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue("server_executables_path", serverExecutab
lesDirectoryPath);</td><td> </td><td class="right">               settings-&gt;setValue("server_executables_path", serverExecutab
lesDirectoryPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;remove("server_executables_path");</td><td> </td><td class="right">               settings-&gt;remove("server_executables_path");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Save logging flag</td><td> </td><td class="right">       //Save logging flag</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("flag_enable_telescope_logs", useTelescopeServerL
ogs);</td><td> </td><td class="right">       settings-&gt;setValue("flag_enable_telescope_logs", useTelescopeServerL
ogs);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;endGroup();</td><td> </td><td class="right">       settings-&gt;endGroup();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// Remove outdated config items</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (settings-&gt;contains("TelescopeControl/night_color_telescope_retic</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">les"))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               settings-&gt;remove("TelescopeControl/night_color_telescope_ret</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">icles");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (settings-&gt;contains("TelescopeControl/night_color_telescope_label</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">s"))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               settings-&gt;remove("TelescopeControl/night_color_telescope_lab</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">els");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (settings-&gt;contains("TelescopeControl/night_color_telescope_circl</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">es"))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               settings-&gt;remove("TelescopeControl/night_color_telescope_cir</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">cles");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::saveTelescopes()</td><td> </td><td class="right">void TelescopeControl::saveTelescopes()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Open/create the JSON file</td><td> </td><td class="right">       //Open/create the JSON file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString telescopesJsonPath = StelFileMgr::findFile("modules/Telescop
eControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writabl
e)) + "/telescopes.json";</td><td> </td><td class="right">       QString telescopesJsonPath = StelFileMgr::findFile("modules/Telescop
eControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writabl
e)) + "/telescopes.json";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (telescopesJsonPath.isEmpty())</td><td> </td><td class="right">       if (telescopesJsonPath.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl:</span> Error saving telescopes";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl]</span> Error saving telescopes";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile telescopesJsonFile(telescopesJsonPath);</td><td> </td><td class="right">       QFile telescopesJsonFile(telescopesJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!telescopesJsonFile.open(QFile::WriteOnly|QFile::Text))</td><td> </td><td class="right">       if(!telescopesJsonFile.open(QFile::WriteOnly|QFile::Text))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Telescopes can not be saved
. A file can not be open for writing:" &lt;&lt; QDir::toNativeSeparators(telescop
</span>esJsonPath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Telescopes can not be save
d. A file can not be open for writing:" &lt;&lt; QDir::toNativeSeparators(telesco
p</span>esJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Add the version:</td><td> </td><td class="right">       //Add the version:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       telescopeDescriptions.insert("version", QString(TELESCOPE_CONTROL_VE
RSION));</td><td> </td><td class="right">       telescopeDescriptions.insert("version", QString(TELESCOPE_CONTROL_VE
RSION));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Convert the tree to JSON</td><td> </td><td class="right">       //Convert the tree to JSON</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelJsonParser::write(telescopeDescriptions, &amp;telescopesJsonFile);</td><td> </td><td class="right">       StelJsonParser::write(telescopeDescriptions, &amp;telescopesJsonFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       telescopesJsonFile.flush();//Is this necessary?</td><td> </td><td class="right">       telescopesJsonFile.flush();//Is this necessary?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       telescopesJsonFile.close();</td><td> </td><td class="right">       telescopesJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void TelescopeControl::loadTelescopes()</td><td> </td><td class="right">void TelescopeControl::loadTelescopes()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantMap result;</td><td> </td><td class="right">       QVariantMap result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString telescopesJsonPath = StelFileMgr::findFile("modules/Telescop
eControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writabl
e)) + "/telescopes.json";</td><td> </td><td class="right">       QString telescopesJsonPath = StelFileMgr::findFile("modules/Telescop
eControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writabl
e)) + "/telescopes.json";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (telescopesJsonPath.isEmpty())</td><td> </td><td class="right">       if (telescopesJsonPath.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl:</span> Error loading telescopes";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl]</span> Error loading telescopes";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!QFileInfo(telescopesJsonPath).exists())</td><td> </td><td class="right">       if(!QFileInfo(telescopesJsonPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl::loadTelescopes(): No telesc
opes loaded. File is missing:" &lt;&lt; QDir::toNativeSeparators(telescopesJsonPa
</span>th);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] loadTelescopes(): No teles
copes loaded. File is missing:" &lt;&lt; QDir::toNativeSeparators(telescopesJsonP
a</span>th);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeDescriptions = result;</td><td> </td><td class="right">               telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile telescopesJsonFile(telescopesJsonPath);</td><td> </td><td class="right">       QFile telescopesJsonFile(telescopesJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantMap map;</td><td> </td><td class="right">       QVariantMap map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!telescopesJsonFile.open(QFile::ReadOnly))</td><td> </td><td class="right">       if(!telescopesJsonFile.open(QFile::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl: No telescopes loaded. Can't
</span> open for reading" &lt;&lt; QDir::toNativeSeparators(telescopesJsonPath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] No telescopes loaded. Can'
t</span> open for reading" &lt;&lt; QDir::toNativeSeparators(telescopesJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeDescriptions = result;</td><td> </td><td class="right">               telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               map = StelJsonParser::parse(&amp;telescopesJsonFile).toMap();</td><td> </td><td class="right">               map = StelJsonParser::parse(&amp;telescopesJsonFile).toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopesJsonFile.close();</td><td> </td><td class="right">               telescopesJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //File contains any telescopes?</td><td> </td><td class="right">       //File contains any telescopes?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(map.isEmpty())</td><td> </td><td class="right">       if(map.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeDescriptions = result;</td><td> </td><td class="right">               telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString version = map.value("version", "0.0.0").toString();</td><td> </td><td class="right">       QString version = map.value("version", "0.0.0").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if(<span class="delete">version &lt; QString(TELESCOPE_CONTROL_VERSION)</span>)</td><td> </td><td class="rblock">       if(<span class="insert">StelUtils::compareVersions(version, QString(TELESCOPE_CONTROL_VER
SION))!=0</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString newName = telescopesJsonPath + ".backup." + QDateTim
e::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td> </td><td class="right">               QString newName = telescopesJsonPath + ".backup." + QDateTim
e::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(telescopesJsonFile.rename(newName))</td><td> </td><td class="right">               if(telescopesJsonFile.rename(newName))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> The existing <span class="delete">versio</span></td><td> </td><td class="rblock">                       qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> The existing <span class="insert">versi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">n</span> of telescopes.json is obsolete. Backing it up <span class="delete">as "</span> &lt;&lt; QDir::toNativeSepar</td><td> </td><td class="rblock"><span class="insert">on</span> of telescopes.json is obsolete. Backing it up <span class="insert">as"</span> &lt;&lt; QDir::toNativeSepar</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">ators(newName);</td><td> </td><td class="rblock">ators(newName);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> A blank <span class="delete">telescopes.</span></td><td> </td><td class="rblock">                       qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> A blank <span class="insert">telescopes</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">json</span> file will have to be created.";</td><td> </td><td class="rblock"><span class="insert">.json</span> file will have to be created.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeDescriptions = result;</td><td> </td><td class="right">                       telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: The existing versio
</span>n of telescopes.json is obsolete. Unable to rename.";</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] The existing versi
o</span>n of telescopes.json is obsolete. Unable to rename.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeDescriptions = result;</td><td> </td><td class="right">                       telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       map.remove("version");<span class="delete">//Otherwise it will try to read it as a telesc
</span>ope</td><td> </td><td class="rblock">       map.remove("version");<span class="insert"> // Otherwise it will try to read it as a tele
sc</span>ope</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Make sure that there are no telescope clients yet</td><td> </td><td class="right">       //Make sure that there are no telescope clients yet</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       deleteAllTelescopes();</td><td> </td><td class="right">       deleteAllTelescopes();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Read telescopes, if any</td><td> </td><td class="right">       //Read telescopes, if any</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int telescopesCount = 0;</td><td> </td><td class="right">       int telescopesCount = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QMapIterator&lt;QString, QVariant&gt; node(map);</td><td> </td><td class="right">       QMapIterator&lt;QString, QVariant&gt; node(map);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool ok;</td><td> </td><td class="right">       bool ok;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       while(node.hasNext())</td><td> </td><td class="right">       while(node.hasNext())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               node.next();</td><td> </td><td class="right">               node.next();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString key = node.key();</td><td> </td><td class="right">               QString key = node.key();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //If this is not a valid slot number, remove the node</td><td> </td><td class="right">               //If this is not a valid slot number, remove the node</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               int slot = key.toInt(&amp;ok);</td><td> </td><td class="right">               int slot = key.toInt(&amp;ok);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!ok || !isValidSlotNumber(slot))</td><td> </td><td class="right">               if(!ok || !isValidSlotNumber(slot))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qDebug() &lt;&lt; "<span class="delete">TelescopeControl::loadTelescopes(): Del
</span>eted node unrecogised as slot:" &lt;&lt; key;</td><td> </td><td class="rblock">                       qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] loadTelescopes(): De
l</span>eted node unrecogised as slot:" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       map.remove(key);</td><td> </td><td class="right">                       map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QVariantMap telescope = node.value().toMap();</td><td> </td><td class="right">               QVariantMap telescope = node.value().toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Essential parameters: Name, connection type, equinox</td><td> </td><td class="right">               //Essential parameters: Name, connection type, equinox</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Validation: Name</td><td> </td><td class="right">               //Validation: Name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString name = telescope.value("name").toString();</td><td> </td><td class="right">               QString name = telescope.value("name").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(name.isEmpty())</td><td> </td><td class="right">               if(name.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unable to load telesc
</span>ope: No name specified at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                       qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to load teles
c</span>ope: No name specified at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       map.remove(key);</td><td> </td><td class="right">                       map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Validation: Connection</td><td> </td><td class="right">               //Validation: Connection</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString connection = telescope.value("connection").toString(
);</td><td> </td><td class="right">               QString connection = telescope.value("connection").toString(
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(connection.isEmpty() || !connectionTypeNames.values().con
tains(connection))</td><td> </td><td class="right">               if(connection.isEmpty() || !connectionTypeNames.values().con
tains(connection))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unable to load telesc
</span>ope: No valid connection type at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                       qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to load teles
c</span>ope: No valid connection type at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       map.remove(key);</td><td> </td><td class="right">                       map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ConnectionType connectionType = connectionTypeNames.key(conn
ection);</td><td> </td><td class="right">               ConnectionType connectionType = connectionTypeNames.key(conn
ection);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString equinox = telescope.value("equinox", "J2000").toStri
ng();</td><td> </td><td class="right">               QString equinox = telescope.value("equinox", "J2000").toStri
ng();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (equinox != "J2000" &amp;&amp; equinox != "JNow")</td><td> </td><td class="right">               if (equinox != "J2000" &amp;&amp; equinox != "JNow")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unable to load telesc
</span>ope: Invalid equinox value at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                       qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to load teles
c</span>ope: Invalid equinox value at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       map.remove(key);</td><td> </td><td class="right">                       map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString hostName("localhost");</td><td> </td><td class="right">               QString hostName("localhost");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               int portTCP = 0;</td><td> </td><td class="right">               int portTCP = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               int delay = 0;</td><td> </td><td class="right">               int delay = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString deviceModelName;</td><td> </td><td class="right">               QString deviceModelName;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString portSerial;</td><td> </td><td class="right">               QString portSerial;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (connectionType == ConnectionInternal)</td><td> </td><td class="right">               if (connectionType == ConnectionInternal)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //Serial port and device model</td><td> </td><td class="right">                       //Serial port and device model</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       deviceModelName = telescope.value("device_model").to
String();</td><td> </td><td class="right">                       deviceModelName = telescope.value("device_model").to
String();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       portSerial = telescope.value("serial_port").toString
();</td><td> </td><td class="right">                       portSerial = telescope.value("serial_port").toString
();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(deviceModelName.isEmpty())</td><td> </td><td class="right">                       if(deviceModelName.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unable to loa
</span>d telescope: No device model specified at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to lo
a</span>d telescope: No device model specified at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               map.remove(key);</td><td> </td><td class="right">                               map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //Do we have this server?</td><td> </td><td class="right">                       //Do we have this server?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(!deviceModels.contains(deviceModelName))</td><td> </td><td class="right">                       if(!deviceModels.contains(deviceModelName))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> Unable to <span class="delete">l</span></td><td> </td><td class="rblock">                               qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> Unable to </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">oad</span> telescope at slot" &lt;&lt; slot &lt;&lt; "because the specified device model is <span class="delete">mi</span></td><td> </td><td class="rblock"><span class="insert">load</span> telescope at slot" &lt;&lt; slot</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ssing:"</span> &lt;&lt; deviceModelName;</td><td> </td><td class="rblock">                                          &lt;&lt; "because the specified device </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">model is <span class="insert">missing:"</span> &lt;&lt; deviceModelName;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               map.remove(key);</td><td> </td><td class="right">                               map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(portSerial.isEmpty())</td><td> </td><td class="right">                       if(portSerial.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unable to loa
</span>d telescope: No valid serial port specified at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to lo
a</span>d telescope: No valid serial port specified at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               map.remove(key);</td><td> </td><td class="right">                               map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (connectionType == ConnectionRemote)</td><td> </td><td class="right">               if (connectionType == ConnectionRemote)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //Validation: Host name</td><td> </td><td class="right">                       //Validation: Host name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       hostName = telescope.value("host_name").toString();</td><td> </td><td class="right">                       hostName = telescope.value("host_name").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(hostName.isEmpty())</td><td> </td><td class="right">                       if(hostName.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qDebug() &lt;&lt; "<span class="delete">TelescopeControl::loadTelescope
</span>s(): No host name at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] loadTelescop
e</span>s(): No host name at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               map.remove(key);</td><td> </td><td class="right">                               map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (connectionType != ConnectionVirtual)</td><td> </td><td class="right">               if (connectionType != ConnectionVirtual)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //Validation: TCP port</td><td> </td><td class="right">                       //Validation: TCP port</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       portTCP = telescope.value("tcp_port").toInt();</td><td> </td><td class="right">                       portTCP = telescope.value("tcp_port").toInt();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(!telescope.contains("tcp_port") || !isValidPort(p
ortTCP))</td><td> </td><td class="right">                       if(!telescope.contains("tcp_port") || !isValidPort(p
ortTCP))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unable to loa
</span>d telescope: No valid TCP port at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to lo
a</span>d telescope: No valid TCP port at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               map.remove(key);</td><td> </td><td class="right">                               map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //Validation: Delay</td><td> </td><td class="right">                       //Validation: Delay</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       delay = telescope.value("delay", 0).toInt();</td><td> </td><td class="right">                       delay = telescope.value("delay", 0).toInt();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(!isValidDelay(delay))</td><td> </td><td class="right">                       if(!isValidDelay(delay))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unable to loa
</span>d telescope: No valid delay at slot" &lt;&lt; key;</td><td> </td><td class="rblock">                               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to lo
a</span>d telescope: No valid delay at slot" &lt;&lt; key;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               map.remove(key);</td><td> </td><td class="right">                               map.remove(key);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Connect at startup</td><td> </td><td class="right">               //Connect at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               bool connectAtStartup = telescope.value("connect_at_startup"
, false).toBool();</td><td> </td><td class="right">               bool connectAtStartup = telescope.value("connect_at_startup"
, false).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Validation: FOV circles</td><td> </td><td class="right">               //Validation: FOV circles</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QVariantList parsedJsonCircles = telescope.value("circles").
toList();</td><td> </td><td class="right">               QVariantList parsedJsonCircles = telescope.value("circles").
toList();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 948</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 856</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               //Use a sever if necessary</td><td> </td><td class="right">                               //Use a sever if necessary</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if(deviceModels[deviceModelName].useExecutab
le)</td><td> </td><td class="right">                               if(deviceModels[deviceModelName].useExecutab
le)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if(startClientAtSlot(slot, connectio
nType, name, equinox, hostName, portTCP, delay, internalCircles))</td><td> </td><td class="right">                                       if(startClientAtSlot(slot, connectio
nType, name, equinox, hostName, portTCP, delay, internalCircles))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               if(!startServerAtSlot(slot, 
deviceModelName, portTCP, portSerial))</td><td> </td><td class="right">                                               if(!startServerAtSlot(slot, 
deviceModelName, portTCP, portSerial))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               {</td><td> </td><td class="right">                                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                       stopClientAtSlot(slo
t);</td><td> </td><td class="right">                                                       stopClientAtSlot(slo
t);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                       qDebug() &lt;&lt; "<span class="delete">Telesco
peControl:</span> Unable to launch a telescope server at slot" &lt;&lt; slot;</td><td> </td><td class="rblock">                                                       qDebug() &lt;&lt; "<span class="insert">[Telesc
opeControl]</span> Unable to launch a telescope server at slot" &lt;&lt; slot;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               }</td><td> </td><td class="right">                                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       }</td><td> </td><td class="right">                                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       else</td><td> </td><td class="right">                                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                               qDebug() &lt;&lt; "<span class="delete">TelescopeContro
l:</span> Unable to create a telescope client at slot" &lt;&lt; slot;</td><td> </td><td class="rblock">                                               qDebug() &lt;&lt; "<span class="insert">[TelescopeContr
ol]</span> Unable to create a telescope client at slot" &lt;&lt; slot;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               //Unnecessary due to if-else
 construction;</td><td> </td><td class="right">                                               //Unnecessary due to if-else
 construction;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               //also, causes bug #608533</td><td> </td><td class="right">                                               //also, causes bug #608533</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               //continue;</td><td> </td><td class="right">                                               //continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       }</td><td> </td><td class="right">                                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               else</td><td> </td><td class="right">                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       addLogAtSlot(slot);</td><td> </td><td class="right">                                       addLogAtSlot(slot);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       logAtSlot(slot);</td><td> </td><td class="right">                                       logAtSlot(slot);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if(!startClientAtSlot(slot, connecti
onType, name, equinox, QString(), 0, delay, internalCircles, deviceModelNam
e, portSerial))</td><td> </td><td class="right">                                       if(!startClientAtSlot(slot, connecti
onType, name, equinox, QString(), 0, delay, internalCircles, deviceModelNam
e, portSerial))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                               qDebug() &lt;&lt; "<span class="delete">TelescopeContro
l:</span> Unable to create a telescope client at slot" &lt;&lt; slot;</td><td> </td><td class="rblock">                                               qDebug() &lt;&lt; "<span class="insert">[TelescopeContr
ol]</span> Unable to create a telescope client at slot" &lt;&lt; slot;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               //Unnecessary due to if-else
 construction;</td><td> </td><td class="right">                                               //Unnecessary due to if-else
 construction;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               //also, causes bug #608533</td><td> </td><td class="right">                                               //also, causes bug #608533</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               //continue;</td><td> </td><td class="right">                                               //continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       }</td><td> </td><td class="right">                                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if(!startClientAtSlot(slot, connectionType, 
name, equinox, hostName, portTCP, delay, internalCircles))</td><td> </td><td class="right">                               if(!startClientAtSlot(slot, connectionType, 
name, equinox, hostName, portTCP, delay, internalCircles))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Unabl
</span>e to create a telescope client at slot" &lt;&lt; slot;</td><td> </td><td class="rblock">                                       qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Unab
l</span>e to create a telescope client at slot" &lt;&lt; slot;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       //Unnecessary due to if-else constru
ction;</td><td> </td><td class="right">                                       //Unnecessary due to if-else constru
ction;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       //also, causes bug #608533</td><td> </td><td class="right">                                       //also, causes bug #608533</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       //continue;</td><td> </td><td class="right">                                       //continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //If this line is reached, the telescope at this slot has be
en loaded successfully</td><td> </td><td class="right">               //If this line is reached, the telescope at this slot has be
en loaded successfully</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopesCount++;</td><td> </td><td class="right">               telescopesCount++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(telescopesCount &gt; 0)</td><td> </td><td class="right">       if(telescopesCount &gt; 0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               result = map;</td><td> </td><td class="right">               result = map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; <span class="delete">"TelescopeControl:</span> Loaded successfully" &lt;&lt; <span class="delete">teles</span></td><td> </td><td class="rblock">               qDebug() &lt;&lt; <span class="insert">"[TelescopeControl]</span> Loaded successfully" &lt;&lt; <span class="insert">tele</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">copesCount</span> &lt;&lt; "telescopes.";</td><td> </td><td class="rblock"><span class="insert">scopesCount</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                        &lt;&lt; "telescopes.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       telescopeDescriptions = result;</td><td> </td><td class="right">       telescopeDescriptions = result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool TelescopeControl::addTelescopeAtSlot(int slot, ConnectionType connecti
onType, QString name, QString equinox, QString host, int portTCP, int delay
, bool connectAtStartup, QList&lt;double&gt; circles, QString deviceModelName, QS
tring portSerial)</td><td> </td><td class="right">bool TelescopeControl::addTelescopeAtSlot(int slot, ConnectionType connecti
onType, QString name, QString equinox, QString host, int portTCP, int delay
, bool connectAtStartup, QList&lt;double&gt; circles, QString deviceModelName, QS
tring portSerial)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Validation</td><td> </td><td class="right">       //Validation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!isValidSlotNumber(slot) || name.isEmpty() || equinox.isEmpty() |
| connectionType &lt;= ConnectionNA || connectionType &gt;= ConnectionCount)</td><td> </td><td class="right">       if(!isValidSlotNumber(slot) || name.isEmpty() || equinox.isEmpty() |
| connectionType &lt;= ConnectionNA || connectionType &gt;= ConnectionCount)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 1239</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 1148</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString slotName = QString::number(slotNumber);</td><td> </td><td class="right">       QString slotName = QString::number(slotNumber);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString serverName = deviceModels.value(deviceModelName).server;</td><td> </td><td class="right">       QString serverName = deviceModels.value(deviceModelName).server;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (telescopeServers.contains(serverName))</td><td> </td><td class="right">       if (telescopeServers.contains(serverName))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString serverExecutablePath = StelFileMgr::findFile(serverE
xecutablesDirectoryPath + TELESCOPE_SERVER_PATH.arg(serverName), StelFileMg
r::File);</td><td> </td><td class="right">               QString serverExecutablePath = StelFileMgr::findFile(serverE
xecutablesDirectoryPath + TELESCOPE_SERVER_PATH.arg(serverName), StelFileMg
r::File);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (serverExecutablePath.isEmpty())</td><td> </td><td class="right">               if (serverExecutablePath.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Error starting telesc
ope server: Can't find executable:" &lt;&lt; QDir::toNativeSeparators(serverExecu
</span>tablePath);</td><td> </td><td class="rblock">                       qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Error starting teles
cope server: Can't find executable:"                                 &lt;&lt; QDi
r::toNativeSeparators(serverExecu</span>tablePath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return false;</td><td> </td><td class="right">                       return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef Q_OS_WIN</td><td> </td><td class="right">#ifdef Q_OS_WIN</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString serialPortName = "\\\\.\\" + portSerial;</td><td> </td><td class="right">               QString serialPortName = "\\\\.\\" + portSerial;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#else</td><td> </td><td class="right">#else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString serialPortName = portSerial;</td><td> </td><td class="right">               QString serialPortName = portSerial;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif //Q_OS_WIN</td><td> </td><td class="right">#endif //Q_OS_WIN</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QStringList serverArguments;</td><td> </td><td class="right">               QStringList serverArguments;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               serverArguments &lt;&lt; QString::number(portTCP) &lt;&lt; serialPortNam
e;</td><td> </td><td class="right">               serverArguments &lt;&lt; QString::number(portTCP) &lt;&lt; serialPortNam
e;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(useTelescopeServerLogs)</td><td> </td><td class="right">               if(useTelescopeServerLogs)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       serverArguments &lt;&lt; QString(StelFileMgr::getUserDir()
 + "/log_TelescopeServer" + slotName + ".txt");</td><td> </td><td class="right">                       serverArguments &lt;&lt; QString(StelFileMgr::getUserDir()
 + "/log_TelescopeServer" + slotName + ".txt");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; <span class="delete">"TelescopeControl:</span> Starting tellescope server <span class="delete">at</span></td><td> </td><td class="rblock">               qDebug() &lt;&lt; <span class="insert">"[TelescopeControl]</span> Starting tellescope server <span class="insert">a</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> slot" &lt;&lt; slotName &lt;&lt; "with path" &lt;&lt; <span class="delete">QDir::toNativeSeparators(serverExecuta</span></td><td> </td><td class="rblock"><span class="insert">t</span> slot" &lt;&lt; slotName</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">blePath)</span> &lt;&lt; "and arguments" &lt;&lt; serverArguments.join(" ");</td><td> </td><td class="rblock">                        &lt;&lt; "with path"  &lt;&lt; <span class="insert">QDir::toNativeSeparators(serverE</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">xecutablePath)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                        &lt;&lt; "and arguments" &lt;&lt; serverArguments.join(" ");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Starting the new process</td><td> </td><td class="right">               //Starting the new process</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerProcess.insert(slotNumber, new QProcess());</td><td> </td><td class="right">               telescopeServerProcess.insert(slotNumber, new QProcess());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //telescopeServerProcess[slotNumber]-&gt;setStandardOutputFile(
StelFileMgr::getUserDir() + "/log_TelescopeServer" + slotName + ".txt");//I
n case the server does not accept logfiles</td><td> </td><td class="right">               //telescopeServerProcess[slotNumber]-&gt;setStandardOutputFile(
StelFileMgr::getUserDir() + "/log_TelescopeServer" + slotName + ".txt");//I
n case the server does not accept logfiles</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerProcess[slotNumber]-&gt;start(serverExecutablePa
th, serverArguments);</td><td> </td><td class="right">               telescopeServerProcess[slotNumber]-&gt;start(serverExecutablePa
th, serverArguments);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //return telescopeServerProcess[slotNumber]-&gt;waitForStarted(
);</td><td> </td><td class="right">               //return telescopeServerProcess[slotNumber]-&gt;waitForStarted(
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //The server is supposed to start immediately</td><td> </td><td class="right">               //The server is supposed to start immediately</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return true;</td><td> </td><td class="right">               return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Error starting telescope serv
</span>er: No such server found:" &lt;&lt; serverName;</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Error starting telescope ser
v</span>er: No such server found:" &lt;&lt; serverName;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return false;</td><td> </td><td class="right">       return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool TelescopeControl::stopServerAtSlot(int slotNumber)</td><td> </td><td class="right">bool TelescopeControl::stopServerAtSlot(int slotNumber)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Validate</td><td> </td><td class="right">       //Validate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!isValidSlotNumber(slotNumber) || !telescopeServerProcess.contain
s(slotNumber))</td><td> </td><td class="right">       if(!isValidSlotNumber(slotNumber) || !telescopeServerProcess.contain
s(slotNumber))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> line 1382</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> line 1293</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //qDebug() &lt;&lt; "TelescopeControl: Loading device model descriptions..
.";</td><td> </td><td class="right">       //qDebug() &lt;&lt; "TelescopeControl: Loading device model descriptions..
.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Make sure that the device models file exists</td><td> </td><td class="right">       //Make sure that the device models file exists</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool useDefaultList = false;</td><td> </td><td class="right">       bool useDefaultList = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString deviceModelsJsonPath = StelFileMgr::findFile("modules/Telesc
opeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writa
ble)) + "/device_models.json";</td><td> </td><td class="right">       QString deviceModelsJsonPath = StelFileMgr::findFile("modules/Telesc
opeControl", (StelFileMgr::Flags)(StelFileMgr::Directory|StelFileMgr::Writa
ble)) + "/device_models.json";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!QFileInfo(deviceModelsJsonPath).exists())</td><td> </td><td class="right">       if(!QFileInfo(deviceModelsJsonPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!restoreDeviceModelsListTo(deviceModelsJsonPath))</td><td> </td><td class="right">               if(!restoreDeviceModelsListTo(deviceModelsJsonPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Unable to find " &lt;&lt;
</span> QDir::toNativeSeparators(deviceModelsJsonPath);</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to find " &lt;
&lt;</span> QDir::toNativeSeparators(deviceModelsJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       useDefaultList = true;</td><td> </td><td class="right">                       useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile deviceModelsJsonFile(deviceModelsJsonPath);</td><td> </td><td class="right">               QFile deviceModelsJsonFile(deviceModelsJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(!deviceModelsJsonFile.open(QFile::ReadOnly))</td><td> </td><td class="right">               if(!deviceModelsJsonFile.open(QFile::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Can't open for read
</span>ing " &lt;&lt; QDir::toNativeSeparators(deviceModelsJsonPath);</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Can't open for rea
d</span>ing " &lt;&lt; QDir::toNativeSeparators(deviceModelsJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       useDefaultList = true;</td><td> </td><td class="right">                       useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //Check the version and move the old file if necessa
ry</td><td> </td><td class="right">                       //Check the version and move the old file if necessa
ry</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QVariantMap deviceModelsJsonMap;</td><td> </td><td class="right">                       QVariantMap deviceModelsJsonMap;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       deviceModelsJsonMap = StelJsonParser::parse(&amp;deviceM
odelsJsonFile).toMap();</td><td> </td><td class="right">                       deviceModelsJsonMap = StelJsonParser::parse(&amp;deviceM
odelsJsonFile).toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString version = deviceModelsJsonMap.value("version
", "0.0.0").toString();</td><td> </td><td class="right">                       QString version = deviceModelsJsonMap.value("version
", "0.0.0").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       if(<span class="delete">version &lt; QString(TELESCOPE_CONTROL_VERSION)</span>)</td><td> </td><td class="rblock">                       if(<span class="insert">StelUtils::compareVersions(version, QString(TELES
COPE_CONTROL_VERSION))!=0</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               deviceModelsJsonFile.close();</td><td> </td><td class="right">                               deviceModelsJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               QString newName = deviceModelsJsonPath + ".b
ackup." + QDateTime::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td> </td><td class="right">                               QString newName = deviceModelsJsonPath + ".b
ackup." + QDateTime::currentDateTime().toString("yyyy-MM-dd-hh-mm-ss");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if(deviceModelsJsonFile.rename(newName))</td><td> </td><td class="right">                               if(deviceModelsJsonFile.rename(newName))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0053" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: The
 existing version of device_models.json is obsolete. Backing it up as " &lt;&lt; 
</span>QDir::toNativeSeparators(newName);</td><td> </td><td class="rblock">                                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Th
e existing version of device_models.json is obsolete. Backing it up as " &lt;&lt;
 </span>QDir::toNativeSeparators(newName);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if(!restoreDeviceModelsListTo(device
ModelsJsonPath))</td><td> </td><td class="right">                                       if(!restoreDeviceModelsListTo(device
ModelsJsonPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               useDefaultList = true;</td><td> </td><td class="right">                                               useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       }</td><td> </td><td class="right">                                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               else</td><td> </td><td class="right">                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0054" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: The
</span> existing version of device_models.json is obsolete. Unable to rename.";</td><td> </td><td class="rblock">                                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Th
e</span> existing version of device_models.json is obsolete. Unable to rename.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       useDefaultList = true;</td><td> </td><td class="right">                                       useDefaultList = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               deviceModelsJsonFile.close();</td><td> </td><td class="right">                               deviceModelsJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (useDefaultList)</td><td> </td><td class="right">       if (useDefaultList)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0055" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Using embedded device model
</span>s list.";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Using embedded device mode
l</span>s list.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               deviceModelsJsonPath = ":/telescopeControl/device_models.jso
n";</td><td> </td><td class="right">               deviceModelsJsonPath = ":/telescopeControl/device_models.jso
n";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Open the file and parse the device list</td><td> </td><td class="right">       //Open the file and parse the device list</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantList deviceModelsList;</td><td> </td><td class="right">       QVariantList deviceModelsList;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile deviceModelsJsonFile(deviceModelsJsonPath);</td><td> </td><td class="right">       QFile deviceModelsJsonFile(deviceModelsJsonPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(deviceModelsJsonFile.open(QFile::ReadOnly))</td><td> </td><td class="right">       if(deviceModelsJsonFile.open(QFile::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               deviceModelsList = (StelJsonParser::parse(&amp;deviceModelsJsonF
ile).toMap()).value("list").toList();</td><td> </td><td class="right">               deviceModelsList = (StelJsonParser::parse(&amp;deviceModelsJsonF
ile).toMap()).value("list").toList();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               deviceModelsJsonFile.close();</td><td> </td><td class="right">               deviceModelsJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l12" /><small>skipping to change at</small><em> line 1448</em></th><th> </th><th><a name="part-r12" /><small>skipping to change at</small><em> line 1359</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Compile a list of the available telescope server executables</td><td> </td><td class="right">       //Compile a list of the available telescope server executables</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       loadTelescopeServerExecutables();</td><td> </td><td class="right">       loadTelescopeServerExecutables();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(telescopeServers.isEmpty())</td><td> </td><td class="right">       if(telescopeServers.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //deviceModels = QHash&lt;QString, DeviceModel&gt;();</td><td> </td><td class="right">               //deviceModels = QHash&lt;QString, DeviceModel&gt;();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //return;</td><td> </td><td class="right">               //return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0056" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Only embedded telescope ser
</span>vers are available.";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Only embedded telescope se
r</span>vers are available.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Clear the list of device models - it may not be empty.</td><td> </td><td class="right">       //Clear the list of device models - it may not be empty.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       deviceModels.clear();</td><td> </td><td class="right">       deviceModels.clear();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Cicle the list of telescope deifinitions</td><td> </td><td class="right">       //Cicle the list of telescope deifinitions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for(int i = 0; i &lt; deviceModelsList.size(); i++)</td><td> </td><td class="right">       for(int i = 0; i &lt; deviceModelsList.size(); i++)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QVariantMap model = deviceModelsList.at(i).toMap();</td><td> </td><td class="right">               QVariantMap model = deviceModelsList.at(i).toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(model.isEmpty())</td><td> </td><td class="right">               if(model.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l13" /><small>skipping to change at</small><em> line 1471</em></th><th> </th><th><a name="part-r13" /><small>skipping to change at</small><em> line 1382</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Model name</td><td> </td><td class="right">               //Model name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString name = model.value("name").toString();</td><td> </td><td class="right">               QString name = model.value("name").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(name.isEmpty())</td><td> </td><td class="right">               if(name.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //TODO: Add warning</td><td> </td><td class="right">                       //TODO: Add warning</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(deviceModels.contains(name))</td><td> </td><td class="right">               if(deviceModels.contains(name))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0057" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Skipping device mod
</span>el: Duplicate name:" &lt;&lt; name;</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Skipping device mo
d</span>el: Duplicate name:" &lt;&lt; name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Telescope server</td><td> </td><td class="right">               //Telescope server</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString server = model.value("server").toString();</td><td> </td><td class="right">               QString server = model.value("server").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //The default behaviour is to use embedded servers:</td><td> </td><td class="right">               //The default behaviour is to use embedded servers:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               bool useExecutable = false;</td><td> </td><td class="right">               bool useExecutable = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(server.isEmpty())</td><td> </td><td class="right">               if(server.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0058" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Skipping device mod
</span>el: No server specified for" &lt;&lt; name;</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Skipping device mo
d</span>el: No server specified for" &lt;&lt; name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if(useServerExecutables)</td><td> </td><td class="right">               if(useServerExecutables)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(telescopeServers.contains(server))</td><td> </td><td class="right">                       if(telescopeServers.contains(server))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0059" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qDebug() &lt;&lt; "<span class="delete">TelescopeControl: Using telesco
</span>pe server executable for" &lt;&lt; name;</td><td> </td><td class="rblock">                               qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] Using telesc
o</span>pe server executable for" &lt;&lt; name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               useExecutable = true;</td><td> </td><td class="right">                               useExecutable = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else if(EMBEDDED_TELESCOPE_SERVERS.contains(server))</td><td> </td><td class="right">                       else if(EMBEDDED_TELESCOPE_SERVERS.contains(server))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0060" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> No <span class="delete">external</span></td><td> </td><td class="rblock">                               qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> No <span class="insert">externa</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> telescope server executable found for" &lt;&lt; name;</td><td> </td><td class="rblock"><span class="insert">l</span> telescope server executable found for" &lt;&lt; name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> Using <span class="delete">embed</span></td><td> </td><td class="rblock">                               qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> Using <span class="insert">embe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ded</span> telescope server" &lt;&lt; server &lt;&lt; "for" &lt;&lt; name;</td><td> </td><td class="rblock"><span class="insert">dded</span> telescope server" &lt;&lt; server</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                          &lt;&lt; "for" &lt;&lt; name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               useExecutable = false;</td><td> </td><td class="right">                               useExecutable = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0061" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> Skipping <span class="delete">de</span></td><td> </td><td class="rblock">                               qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> Skipping <span class="insert">d</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">vice</span> model: No server" &lt;&lt; server &lt;&lt; "found for" &lt;&lt; name;</td><td> </td><td class="rblock"><span class="insert">evice</span> model: No server" &lt;&lt; server</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                          &lt;&lt; "found for" &lt;&lt; name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if(!EMBEDDED_TELESCOPE_SERVERS.contains(server))</td><td> </td><td class="right">                       if(!EMBEDDED_TELESCOPE_SERVERS.contains(server))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0062" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> Skipping <span class="delete">de</span></td><td> </td><td class="rblock">                               qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> Skipping <span class="insert">d</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">vice</span> model: No server" &lt;&lt; server &lt;&lt; "found for" &lt;&lt; name;</td><td> </td><td class="rblock"><span class="insert">evice</span> model: No server" &lt;&lt; server</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                          &lt;&lt; "found for" &lt;&lt; name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //else: everything is OK, using embedded server</td><td> </td><td class="right">                       //else: everything is OK, using embedded server</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Description and default connection delay</td><td> </td><td class="right">               //Description and default connection delay</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString description = model.value("description", "No descrip
tion is available.").toString();</td><td> </td><td class="right">               QString description = model.value("description", "No descrip
tion is available.").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               int delay = model.value("default_delay", DEFAULT_DELAY).toIn
t();</td><td> </td><td class="right">               int delay = model.value("default_delay", DEFAULT_DELAY).toIn
t();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //Add this to the main list</td><td> </td><td class="right">               //Add this to the main list</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               DeviceModel newDeviceModel = {name, description, server, del
ay, useExecutable};</td><td> </td><td class="right">               DeviceModel newDeviceModel = {name, description, server, del
ay, useExecutable};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               deviceModels.insert(name, newDeviceModel);</td><td> </td><td class="right">               deviceModels.insert(name, newDeviceModel);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0063" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">//qDebug() &lt;&lt; "TelescopeControl: Adding device model:" &lt;&lt; na
m</span>e &lt;&lt; description &lt;&lt; server &lt;&lt; delay;</td><td> </td><td class="rblock">               <span class="insert">qDebug() &lt;&lt; "[TelescopeControl] Adding device model:" &lt;&lt; nam
</span>e &lt;&lt; description &lt;&lt; server &lt;&lt; delay;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const QHash&lt;QString, DeviceModel&gt;&amp; TelescopeControl::getDeviceModels()</td><td> </td><td class="right">const QHash&lt;QString, DeviceModel&gt;&amp; TelescopeControl::getDeviceModels()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return deviceModels;</td><td> </td><td class="right">       return deviceModels;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QHash&lt;int, QString&gt; TelescopeControl::getConnectedClientsNames()</td><td> </td><td class="right">QHash&lt;int, QString&gt; TelescopeControl::getConnectedClientsNames()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l14" /><small>skipping to change at</small><em> line 1549</em></th><th> </th><th><a name="part-r14" /><small>skipping to change at</small><em> line 1463</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return connectedClientsNames;</td><td> </td><td class="right">       return connectedClientsNames;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool TelescopeControl::restoreDeviceModelsListTo(QString deviceModelsListPa
th)</td><td> </td><td class="right">bool TelescopeControl::restoreDeviceModelsListTo(QString deviceModelsListPa
th)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile defaultFile(":/telescopeControl/device_models.json");</td><td> </td><td class="right">       QFile defaultFile(":/telescopeControl/device_models.json");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!defaultFile.copy(deviceModelsListPath))</td><td> </td><td class="right">       if (!defaultFile.copy(deviceModelsListPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0064" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Unable to copy the default 
</span>device models list to" &lt;&lt; QDir::toNativeSeparators(deviceModelsListPath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Unable to copy the default
 </span>device models list to" &lt;&lt; QDir::toNativeSeparators(deviceModelsListPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile newCopy(deviceModelsListPath);</td><td> </td><td class="right">       QFile newCopy(deviceModelsListPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       newCopy.setPermissions(newCopy.permissions() | QFile::WriteOwner);</td><td> </td><td class="right">       newCopy.setPermissions(newCopy.permissions() | QFile::WriteOwner);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0065" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       qDebug() &lt;&lt; "<span class="delete">TelescopeControl: The default device models list has be
</span>en copied to" &lt;&lt; QDir::toNativeSeparators(deviceModelsListPath);</td><td> </td><td class="rblock">       qDebug() &lt;&lt; "<span class="insert">[TelescopeControl] The default device models list has b
e</span>en copied to" &lt;&lt; QDir::toNativeSeparators(deviceModelsListPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return true;</td><td> </td><td class="right">       return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const QString&amp; TelescopeControl::getServerExecutablesDirectoryPath()</td><td> </td><td class="right">const QString&amp; TelescopeControl::getServerExecutablesDirectoryPath()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return serverExecutablesDirectoryPath;</td><td> </td><td class="right">       return serverExecutablesDirectoryPath;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool TelescopeControl::setServerExecutablesDirectoryPath(const QString&amp; new
Path)</td><td> </td><td class="right">bool TelescopeControl::setServerExecutablesDirectoryPath(const QString&amp; new
Path)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //TODO: Reuse code.</td><td> </td><td class="right">       //TODO: Reuse code.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QDir newServerDirectory(newPath);</td><td> </td><td class="right">       QDir newServerDirectory(newPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!newServerDirectory.exists())</td><td> </td><td class="right">       if(!newServerDirectory.exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0066" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">TelescopeControl: Can't find such a directory
</span>: " &lt;&lt; QDir::toNativeSeparators(newPath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[TelescopeControl] Can't find such a director
y</span>: " &lt;&lt; QDir::toNativeSeparators(newPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QList&lt;QFileInfo&gt; telescopeServerExecutables = newServerDirectory.ent
ryInfoList(QStringList("TelescopeServer*"), (QDir::Files|QDir::Executable|Q
Dir::CaseSensitive), QDir::Name);</td><td> </td><td class="right">       QList&lt;QFileInfo&gt; telescopeServerExecutables = newServerDirectory.ent
ryInfoList(QStringList("TelescopeServer*"), (QDir::Files|QDir::Executable|Q
Dir::CaseSensitive), QDir::Name);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(telescopeServerExecutables.isEmpty())</td><td> </td><td class="right">       if(telescopeServerExecutables.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0067" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> No telescope server <span class="delete">executa</span></td><td> </td><td class="rblock">               qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> No telescope server <span class="insert">execut</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">bles</span> found in"</td><td> </td><td class="rblock"><span class="insert">ables</span> found in"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                        &lt;&lt; <span class="delete">QDir::toNativeSe</span></td><td> </td><td class="rblock">                          &lt;&lt; <span class="insert">QDir::toNativeSeparators(serverExecutablesDire</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">parators(serverExecutablesDirectoryPath);</span></td><td> </td><td class="rblock"><span class="insert">ctoryPath);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //If everything is fine...</td><td> </td><td class="right">       //If everything is fine...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       serverExecutablesDirectoryPath = newPath;</td><td> </td><td class="right">       serverExecutablesDirectoryPath = newPath;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       stopAllTelescopes();</td><td> </td><td class="right">       stopAllTelescopes();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       loadDeviceModels();</td><td> </td><td class="right">       loadDeviceModels();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return true;</td><td> </td><td class="right">       return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l15" /><small>skipping to change at</small><em> line 1616</em></th><th> </th><th><a name="part-r15" /><small>skipping to change at</small><em> line 1530</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogFiles.insert(slot, new QFile());</td><td> </td><td class="right">                       telescopeServerLogFiles.insert(slot, new QFile());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(telescopeServerLogFiles.value(slot)));</td><td> </td><td class="right">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(telescopeServerLogFiles.value(slot)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString filePath = StelFileMgr::getUserDir() + "/log_Telesco
peServer" + QString::number(slot) + ".txt";</td><td> </td><td class="right">               QString filePath = StelFileMgr::getUserDir() + "/log_Telesco
peServer" + QString::number(slot) + ".txt";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile* logFile = new QFile(filePath);</td><td> </td><td class="right">               QFile* logFile = new QFile(filePath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!logFile-&gt;open(QFile::WriteOnly|QFile::Text|QFile::Trunc
ate|QFile::Unbuffered))</td><td> </td><td class="right">               if (!logFile-&gt;open(QFile::WriteOnly|QFile::Text|QFile::Trunc
ate|QFile::Unbuffered))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0068" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; <span class="delete">"TelescopeControl:</span> Unable to create a </td><td> </td><td class="rblock">                       qWarning() &lt;&lt; <span class="insert">"[TelescopeControl]</span> Unable to create a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">log file for slot"</td><td> </td><td class="rblock"> log file for slot" &lt;&lt; slot</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                &lt;&lt; slot &lt;&lt; </td><td> </td><td class="rblock">                                  &lt;&lt; ":" &lt;&lt; <span class="insert">QDir::toNativeSeparators(filePa</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">":" &lt;&lt; <span class="delete">QDir::toNativeSeparators(filePath);</span></td><td> </td><td class="rblock"><span class="insert">th);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogFiles.insert(slot, logFile);</td><td> </td><td class="right">                       telescopeServerLogFiles.insert(slot, logFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(new QFile()));</td><td> </td><td class="right">                       telescopeServerLogStreams.insert(slot, new QTextStre
am(new QFile()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerLogFiles.insert(slot, logFile);</td><td> </td><td class="right">               telescopeServerLogFiles.insert(slot, logFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QTextStream * logStream = new QTextStream(logFile);</td><td> </td><td class="right">               QTextStream * logStream = new QTextStream(logFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescopeServerLogStreams.insert(slot, logStream);</td><td> </td><td class="right">               telescopeServerLogStreams.insert(slot, logStream);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 68 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>221 lines changed or deleted</i></th><th><i> </i></th><th><i>125 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
