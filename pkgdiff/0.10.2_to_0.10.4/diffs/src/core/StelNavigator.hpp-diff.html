<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: StelNavigator.hpp - StelNavigator.hpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;StelNavigator.hpp&nbsp;</th><th> </th><th>&nbsp;StelNavigator.hpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 24</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 24</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * You should have received a copy of the GNU General Public License</td><td> </td><td class="right"> * You should have received a copy of the GNU General Public License</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * along with this program; if not, write to the Free Software</td><td> </td><td class="right"> * along with this program; if not, write to the Free Software</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td> </td><td class="right"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> */</td><td> </td><td class="right"> */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifndef _STELNAVIGATOR_HPP_</td><td> </td><td class="right">#ifndef _STELNAVIGATOR_HPP_</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define _STELNAVIGATOR_HPP_</td><td> </td><td class="right">#define _STELNAVIGATOR_HPP_</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "VecMath.hpp"</td><td> </td><td class="right">#include "VecMath.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include "StelLocation.hpp"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">#include "fixx11h.h"</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QObject&gt;</td><td> </td><td class="right">#include &lt;QObject&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QString&gt;</td><td> </td><td class="right">#include &lt;QString&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QTime&gt;</td><td> </td><td class="right">#include &lt;QTime&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDateTime&gt;</td><td> </td><td class="right">#include &lt;QDateTime&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Conversion in standar Julian time format</td><td> </td><td class="right">// Conversion in standar Julian time format</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_SECOND 0.000011574074074074074074</td><td> </td><td class="right">#define JD_SECOND 0.000011574074074074074074</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_MINUTE 0.00069444444444444444444</td><td> </td><td class="right">#define JD_MINUTE 0.00069444444444444444444</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_HOUR   0.041666666666666666666</td><td> </td><td class="right">#define JD_HOUR   0.041666666666666666666</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_DAY    1.</td><td> </td><td class="right">#define JD_DAY    1.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class StelObserver;</td><td> </td><td class="right">class StelObserver;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class StelObject;</td><td> </td><td class="right">class StelObject;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class StelLoadingBar;</td><td> </td><td class="right">class StelLoadingBar;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">class Planet;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">class StelLocation;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! @class StelNavigator</td><td> </td><td class="right">//! @class StelNavigator</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Manages a navigation context.  This includes:</td><td> </td><td class="right">//! Manages a navigation context.  This includes:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - date/time</td><td> </td><td class="right">//! - date/time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - viewing direction/fov</td><td> </td><td class="right">//! - viewing direction/fov</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - observer position</td><td> </td><td class="right">//! - observer position</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - coordinate changes</td><td> </td><td class="right">//! - coordinate changes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class StelNavigator : public QObject</td><td> </td><td class="right">class StelNavigator : public QObject</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_OBJECT</td><td> </td><td class="right">       Q_OBJECT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Q_PROPERTY(double timeRate READ getTimeRate WRITE setTimeRate)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">enum ViewingModeType</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               ViewHorizon,</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               ViewEquator</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       };</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       //! Possible mount modes</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       enum MountMode { MountAltAzimuthal, MountEquatorial };</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Create and initialise to default a navigation context</td><td> </td><td class="right">       // Create and initialise to default a navigation context</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelNavigator();</td><td> </td><td class="right">       StelNavigator();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ~StelNavigator();</td><td> </td><td class="right">       ~StelNavigator();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void init();</td><td> </td><td class="right">       void init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void updateTime(double deltaTime);</td><td> </td><td class="right">       void updateTime(double deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void updateTransformMatrices(void);</td><td> </td><td class="right">       void updateTransformMatrices(void);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">//! Set current mount type</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void setMountMode(MountMode m) {setViewingMode((m==MountAltAzimuthal</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">) ? StelNavigator::ViewHorizon : StelNavigator::ViewEquator);}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       //! Get current mount type</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       MountMode getMountMode(void) {return ((getViewingMode()==StelNavigat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">or::ViewHorizon) ? MountAltAzimuthal : MountEquatorial);}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get vision direction</td><td> </td><td class="right">       //! Get vision direction</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">const Vec3d&amp; getEquinoxEquVisionDirection(void) const {return earthE</span></td><td> </td><td class="rblock">       void <span class="insert">lookAtJ2000(const</span> Vec3d&amp; <span class="insert">pos, const</span> Vec3d&amp; <span class="insert">up);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">quVisionDirection;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       const Vec3d&amp; getJ2000EquVisionDirection(void) const {return J2000Equ</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">VisionDirection;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       const Vec3d&amp; getAltAzVisionDirection(void) const {return altAzVision</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">Direction;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void setAltAzVisionDirection(const Vec3d&amp; _pos);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void <span class="delete">setEquinoxEquVisionDirection(const</span> Vec3d&amp; <span class="delete">_pos);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void setJ2000EquVisionDirection(const</span> Vec3d&amp; <span class="delete">_pos);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the informations on the current location</td><td> </td><td class="right">       //! Get the informations on the current location</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const StelLocation&amp; getCurrentLocation() const;</td><td> </td><td class="right">       const StelLocation&amp; getCurrentLocation() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Smoothly move the observer to the given location</td><td> </td><td class="right">       //! Smoothly move the observer to the given location</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param target the target location</td><td> </td><td class="right">       //! @param target the target location</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param duration direction of view move duration in s</td><td> </td><td class="right">       //! @param duration direction of view move duration in s</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param durationIfPlanetChange direction of view + planet travel 
move duration in s.</td><td> </td><td class="right">       //! @param durationIfPlanetChange direction of view + planet travel 
move duration in s.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! This is used only if the destination planet is different from th
e starting one.</td><td> </td><td class="right">       //! This is used only if the destination planet is different from th
e starting one.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void moveObserverTo(const StelLocation&amp; target, double duration=1., 
double durationIfPlanetChange=1.);</td><td> </td><td class="right">       void moveObserverTo(const StelLocation&amp; target, double duration=1., 
double durationIfPlanetChange=1.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the sideral time shifted by the observer longitude</td><td> </td><td class="right">       //! Get the sideral time shifted by the observer longitude</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @return the locale sideral time in radian</td><td> </td><td class="right">       //! @return the locale sideral time in radian</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getLocalSideralTime() const;</td><td> </td><td class="right">       double getLocalSideralTime() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">const Planet *getHomePlanet()</span> const;</td><td> </td><td class="rblock">       <span class="insert">//! Get the duration of a sideral day for the current observer in da</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">y.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       double getLocalSideralDayLength()</span> const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the observer heliocentric ecliptic position</td><td> </td><td class="right">       //! Return the observer heliocentric ecliptic position</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d getObserverHeliocentricEclipticPos() const;</td><td> </td><td class="right">       Vec3d getObserverHeliocentricEclipticPos() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">//! Transform vector from altazimuthal coordinate to equatorial</span></td><td> </td><td class="rblock">       Vec3d altAzToEquinoxEqu(const Vec3d&amp; v) const <span class="insert">{return matAltAzToEqui</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d altAzToEquinoxEqu(const Vec3d&amp; v) const <span class="delete">{ return matAltAzToEqu</span></td><td> </td><td class="rblock"><span class="insert">noxEqu*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">inoxEqu*v; }</span></td><td> </td><td class="rblock">       Vec3d equinoxEquToAltAz(const Vec3d&amp; v) const <span class="insert">{return matEquinoxEquT</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"><span class="insert">oAltAz*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       //! Transform vector from equatorial coordinate to altazimuthal</span></td><td> </td><td class="rblock">       Vec3d equinoxEquToJ2000(const Vec3d&amp; v) const <span class="insert">{return matEquinoxEquT</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d equinoxEquToAltAz(const Vec3d&amp; v) const <span class="delete">{ return matEquinoxEqu</span></td><td> </td><td class="rblock"><span class="insert">oJ2000*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ToAltAz*v; }</span></td><td> </td><td class="rblock"><span class="insert">       Vec3d altAzToJ2000(const Vec3d&amp; v) const {return matEquinoxEquToJ200</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d equinoxEquToJ2000(const Vec3d&amp; v) const <span class="delete">{ return matEquinoxEqu</span></td><td> </td><td class="rblock"><span class="insert">0*matAltAzToEquinoxEqu*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ToJ2000*v; }</span></td><td> </td><td class="rblock"><span class="insert">       Vec3d galacticToJ2000(const Vec3d&amp; v) const {return matGalacticToJ20</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d j2000ToEquinoxEqu(const Vec3d&amp; v) const <span class="delete">{ return matJ2000ToEqu</span></td><td> </td><td class="rblock"><span class="insert">00*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">inoxEqu*v; }</span></td><td> </td><td class="rblock">       Vec3d j2000ToEquinoxEqu(const Vec3d&amp; v) const <span class="insert">{return matJ2000ToEqui</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d j2000ToAltAz(const Vec3d&amp; v) const <span class="delete">{ return matJ2000ToAltAz*v;</span></td><td> </td><td class="rblock"><span class="insert">noxEqu*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> }</span></td><td> </td><td class="rblock">       Vec3d j2000ToAltAz(const Vec3d&amp; v) const <span class="insert">{return matJ2000ToAltAz*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"><span class="insert">       Vec3d j2000ToGalactic(const Vec3d&amp; v) const {return matJ2000ToGalact</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ic*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Transform vector from heliocentric ecliptic coordinate to altazi
muthal</td><td> </td><td class="right">       //! Transform vector from heliocentric ecliptic coordinate to altazi
muthal</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d heliocentricEclipticToAltAz(const Vec3d&amp; v) const <span class="delete">{ return mat</span></td><td> </td><td class="rblock">       Vec3d heliocentricEclipticToAltAz(const Vec3d&amp; v) const <span class="insert">{return matH</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">HeliocentricEclipticToAltAz*v; }</span></td><td> </td><td class="rblock"><span class="insert">eliocentricEclipticToAltAz*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Transform from heliocentric coordinate to equatorial at current 
equinox (for the planet where the observer stands)</td><td> </td><td class="right">       //! Transform from heliocentric coordinate to equatorial at current 
equinox (for the planet where the observer stands)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d heliocentricEclipticToEquinoxEqu(const Vec3d&amp; v) const <span class="delete">{ retur</span></td><td> </td><td class="rblock">       Vec3d heliocentricEclipticToEquinoxEqu(const Vec3d&amp; v) const <span class="insert">{return</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">n matHeliocentricEclipticToEquinoxEqu*v; }</span></td><td> </td><td class="rblock"><span class="insert"> matHeliocentricEclipticToEquinoxEqu*v;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Transform vector from heliocentric coordinate to false equatoria
l : equatorial</td><td> </td><td class="right">       //! Transform vector from heliocentric coordinate to false equatoria
l : equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! coordinate but centered on the observer position (usefull for ob
jects close to earth)</td><td> </td><td class="right">       //! coordinate but centered on the observer position (usefull for ob
jects close to earth)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d heliocentricEclipticToEarthPosEquinoxEqu(const Vec3d&amp; v) const
 {<span class="delete"> return matAltAzToEquinoxEqu*matHeliocentricEclipticToAltAz*v; </span>}</td><td> </td><td class="rblock">       Vec3d heliocentricEclipticToEarthPosEquinoxEqu(const Vec3d&amp; v) const
 {<span class="insert">return matAltAzToEquinoxEqu*matHeliocentricEclipticToAltAz*v;</span>}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for heliocentric ecliptic (Vsop87) draw
ing</td><td> </td><td class="right">       //! Get the modelview matrix for heliocentric ecliptic (Vsop87) draw
ing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Mat4d getHeliocentricEclipticModelViewMat(<span class="delete">void) const {return 
matA</span>ltAzModelView*matHeliocentricEclipticToAltAz;}</td><td> </td><td class="rblock">       const Mat4d getHeliocentricEclipticModelViewMat(<span class="insert">) const {return matA
</span>ltAzModelView*matHeliocentricEclipticToAltAz;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric ecliptic (Vsop87) 
drawing</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric ecliptic (Vsop87) 
drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Mat4d getObservercentricEclipticModelViewMat(<span class="delete">void) const {retu
rn m</span>atAltAzModelView*matJ2000ToAltAz*matVsop87ToJ2000;}</td><td> </td><td class="rblock">       const Mat4d getObservercentricEclipticModelViewMat(<span class="insert">) const {return m
</span>atAltAzModelView*matJ2000ToAltAz*matVsop87ToJ2000;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric equatorial at equi
nox drawing</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric equatorial at equi
nox drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Mat4d getEquinoxEquModelViewMat(<span class="delete">void) const {return matAltAzMo
delV</span>iew*matEquinoxEquToAltAz;}</td><td> </td><td class="rblock">       const Mat4d getEquinoxEquModelViewMat(<span class="insert">) const {return matAltAzModelV
</span>iew*matEquinoxEquToAltAz;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric altazimuthal drawi
ng</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric altazimuthal drawi
ng</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Mat4d&amp; getAltAzModelViewMat(<span class="delete">void) const {return matAltAzModelV
iew;</span>}</td><td> </td><td class="rblock">       const Mat4d&amp; getAltAzModelViewMat(<span class="insert">) const {return matAltAzModelView;
</span>}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric J2000 equatorial d
rawing</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric J2000 equatorial d
rawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Mat4d <span class="delete">getJ2000ModelViewMat(void)</span> const {return <span class="delete">matAltAzModelVi</span></td><td> </td><td class="rblock">       const Mat4d <span class="insert">getJ2000ModelViewMat()</span> const {return <span class="insert">matAltAzModelView*m</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ew*matEquinoxEquToAltAz*matJ2000ToEquinoxEqu;}</span></td><td> </td><td class="rblock"><span class="insert">atEquinoxEquToAltAz*matJ2000ToEquinoxEqu;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock">       //! <span class="insert">Get</span> the <span class="insert">modelview matrix for observer-centric Galactic equatoria</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void setViewingMode(ViewingModeType viewMode);</span></td><td> </td><td class="rblock"><span class="insert">l drawing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       ViewingModeType getViewingMode(void) const {return viewingMode;}</span></td><td> </td><td class="rblock"><span class="insert">       const Mat4d getGalacticModelViewMat()</span> const {return <span class="insert">getJ2000ModelVie</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"><span class="insert">wMat()*matGalacticToJ2000;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! <span class="delete">Return</span> the <span class="delete">inital viewing direction in altazimuthal coordinates</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const <span class="delete">Vec3d&amp; getInitViewingDirection()</span> {return <span class="delete">initViewPos;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the preset sky time in JD</td><td> </td><td class="right">       //! Return the preset sky time in JD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getPresetSkyTime() const {return presetSkyTime;}</td><td> </td><td class="right">       double getPresetSkyTime() const {return presetSkyTime;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the preset sky time from a JD</td><td> </td><td class="right">       //! Set the preset sky time from a JD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setPresetSkyTime(double d) {presetSkyTime=d;}</td><td> </td><td class="right">       void setPresetSkyTime(double d) {presetSkyTime=d;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the startup mode, can be preset|Preset or anything else</td><td> </td><td class="right">       //! Return the startup mode, can be preset|Preset or anything else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getStartupTimeMode() {return startupTimeMode;}</td><td> </td><td class="right">       QString getStartupTimeMode() {return startupTimeMode;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setStartupTimeMode(const QString&amp; s);</td><td> </td><td class="right">       void setStartupTimeMode(const QString&amp; s);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Rotation matrix from equatorial J2000 to ecliptic (Vsop87)</td><td> </td><td class="right">       //! Rotation matrix from equatorial J2000 to ecliptic (Vsop87)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       static const Mat4d matJ2000ToVsop87;</td><td> </td><td class="right">       static const Mat4d matJ2000ToVsop87;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Rotation matrix from ecliptic (Vsop87) to equatorial J2000</td><td> </td><td class="right">       //! Rotation matrix from ecliptic (Vsop87) to equatorial J2000</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       static const Mat4d matVsop87ToJ2000;</td><td> </td><td class="right">       static const Mat4d matVsop87ToJ2000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//! Rotation matrix from J2000 to Galactic reference frame, using FI</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">TS convention.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       static const Mat4d matJ2000ToGalactic;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Rotation matrix from J2000 to Galactic reference frame, using FI</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">TS convention.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       static const Mat4d matGalacticToJ2000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public slots:</td><td> </td><td class="right">public slots:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">//! Toggle current mount mode between equatorial and altazimuthal</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void toggleMountMode() {if (getMountMode()==MountAltAzimuthal) setMo</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">untMode(MountEquatorial); else setMountMode(MountAltAzimuthal);}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       //! Define whether we should use equatorial mount or altazimuthal</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void setEquatorialMount(bool b) {setMountMode(b ? MountEquatorial : </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">MountAltAzimuthal);}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the current date in Julian Day</td><td> </td><td class="right">       //! Set the current date in Julian Day</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setJDay(double JD) {JDay=JD;}</td><td> </td><td class="right">       void setJDay(double JD) {JDay=JD;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current date in Julian Day</td><td> </td><td class="right">       //! Get the current date in Julian Day</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getJDay() const {return JDay;}</td><td> </td><td class="right">       double getJDay() const {return JDay;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set time speed in JDay/sec</td><td> </td><td class="right">       //! Set time speed in JDay/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setTimeRate(double ts) {timeSpeed=ts;}</td><td> </td><td class="rblock">       void setTimeRate(double ts) {timeSpeed=ts;<span class="insert"> emit timeRateChanged(time
Speed);</span>}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get time speed in JDay/sec</td><td> </td><td class="right">       //! Get time speed in JDay/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getTimeRate() const {return timeSpeed;}</td><td> </td><td class="right">       double getTimeRate() const {return timeSpeed;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Increase the time speed</td><td> </td><td class="right">       //! Increase the time speed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void increaseTimeSpeed();</td><td> </td><td class="right">       void increaseTimeSpeed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Decrease the time speed</td><td> </td><td class="right">       //! Decrease the time speed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void decreaseTimeSpeed();</td><td> </td><td class="right">       void decreaseTimeSpeed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//! Increase the time speed, but not as much as with increaseTimeSpe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ed()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void increaseTimeSpeedLess();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Decrease the time speed but not as much as with decreaseTimeSpee</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">d()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void decreaseTimeSpeedLess();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set time speed to 0, i.e. freeze the passage of simulation time</td><td> </td><td class="right">       //! Set time speed to 0, i.e. freeze the passage of simulation time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setZeroTimeSpeed() {setTimeRate(0);}</td><td> </td><td class="right">       void setZeroTimeSpeed() {setTimeRate(0);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set real time speed, i.e. 1 sec/sec</td><td> </td><td class="right">       //! Set real time speed, i.e. 1 sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setRealTimeSpeed() {setTimeRate(JD_SECOND);}</td><td> </td><td class="right">       void setRealTimeSpeed() {setTimeRate(JD_SECOND);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//! Set real time speed or pause simulation if we are already in rea</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ltime speed.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void toggleRealTimeSpeed() {(!getRealTimeSpeed()) ? setRealTimeSpeed</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">() : setZeroTimeSpeed();}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get whether it is real time speed, i.e. 1 sec/sec</td><td> </td><td class="right">       //! Get whether it is real time speed, i.e. 1 sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool getRealTimeSpeed() const {return (fabs(timeSpeed-JD_SECOND)&lt;0.0
000001);}</td><td> </td><td class="right">       bool getRealTimeSpeed() const {return (fabs(timeSpeed-JD_SECOND)&lt;0.0
000001);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set stellarium time to current real world time</td><td> </td><td class="right">       //! Set stellarium time to current real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setTimeNow();</td><td> </td><td class="right">       void setTimeNow();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the time to some value, leaving the day the same.</td><td> </td><td class="right">       //! Set the time to some value, leaving the day the same.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setTodayTime(const QTime&amp; target);</td><td> </td><td class="right">       void setTodayTime(const QTime&amp; target);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Get wether the current stellarium time is the real world time</td><td> </td><td class="rblock">       //! Get w<span class="insert">h</span>ether the current stellarium time is the real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool getIsTimeNow() const;</td><td> </td><td class="right">       bool getIsTimeNow() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! get the initial "today time" from the config file</td><td> </td><td class="right">       //! get the initial "today time" from the config file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QTime getInitTodayTime(void) {return initTodayTime;}</td><td> </td><td class="right">       QTime getInitTodayTime(void) {return initTodayTime;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! set the initial "today time" from the config file</td><td> </td><td class="right">       //! set the initial "today time" from the config file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setInitTodayTime(const QTime&amp; t) {initTodayTime=t;}</td><td> </td><td class="right">       void setInitTodayTime(const QTime&amp; t) {initTodayTime=t;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the preset sky time from a QDateTime</td><td> </td><td class="right">       //! Set the preset sky time from a QDateTime</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setPresetSkyTime(QDateTime dt);</td><td> </td><td class="right">       void setPresetSkyTime(QDateTime dt);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add one [Earth, solar] hour to the current simulation time.</td><td> </td><td class="right">       //! Add one [Earth, solar] hour to the current simulation time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 235</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 213</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add a number of Earth Solar days to the current simulation time</td><td> </td><td class="right">       //! Add a number of Earth Solar days to the current simulation time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param d the decimal number of days to add (use negative values 
to subtract)</td><td> </td><td class="right">       //! @param d the decimal number of days to add (use negative values 
to subtract)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void addSolarDays(double d);</td><td> </td><td class="right">       void addSolarDays(double d);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add a number of sidereal days to the current simulation time,</td><td> </td><td class="right">       //! Add a number of sidereal days to the current simulation time,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! based on the observer body's rotational period.</td><td> </td><td class="right">       //! based on the observer body's rotational period.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param d the decimal number of sidereal days to add (use negativ
e values to subtract)</td><td> </td><td class="right">       //! @param d the decimal number of sidereal days to add (use negativ
e values to subtract)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void addSiderealDays(double d);</td><td> </td><td class="right">       void addSiderealDays(double d);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Move the observer to the selected object. This will only do some
thing if</td><td> </td><td class="right">       //! Move the observer to the selected object. This will only do some
thing if</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! the selected object is of the correct type - i.e. a planet.</td><td> </td><td class="right">       //! the selected object is of the correct type - i.e. a planet.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void moveObserverToSelected(<span class="delete">void</span>);</td><td> </td><td class="rblock">       void moveObserverToSelected();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the location used by default at startup</td><td> </td><td class="right">       //! Get the location used by default at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getDefaultLocationID() const {return defaultLocationID;}</td><td> </td><td class="right">       QString getDefaultLocationID() const {return defaultLocationID;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the location to use by default at startup</td><td> </td><td class="right">       //! Set the location to use by default at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setDefaultLocationID(const QString&amp; id);</td><td> </td><td class="right">       void setDefaultLocationID(const QString&amp; id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! <span class="delete">Sets</span> the <span class="delete">initial direction of view to the current altitude and a</span></td><td> </td><td class="rblock"><span class="insert">signals:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">zimuth.</span></td><td> </td><td class="rblock">       //! <span class="insert">This signal is emitted when</span> the <span class="insert">observer location has changed.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! <span class="delete">Note: Updates</span> the <span class="delete">configuration file.</span></td><td> </td><td class="rblock"><span class="insert">       void locationChanged(StelLocation);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void <span class="delete">setInitViewDirectionToCurrent(void);</span></td><td> </td><td class="rblock">       //! <span class="insert">This signal is emitted when</span> the <span class="insert">time rate has changed</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       void <span class="insert">timeRateChanged(double rate);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">private:</td><td> </td><td class="right">private:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">//! Update the modelview matrices</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void updateModelViewMat(void);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Matrices used for every coordinate transfo</td><td> </td><td class="right">       // Matrices used for every coordinate transfo</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matHeliocentricEclipticToAltAz;   // Transform from heliocentr
ic ecliptic (Vsop87) to observer-centric altazimuthal coordinate</td><td> </td><td class="right">       Mat4d matHeliocentricEclipticToAltAz;   // Transform from heliocentr
ic ecliptic (Vsop87) to observer-centric altazimuthal coordinate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matAltAzToHeliocentricEcliptic;   // Transform from observer-c
entric altazimuthal coordinate to heliocentric ecliptic (Vsop87)</td><td> </td><td class="right">       Mat4d matAltAzToHeliocentricEcliptic;   // Transform from observer-c
entric altazimuthal coordinate to heliocentric ecliptic (Vsop87)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matAltAzToEquinoxEqu;                             // Transform
 from observer-centric altazimuthal coordinate to Earth Equatorial</td><td> </td><td class="right">       Mat4d matAltAzToEquinoxEqu;                             // Transform
 from observer-centric altazimuthal coordinate to Earth Equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matEquinoxEquToAltAz;                             // Transform
 from observer-centric altazimuthal coordinate to Earth Equatorial</td><td> </td><td class="right">       Mat4d matEquinoxEquToAltAz;                             // Transform
 from observer-centric altazimuthal coordinate to Earth Equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matHeliocentricEclipticToEquinoxEqu;// Transform from heliocen
tric ecliptic (Vsop87) to earth equatorial coordinate</td><td> </td><td class="right">       Mat4d matHeliocentricEclipticToEquinoxEqu;// Transform from heliocen
tric ecliptic (Vsop87) to earth equatorial coordinate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matEquinoxEquToJ2000;</td><td> </td><td class="right">       Mat4d matEquinoxEquToJ2000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matJ2000ToEquinoxEqu;</td><td> </td><td class="right">       Mat4d matJ2000ToEquinoxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matJ2000ToAltAz;</td><td> </td><td class="right">       Mat4d matJ2000ToAltAz;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matAltAzModelView;                                        // M
odelview matrix for observer-centric altazimuthal drawing</td><td> </td><td class="right">       Mat4d matAltAzModelView;                                        // M
odelview matrix for observer-centric altazimuthal drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">// Vision variables</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       // Viewing direction in altazimuthal and equatorial coordinates</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       Vec3d altAzVisionDirection, earthEquVisionDirection, J2000EquVisionD</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">irection;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Time variable</td><td> </td><td class="right">       // Time variable</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double timeSpeed;        // Positive : forward, Negative : Backward,
 1 = 1sec/sec</td><td> </td><td class="right">       double timeSpeed;        // Positive : forward, Negative : Backward,
 1 = 1sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double JDay;              // Curent time in Julian day</td><td> </td><td class="right">       double JDay;              // Curent time in Julian day</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double presetSkyTime;</td><td> </td><td class="right">       double presetSkyTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QTime initTodayTime;</td><td> </td><td class="right">       QTime initTodayTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString startupTimeMode;</td><td> </td><td class="right">       QString startupTimeMode;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The ID of the default startup location</td><td> </td><td class="right">       // The ID of the default startup location</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString defaultLocationID;</td><td> </td><td class="right">       QString defaultLocationID;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Position variables</td><td> </td><td class="right">       // Position variables</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelObserver* position;</td><td> </td><td class="right">       StelObserver* position;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">Vec3d initViewPos;        // Default viewing direction</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       // defines if view corrects for horizon, or uses equatorial coordina</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tes</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       ViewingModeType viewingMode;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif // _STELNAVIGATOR_HPP_</td><td> </td><td class="right">#endif // _STELNAVIGATOR_HPP_</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 28 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>91 lines changed or deleted</i></th><th><i> </i></th><th><i>60 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
