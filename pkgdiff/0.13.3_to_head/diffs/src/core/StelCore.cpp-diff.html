<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-62-generic #101-Ubuntu SMP Thu Jul 30 09:01:36 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: StelCore.cpp - StelCore.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;StelCore.cpp&nbsp;</th><th> </th><th>&nbsp;StelCore.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 40</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 40</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelModuleMgr.hpp"</td><td> </td><td class="right">#include "StelModuleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelPainter.hpp"</td><td> </td><td class="right">#include "StelPainter.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelLocationMgr.hpp"</td><td> </td><td class="right">#include "StelLocationMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelObserver.hpp"</td><td> </td><td class="right">#include "StelObserver.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelObjectMgr.hpp"</td><td> </td><td class="right">#include "StelObjectMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "Planet.hpp"</td><td> </td><td class="right">#include "Planet.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "SolarSystem.hpp"</td><td> </td><td class="right">#include "SolarSystem.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "LandscapeMgr.hpp"</td><td> </td><td class="right">#include "LandscapeMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTranslator.hpp"</td><td> </td><td class="right">#include "StelTranslator.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelActionMgr.hpp"</td><td> </td><td class="right">#include "StelActionMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include "precession.h"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QSettings&gt;</td><td> </td><td class="right">#include &lt;QSettings&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDebug&gt;</td><td> </td><td class="right">#include &lt;QDebug&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QMetaEnum&gt;</td><td> </td><td class="right">#include &lt;QMetaEnum&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Init statics transfo matrices</td><td> </td><td class="right">// Init statics transfo matrices</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// See vsop87.doc:</td><td> </td><td class="right">// See vsop87.doc:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const Mat4d StelCore::matJ2000ToVsop87(Mat4d::xrotation(-23.439280305555555
5556*(M_PI/180)) * Mat4d::zrotation(0.0000275*(M_PI/180)));</td><td> </td><td class="right">const Mat4d StelCore::matJ2000ToVsop87(Mat4d::xrotation(-23.439280305555555
5556*(M_PI/180)) * Mat4d::zrotation(0.0000275*(M_PI/180)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const Mat4d StelCore::matVsop87ToJ2000(matJ2000ToVsop87.transpose());</td><td> </td><td class="right">const Mat4d StelCore::matVsop87ToJ2000(matJ2000ToVsop87.transpose());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const Mat4d StelCore::matJ2000ToGalactic(-0.054875539726, 0.494109453312, -
0.867666135858, 0, -0.873437108010, -0.444829589425, -0.198076386122, 0, -0
.483834985808, 0.746982251810, 0.455983795705, 0, 0, 0, 0, 1);</td><td> </td><td class="right">const Mat4d StelCore::matJ2000ToGalactic(-0.054875539726, 0.494109453312, -
0.867666135858, 0, -0.873437108010, -0.444829589425, -0.198076386122, 0, -0
.483834985808, 0.746982251810, 0.455983795705, 0, 0, 0, 0, 1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const Mat4d StelCore::matGalacticToJ2000(matJ2000ToGalactic.transpose());</td><td> </td><td class="right">const Mat4d StelCore::matGalacticToJ2000(matJ2000ToGalactic.transpose());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">const double StelCore::JD_SECOND=0.000011574074074074074074;</td><td> </td><td class="rblock">const double StelCore::JD_SECOND=0.000011574074074074074074; <span class="insert">// 1/(24*60*60</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">const double StelCore::JD_MINUTE=0.00069444444444444444444;</td><td> </td><td class="rblock"><span class="insert">)=1/86400</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">const double StelCore::JD_HOUR  =0.041666666666666666666;</td><td> </td><td class="rblock">const double StelCore::JD_MINUTE=0.00069444444444444444444;  <span class="insert">// 1/(24*60)  </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> =1/1440</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">const double StelCore::JD_HOUR  =0.041666666666666666666;    <span class="insert">// 1/24</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const double StelCore::JD_DAY   =1.;</td><td> </td><td class="right">const double StelCore::JD_DAY   =1.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">const double StelCore::ONE_OVER_JD_SECOND = 24 * 60 * 60;</td><td> </td><td class="rblock">const double StelCore::ONE_OVER_JD_SECOND = 24 * 60 * 60;<span class="insert">    // 86400</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelCore::StelCore()</td><td> </td><td class="right">StelCore::StelCore()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       : skyDrawer(NULL)</td><td> </td><td class="right">       : skyDrawer(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , movementMgr(NULL)</td><td> </td><td class="right">       , movementMgr(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , geodesicGrid(NULL)</td><td> </td><td class="right">       , geodesicGrid(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , currentProjectionType(ProjectionStereographic)</td><td> </td><td class="right">       , currentProjectionType(ProjectionStereographic)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , currentDeltaTAlgorithm(EspenakMeeus)</td><td> </td><td class="right">       , currentDeltaTAlgorithm(EspenakMeeus)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , position(NULL)</td><td> </td><td class="right">       , position(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">, flagUseNutation(true)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       , flagUseTopocentricCoordinates(true)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , timeSpeed(JD_SECOND)</td><td> </td><td class="right">       , timeSpeed(JD_SECOND)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , JD<span class="delete">ay(</span>0.)</td><td> </td><td class="rblock">       , JD<span class="insert">(0.,</span>0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , presetSkyTime(0.)</td><td> </td><td class="right">       , presetSkyTime(0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">secondsOfLastJDayUpdate(0.)</span></td><td> </td><td class="rblock">       , <span class="insert">secondsOfLastJDUpdate(0.)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">JDayOfLastJDayUpdate(0.)</span></td><td> </td><td class="rblock">       , <span class="insert">jdOfLastJDUpdate(0.)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , deltaTCustomNDot(-26.0)</td><td> </td><td class="right">       , deltaTCustomNDot(-26.0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , deltaTCustomYear(1820.0)</td><td> </td><td class="right">       , deltaTCustomYear(1820.0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       toneConverter = new StelToneReproducer();</td><td> </td><td class="right">       toneConverter = new StelToneReproducer();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSettings* conf = StelApp::getInstance().getSettings();</td><td> </td><td class="right">       QSettings* conf = StelApp::getInstance().getSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Create and initialize the default projector params</td><td> </td><td class="right">       // Create and initialize the default projector params</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString tmpstr = conf-&gt;value("projection/viewport").toString();</td><td> </td><td class="right">       QString tmpstr = conf-&gt;value("projection/viewport").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.maskType = StelProjector::stringToMaskType(tm
pstr);</td><td> </td><td class="right">       currentProjectorParams.maskType = StelProjector::stringToMaskType(tm
pstr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const int viewport_width = conf-&gt;value("projection/viewport_width", 
currentProjectorParams.viewportXywh[2]).toInt();</td><td> </td><td class="right">       const int viewport_width = conf-&gt;value("projection/viewport_width", 
currentProjectorParams.viewportXywh[2]).toInt();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const int viewport_height = conf-&gt;value("projection/viewport_height"
, currentProjectorParams.viewportXywh[3]).toInt();</td><td> </td><td class="right">       const int viewport_height = conf-&gt;value("projection/viewport_height"
, currentProjectorParams.viewportXywh[3]).toInt();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const int viewport_x = conf-&gt;value("projection/viewport_x", 0).toInt
();</td><td> </td><td class="right">       const int viewport_x = conf-&gt;value("projection/viewport_x", 0).toInt
();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const int viewport_y = conf-&gt;value("projection/viewport_y", 0).toInt
();</td><td> </td><td class="right">       const int viewport_y = conf-&gt;value("projection/viewport_y", 0).toInt
();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.viewportXywh.set(viewport_x,viewport_y,viewpo
rt_width,viewport_height);</td><td> </td><td class="right">       currentProjectorParams.viewportXywh.set(viewport_x,viewport_y,viewpo
rt_width,viewport_height);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const float viewportCenterX = conf-&gt;value("projection/viewport_cente
r_x",0.5f*viewport_width).toFloat();</td><td> </td><td class="right">       const float viewportCenterX = conf-&gt;value("projection/viewport_cente
r_x",0.5f*viewport_width).toFloat();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const float viewportCenterY = conf-&gt;value("projection/viewport_cente
r_y",0.5f*viewport_height).toFloat();</td><td> </td><td class="right">       const float viewportCenterY = conf-&gt;value("projection/viewport_cente
r_y",0.5f*viewport_height).toFloat();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.viewportCenter.set(viewportCenterX, viewportC
enterY);</td><td> </td><td class="right">       currentProjectorParams.viewportCenter.set(viewportCenterX, viewportC
enterY);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">const float viewportCenterOffsetX = conf-&gt;value("projection/viewport</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">_center_offset_x",0.f).toFloat();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       const float viewportCenterOffsetY = conf-&gt;value("projection/viewport</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">_center_offset_y",0.f).toFloat();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       currentProjectorParams.viewportCenterOffset.set(viewportCenterOffset</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">X, viewportCenterOffsetY);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.viewportFovDiameter = conf-&gt;value("projection
/viewport_fov_diameter", qMin(viewport_width,viewport_height)).toFloat();</td><td> </td><td class="right">       currentProjectorParams.viewportFovDiameter = conf-&gt;value("projection
/viewport_fov_diameter", qMin(viewport_width,viewport_height)).toFloat();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.flipHorz = conf-&gt;value("projection/flip_horz"
,false).toBool();</td><td> </td><td class="right">       currentProjectorParams.flipHorz = conf-&gt;value("projection/flip_horz"
,false).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.flipVert = conf-&gt;value("projection/flip_vert"
,false).toBool();</td><td> </td><td class="right">       currentProjectorParams.flipVert = conf-&gt;value("projection/flip_vert"
,false).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.gravityLabels = conf-&gt;value("viewing/flag_gra
vity_labels").toBool();</td><td> </td><td class="right">       currentProjectorParams.gravityLabels = conf-&gt;value("viewing/flag_gra
vity_labels").toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.devicePixelsPerPixel = StelApp::getInstance()
.getDevicePixelsPerPixel();</td><td> </td><td class="right">       currentProjectorParams.devicePixelsPerPixel = StelApp::getInstance()
.getDevicePixelsPerPixel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">flagUseNutation=conf-&gt;value("astro/flag_nutation", true).toBool();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       flagUseTopocentricCoordinates=conf-&gt;value("astro/flag_topocentric_co</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ordinates", true).toBool();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelCore::~StelCore()</td><td> </td><td class="right">StelCore::~StelCore()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete toneConverter; toneConverter=NULL;</td><td> </td><td class="right">       delete toneConverter; toneConverter=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete geodesicGrid; geodesicGrid=NULL;</td><td> </td><td class="right">       delete geodesicGrid; geodesicGrid=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete skyDrawer; skyDrawer=NULL;</td><td> </td><td class="right">       delete skyDrawer; skyDrawer=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete position; position=NULL;</td><td> </td><td class="right">       delete position; position=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 159</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 169</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Time stuff</td><td> </td><td class="right">       // Time stuff</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setTimeNow();</td><td> </td><td class="right">       setTimeNow();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // We want to be able to handle the old style preset time, recorded 
as a double</td><td> </td><td class="right">       // We want to be able to handle the old style preset time, recorded 
as a double</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // jday, or as a more human readable string...</td><td> </td><td class="right">       // jday, or as a more human readable string...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString presetTimeStr = conf-&gt;value("navigation/preset_sky_time",245
1545.).toString();</td><td> </td><td class="right">       QString presetTimeStr = conf-&gt;value("navigation/preset_sky_time",245
1545.).toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       presetSkyTime = presetTimeStr.toDouble(&amp;ok);</td><td> </td><td class="right">       presetSkyTime = presetTimeStr.toDouble(&amp;ok);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (ok)</td><td> </td><td class="right">       if (ok)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "navigation/preset_sky_time is a double - treati
ng as jday:" &lt;&lt; <span class="delete">presetSkyTime</span>;</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "navigation/preset_sky_time is a double - treati
ng as jday:" &lt;&lt; <span class="insert">QString::number(presetSkyTime, 'f', 5)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qDebug() &lt;&lt; "navigation/preset_sky_time was not a double, tr
eating as string date:" &lt;&lt; presetTimeStr;</td><td> </td><td class="right">               qDebug() &lt;&lt; "navigation/preset_sky_time was not a double, tr
eating as string date:" &lt;&lt; presetTimeStr;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               presetSkyTime = StelUtils::qDateTimeToJd(QDateTime::fromStri
ng(presetTimeStr));</td><td> </td><td class="right">               presetSkyTime = StelUtils::qDateTimeToJd(QDateTime::fromStri
ng(presetTimeStr));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setInitTodayTime(QTime::fromString(conf-&gt;value("navigation/today_tim
e", "22:00").toString()));</td><td> </td><td class="right">       setInitTodayTime(QTime::fromString(conf-&gt;value("navigation/today_tim
e", "22:00").toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       startupTimeMode = conf-&gt;value("navigation/startup_time_mode", "actua
l").toString().toLower();</td><td> </td><td class="right">       startupTimeMode = conf-&gt;value("navigation/startup_time_mode", "actua
l").toString().toLower();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (startupTimeMode=="preset")</td><td> </td><td class="right">       if (startupTimeMode=="preset")</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               setJD<span class="delete">ay(presetSkyTime - StelUtils::getGMTShiftFromQT(presetS
ky</span>Time) * JD_HOUR);</td><td> </td><td class="rblock">               setJD<span class="insert">(presetSkyTime - StelUtils::getGMTShiftFromQT(presetSky
</span>Time) * JD_HOUR);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else if (startupTimeMode=="today")</td><td> </td><td class="right">       else if (startupTimeMode=="today")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               setTodayTime(getInitTodayTime());</td><td> </td><td class="right">               setTodayTime(getInitTodayTime());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Compute transform matrices between coordinates systems</td><td> </td><td class="right">       // Compute transform matrices between coordinates systems</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateTransformMatrices();</td><td> </td><td class="right">       updateTransformMatrices();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       movementMgr = new StelMovementMgr(this);</td><td> </td><td class="right">       movementMgr = new StelMovementMgr(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       movementMgr-&gt;init();</td><td> </td><td class="right">       movementMgr-&gt;init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.fov = movementMgr-&gt;getInitFov();</td><td> </td><td class="right">       currentProjectorParams.fov = movementMgr-&gt;getInitFov();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelApp::getInstance().getModuleMgr().registerModule(movementMgr);</td><td> </td><td class="right">       StelApp::getInstance().getModuleMgr().registerModule(movementMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 200</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 210</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelActionMgr* actionsMgr = StelApp::getInstance().getStelActionMana
ger();</td><td> </td><td class="right">       StelActionMgr* actionsMgr = StelApp::getInstance().getStelActionMana
ger();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed", timeGroup, N_("In
crease time speed"), this, "increaseTimeSpeed()", "L");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed", timeGroup, N_("In
crease time speed"), this, "increaseTimeSpeed()", "L");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed", timeGroup, N_("De
crease time speed"), this, "decreaseTimeSpeed()", "J");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed", timeGroup, N_("De
crease time speed"), this, "decreaseTimeSpeed()", "J");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed_Less", timeGroup, N
_("Increase time speed (a little)"), this, "increaseTimeSpeedLess()", "Shif
t+L");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionIncrease_Time_Speed_Less", timeGroup, N
_("Increase time speed (a little)"), this, "increaseTimeSpeedLess()", "Shif
t+L");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed_Less", timeGroup, N
_("Decrease time speed (a little)"), this, "decreaseTimeSpeedLess()", "Shif
t+J");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionDecrease_Time_Speed_Less", timeGroup, N
_("Decrease time speed (a little)"), this, "decreaseTimeSpeedLess()", "Shif
t+J");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSet_Real_Time_Speed", timeGroup, N_("Se
t normal time rate"), this, "toggleRealTimeSpeed()", "K");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSet_Real_Time_Speed", timeGroup, N_("Se
t normal time rate"), this, "toggleRealTimeSpeed()", "K");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSet_Time_Rate_Zero", timeGroup, N_("Set
 time rate to zero"), this, "setZeroTimeSpeed()", "7");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSet_Time_Rate_Zero", timeGroup, N_("Set
 time rate to zero"), this, "setZeroTimeSpeed()", "7");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionReturn_To_Current_Time", timeGroup, N_(
"Set time to now"), this, "setTimeNow()", "8");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionReturn_To_Current_Time", timeGroup, N_(
"Set time to now"), this, "setTimeNow()", "8");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Solar_Hour", timeGroup, N_("Add 1 s
olar hour"), this, "addHour()", "Ctrl+=");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Solar_Hour", timeGroup, N_("Add 1 s
olar hour"), this, "addHour()", "Ctrl+=");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Solar_Day", timeGroup, N_("Add 1 so
lar day"), this, "addDay()", "=");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Solar_Day", timeGroup, N_("Add 1 so
lar day"), this, "addDay()", "=");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       actionsMgr-&gt;addAction("actionAdd_Solar_Week", timeGroup, N_("Add <span class="delete">1 s
olar week</span>"), this, "addWeek()", "]");</td><td> </td><td class="rblock">       actionsMgr-&gt;addAction("actionAdd_Solar_Week", timeGroup, N_("Add <span class="insert">7 s
olar days</span>"), this, "addWeek()", "]");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Solar_Hour", timeGroup, N_("Su
btract 1 solar hour"), this, "subtractHour()", "Ctrl+-");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Solar_Hour", timeGroup, N_("Su
btract 1 solar hour"), this, "subtractHour()", "Ctrl+-");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Solar_Day", timeGroup, N_("Sub
tract 1 solar day"), this, "subtractDay()", "-");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Solar_Day", timeGroup, N_("Sub
tract 1 solar day"), this, "subtractDay()", "-");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       actionsMgr-&gt;addAction("actionSubtract_Solar_Week", timeGroup, N_("Su
btract <span class="delete">1 solar week</span>"), this, "subtractWeek()", "[");</td><td> </td><td class="rblock">       actionsMgr-&gt;addAction("actionSubtract_Solar_Week", timeGroup, N_("Su
btract <span class="insert">7 solar days</span>"), this, "subtractWeek()", "[");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Sidereal_Day", timeGroup, N_("Add 1
 sidereal day"), this, "addSiderealDay()", "Alt+=");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Sidereal_Day", timeGroup, N_("Add 1
 sidereal day"), this, "addSiderealDay()", "Alt+=");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">actionsMgr-&gt;addAction("actionAdd_Sidereal_Week", timeGroup, N_("Add </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">1 sidereal week"), this, "addSiderealWeek()", "Alt+]");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       actionsMgr-&gt;addAction("actionAdd_Sidereal_Month", timeGroup, N_("Add</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> 1 sidereal month"), this, "addSiderealMonth()", "Alt+Shift+]");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Sidereal_Year", timeGroup, N_("Add 
1 sidereal year"), this, "addSiderealYear()", "Ctrl+Alt+Shift+]");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Sidereal_Year", timeGroup, N_("Add 
1 sidereal year"), this, "addSiderealYear()", "Ctrl+Alt+Shift+]");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       actionsMgr-&gt;addAction("actionAdd_Sidereal_Century", timeGroup, N_("A
dd 1<span class="delete"> sidereal century"), this, "addSiderealCentury</span>()");</td><td> </td><td class="rblock">       actionsMgr-&gt;addAction("actionAdd_Sidereal_Century", timeGroup, N_("A
dd 1<span class="insert">00 sidereal years"), this, "addSiderealYears</span>()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Synodic_Month", timeGroup, N_("Add 
1 synodic month"), this, "addSynodicMonth()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Synodic_Month", timeGroup, N_("Add 
1 synodic month"), this, "addSynodicMonth()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Draconic_Month", timeGroup, N_("Add
 1 draconic month"), this, "addDraconicMonth()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Draconic_Month", timeGroup, N_("Add
 1 draconic month"), this, "addDraconicMonth()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Draconic_Year", timeGroup, N_("Add 
1 draconic year"), this, "addDraconicYear()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Draconic_Year", timeGroup, N_("Add 
1 draconic year"), this, "addDraconicYear()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionAdd_Anomalistic_Month", timeGroup, N_("
Add 1 anomalistic month"), this, "addAnomalisticMonth()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionAdd_Anomalistic_Month", timeGroup, N_("
Add 1 anomalistic month"), this, "addAnomalisticMonth()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">actionsMgr-&gt;addAction("actionAdd_Tropical_Month",</span> timeGroup, <span class="delete">N_("Add</span></td><td> </td><td class="rblock">       <span class="insert">actionsMgr-&gt;addAction("actionAdd_Anomalistic_Year",</span> timeGroup, <span class="insert">N_("A</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> 1 mean tropical month"), this, <span class="delete">"addTropicalMonth()");</span></td><td> </td><td class="rblock"><span class="insert">dd 1 anomalistic year"), this, "addAnomalisticYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       actionsMgr-&gt;addAction("actionAdd_Tropical_Year", timeGroup, N_("Add </td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionAdd_Anomalistic_Century", timeGroup, N_</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">1 <span class="delete">mean</span> tropical year"), this, "addTropicalYear()");</td><td> </td><td class="rblock"><span class="insert">("Add 100 anomalistic years"), this, "addAnomalisticYears()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">actionsMgr-&gt;addAction("actionAdd_Tropical_Century",</span> timeGroup, <span class="delete">N_("A</span></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionAdd_Mean_Tropical_Month", timeGroup, N_</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">dd</span> 1 <span class="delete">mean tropical</span> century"), this, <span class="delete">"addTropicalCentury()");</span></td><td> </td><td class="rblock"><span class="insert">("Add</span> 1 mean tropical month"), this, <span class="insert">"addMeanTropicalMonth()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionAdd_Mean_Tropical_Year", timeGroup, N_(</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">"Add 1 mean tropical year"), this, "addMeanTropicalYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionAdd_Mean_Tropical_Century", timeGroup, </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">N_("Add 100 mean tropical years"), this, "addMeanTropicalYears()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       actionsMgr-&gt;addAction("actionAdd_Tropical_Year", timeGroup, N_("Add </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">1 tropical year"), this, "addTropicalYear()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">actionsMgr-&gt;addAction("actionAdd_Julian_Year",</span> timeGroup, <span class="insert">N_("Add</span> 1 </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Julian year"), this, "addJulianYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionAdd_Julian_Century", timeGroup, N_("Add</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> 1 Julian</span> century"), this, <span class="insert">"addJulianYears()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionAdd_Gaussian_Year", timeGroup, N_("Add </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">1 Gaussian year"), this, "addGaussianYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Sidereal_Day", timeGroup, N_("
Subtract 1 sidereal day"), this, "subtractSiderealDay()", "Alt+-");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Sidereal_Day", timeGroup, N_("
Subtract 1 sidereal day"), this, "subtractSiderealDay()", "Alt+-");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">actionsMgr-&gt;addAction("actionSubtract_Sidereal_Week", timeGroup, N_(</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">"Subtract 1 sidereal week"), this, "subtractSiderealWeek()", "Alt+[");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       actionsMgr-&gt;addAction("actionSubtract_Sidereal_Month", timeGroup, N_</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">("Subtract 1 sidereal month"), this, "subtractSiderealMonth()", "Alt+Shift+</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">[");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Sidereal_Year", timeGroup, N_(
"Subtract 1 sidereal year"), this, "subtractSiderealYear()", "Ctrl+Alt+Shif
t+[");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Sidereal_Year", timeGroup, N_(
"Subtract 1 sidereal year"), this, "subtractSiderealYear()", "Ctrl+Alt+Shif
t+[");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       actionsMgr-&gt;addAction("actionSubtract_Sidereal_Century", timeGroup, 
N_("Subtract 1<span class="delete"> sidereal century"), this, "subtractSiderealCentury</span>()");</td><td> </td><td class="rblock">       actionsMgr-&gt;addAction("actionSubtract_Sidereal_Century", timeGroup, 
N_("Subtract 1<span class="insert">00 sidereal years"), this, "subtractSiderealYears</span>()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Synodic_Month", timeGroup, N_(
"Subtract 1 synodic month"), this, "subtractSynodicMonth()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Synodic_Month", timeGroup, N_(
"Subtract 1 synodic month"), this, "subtractSynodicMonth()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Draconic_Month", timeGroup, N_
("Subtract 1 draconic month"), this, "subtractDraconicMonth()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Draconic_Month", timeGroup, N_
("Subtract 1 draconic month"), this, "subtractDraconicMonth()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Draconic_Year", timeGroup, N_(
"Subtract 1 draconic year"), this, "subtractDraconicYear()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Draconic_Year", timeGroup, N_(
"Subtract 1 draconic year"), this, "subtractDraconicYear()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSubtract_Anomalistic_Month", timeGroup,
 N_("Subtract 1 anomalistic month"), this, "subtractAnomalisticMonth()");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSubtract_Anomalistic_Month", timeGroup,
 N_("Subtract 1 anomalistic month"), this, "subtractAnomalisticMonth()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">actionsMgr-&gt;addAction("actionSubtract_Tropical_Month",</span> timeGroup, <span class="delete">N_</span></td><td> </td><td class="rblock">       <span class="insert">actionsMgr-&gt;addAction("actionSubtract_Anomalistic_Year",</span> timeGroup, </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">("Subtract</span> 1 mean tropical month"), this, <span class="delete">"subtractTropicalMonth()");</span></td><td> </td><td class="rblock"><span class="insert">N_("Subtract 1 anomalistic year"), this, "subtractAnomalisticYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       actionsMgr-&gt;addAction("actionSubtract_Tropical_Year", timeGroup, N_(</td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionSubtract_Anomalistic_Century", timeGrou</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">"Subtract 1 <span class="delete">mean</span> tropical year"), this, "subtractTropicalYear()");</td><td> </td><td class="rblock"><span class="insert">p, N_("Subtract 100 anomalistic years"), this, "subtractAnomalisticYears()"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">actionsMgr-&gt;addAction("actionSubtract_Tropical_Century",</span> timeGroup, </td><td> </td><td class="rblock"><span class="insert">);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">N_("Subtract</span> 1 <span class="delete">mean tropical</span> century"), this, <span class="delete">"subtractTropicalCentury()");</span></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionSubtract_Mean_Tropical_Month", timeGrou</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">p, N_("Subtract</span> 1 mean tropical month"), this, <span class="insert">"subtractMeanTropicalMonth()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionSubtract_Mean_Tropical_Year", timeGroup</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">, N_("Subtract 1 mean tropical year"), this, "subtractMeanTropicalYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionSubtract_Mean_Tropical_Century", timeGr</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">oup, N_("Subtract 100 mean tropical years"), this, "subtractMeanTropicalYea</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rs()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       actionsMgr-&gt;addAction("actionSubtract_Tropical_Year", timeGroup, N_(</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">"Subtract 1 tropical year"), this, "subtractTropicalYear()");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">actionsMgr-&gt;addAction("actionSubtract_Julian_Year",</span> timeGroup, <span class="insert">N_("S</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ubtract</span> 1 <span class="insert">Julian year"), this, "subtractJulianYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionSubtract_Julian_Century", timeGroup, N_</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">("Subtract 1 Julian</span> century"), this, <span class="insert">"subtractJulianYears()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       actionsMgr-&gt;addAction("actionSubtract_Gaussian_Year", timeGroup, N_(</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">"Subtract 1 Gaussian year"), this, "subtractGaussianYear()");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionSet_Home_Planet_To_Selected", movementG
roup, N_("Set home planet to selected planet"), this, "moveObserverToSelect
ed()", "Ctrl+G");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionSet_Home_Planet_To_Selected", movementG
roup, N_("Set home planet to selected planet"), this, "moveObserverToSelect
ed()", "Ctrl+G");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionGo_Home_Global", movementGroup, N_("Go 
to home"), this, "returnToHome()", "Ctrl+H");</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionGo_Home_Global", movementGroup, N_("Go 
to home"), this, "returnToHome()", "Ctrl+H");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionHorizontal_Flip", displayGroup, N_("Fli
p scene horizontally"), this, "flipHorz", "Ctrl+Shift+H", "", true);</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionHorizontal_Flip", displayGroup, N_("Fli
p scene horizontally"), this, "flipHorz", "Ctrl+Shift+H", "", true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       actionsMgr-&gt;addAction("actionVertical_Flip", displayGroup, N_("Flip 
scene vertically"), this, "flipVert", "Ctrl+Shift+V", "", true);</td><td> </td><td class="right">       actionsMgr-&gt;addAction("actionVertical_Flip", displayGroup, N_("Flip 
scene vertically"), this, "flipVert", "Ctrl+Shift+V", "", true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString StelCore::getDefaultProjectionTypeKey() const</td><td> </td><td class="right">QString StelCore::getDefaultProjectionTypeKey() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 297</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 315</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ProjectionCylinder:</td><td> </td><td class="right">               case ProjectionCylinder:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       prj = StelProjectorP(new StelProjectorCylinder(model
ViewTransform));</td><td> </td><td class="right">                       prj = StelProjectorP(new StelProjectorCylinder(model
ViewTransform));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ProjectionMercator:</td><td> </td><td class="right">               case ProjectionMercator:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       prj = StelProjectorP(new StelProjectorMercator(model
ViewTransform));</td><td> </td><td class="right">                       prj = StelProjectorP(new StelProjectorMercator(model
ViewTransform));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ProjectionOrthographic:</td><td> </td><td class="right">               case ProjectionOrthographic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       prj = StelProjectorP(new StelProjectorOrthographic(m
odelViewTransform));</td><td> </td><td class="right">                       prj = StelProjectorP(new StelProjectorOrthographic(m
odelViewTransform));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">case ProjectionSinusoidal:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       prj = StelProjectorP(new StelProjectorSinusoidal(mod</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">elViewTransform));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               default:</td><td> </td><td class="right">               default:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       qWarning() &lt;&lt; "Unknown projection type: " &lt;&lt; (int)(p
rojType) &lt;&lt; "using ProjectionStereographic instead";</td><td> </td><td class="right">                       qWarning() &lt;&lt; "Unknown projection type: " &lt;&lt; (int)(p
rojType) &lt;&lt; "using ProjectionStereographic instead";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       prj = StelProjectorP(new StelProjectorStereographic(
modelViewTransform));</td><td> </td><td class="right">                       prj = StelProjectorP(new StelProjectorStereographic(
modelViewTransform));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       Q_ASSERT(0);</td><td> </td><td class="right">                       Q_ASSERT(0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       prj-&gt;init(currentProjectorParams);</td><td> </td><td class="right">       prj-&gt;init(currentProjectorParams);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return prj;</td><td> </td><td class="right">       return prj;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Get an instance of projector using the current display parameters from N
avigation, StelMovementMgr</td><td> </td><td class="right">// Get an instance of projector using the current display parameters from N
avigation, StelMovementMgr</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelProjectorP StelCore::getProjection(FrameType frameType, RefractionMode 
refractionMode) const</td><td> </td><td class="right">StelProjectorP StelCore::getProjection(FrameType frameType, RefractionMode 
refractionMode) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       switch (frameType)</td><td> </td><td class="right">       switch (frameType)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case FrameAltAz:</td><td> </td><td class="right">               case FrameAltAz:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return getProjection(getAltAzModelViewTransform(refr
actionMode));</td><td> </td><td class="right">                       return getProjection(getAltAzModelViewTransform(refr
actionMode));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case FrameHeliocentricEcliptic:</td><td> </td><td class="rblock">               case FrameHeliocentricEcliptic<span class="insert">J2000</span>:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return getProjection(getHeliocentricEclipticModelVie
wTransform(refractionMode));</td><td> </td><td class="right">                       return getProjection(getHeliocentricEclipticModelVie
wTransform(refractionMode));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               case <span class="delete">FrameObservercentricEcliptic:</span></td><td> </td><td class="rblock">               case <span class="insert">FrameObservercentricEclipticJ2000:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       return <span class="delete">getProjection(getObservercentricEclipticModel</span></td><td> </td><td class="rblock">                       return <span class="insert">getProjection(getObservercentricEclipticJ2000</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ViewTransform(refractionMode));</span></td><td> </td><td class="rblock"><span class="insert">ModelViewTransform(refractionMode));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case FrameObservercentricEclipticOfDate:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       return getProjection(getObservercentricEclipticOfDat</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">eModelViewTransform(refractionMode));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case FrameEquinoxEqu:</td><td> </td><td class="right">               case FrameEquinoxEqu:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return getProjection(getEquinoxEquModelViewTransform
(refractionMode));</td><td> </td><td class="right">                       return getProjection(getEquinoxEquModelViewTransform
(refractionMode));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case FrameJ2000:</td><td> </td><td class="right">               case FrameJ2000:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return getProjection(getJ2000ModelViewTransform(refr
actionMode));</td><td> </td><td class="right">                       return getProjection(getJ2000ModelViewTransform(refr
actionMode));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case FrameGalactic:</td><td> </td><td class="right">               case FrameGalactic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                        return getProjection(getGalacticModelViewTransform(
refractionMode));</td><td> </td><td class="right">                        return getProjection(getGalacticModelViewTransform(
refractionMode));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               default:</td><td> </td><td class="right">               default:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       qDebug() &lt;&lt; "Unknown reference frame type: " &lt;&lt; (int
)frameType &lt;&lt; ".";</td><td> </td><td class="right">                       qDebug() &lt;&lt; "Unknown reference frame type: " &lt;&lt; (int
)frameType &lt;&lt; ".";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(0);</td><td> </td><td class="right">       Q_ASSERT(0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 366</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 389</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return movementMgr;</td><td> </td><td class="right">       return movementMgr;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SphericalCap StelCore::getVisibleSkyArea() const</td><td> </td><td class="right">SphericalCap StelCore::getVisibleSkyArea() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const LandscapeMgr* landscapeMgr = GETSTELMODULE(LandscapeMgr);</td><td> </td><td class="right">       const LandscapeMgr* landscapeMgr = GETSTELMODULE(LandscapeMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d up(0, 0, 1);</td><td> </td><td class="right">       Vec3d up(0, 0, 1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       up = altAzToJ2000(up, RefractionOff);</td><td> </td><td class="right">       up = altAzToJ2000(up, RefractionOff);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // Limit star drawing to above landscape's minimal altitude (was con
st=-0.035, Bug lp:1469407)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (landscapeMgr-&gt;getIsLandscapeFullyVisible())</td><td> </td><td class="right">       if (landscapeMgr-&gt;getIsLandscapeFullyVisible())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               return SphericalCap(up, <span class="delete">-0.035f</span>);</td><td> </td><td class="rblock">               return SphericalCap(up, <span class="insert">landscapeMgr-&gt;getLandscapeSinMinAlti
tudeLimit()</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return SphericalCap(up, -1.f);</td><td> </td><td class="right">       return SphericalCap(up, -1.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setClippingPlanes(double znear, double zfar)</td><td> </td><td class="right">void StelCore::setClippingPlanes(double znear, double zfar)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.zNear=znear;currentProjectorParams.zFar=zfar;</td><td> </td><td class="right">       currentProjectorParams.zNear=znear;currentProjectorParams.zFar=zfar;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::getClippingPlanes(double* zn, double* zf) const</td><td> </td><td class="right">void StelCore::getClippingPlanes(double* zn, double* zf) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       *zn = currentProjectorParams.zNear;</td><td> </td><td class="right">       *zn = currentProjectorParams.zNear;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       *zf = currentProjectorParams.zFar;</td><td> </td><td class="right">       *zf = currentProjectorParams.zFar;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Handle the resizing of the window</td><td> </td><td class="right">// Handle the resizing of the window</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::windowHasBeenResized(float x, float y, float width, float he
ight)</td><td> </td><td class="right">void StelCore::windowHasBeenResized(float x, float y, float width, float he
ight)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Maximize display when resized since it invalidates previous optio
ns anyway</td><td> </td><td class="right">       // Maximize display when resized since it invalidates previous optio
ns anyway</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.viewportXywh.set(x, y, width, height);</td><td> </td><td class="right">       currentProjectorParams.viewportXywh.set(x, y, width, height);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       currentProjectorParams.viewportCenter.set(x+<span class="delete">0.5*width, y+0.5*height)
</span>;</td><td> </td><td class="rblock">       currentProjectorParams.viewportCenter.set(x+<span class="insert">(0.5+currentProjectorPar
ams.viewportCenterOffset.v[0])*width, y+(0.5+currentProjectorParams.viewpor
tCenterOffset.v[1])*height)</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       currentProjectorParams.viewportFovDiameter = qMin(width,height);</td><td> </td><td class="right">       currentProjectorParams.viewportFovDiameter = qMin(width,height);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/*************************************************************************</td><td> </td><td class="right">/*************************************************************************</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> Update all the objects in function of the time</td><td> </td><td class="right"> Update all the objects in function of the time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">*************************************************************************/</td><td> </td><td class="right">*************************************************************************/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::update(double deltaTime)</td><td> </td><td class="right">void StelCore::update(double deltaTime)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Update the position of observation and time and recompute planet 
positions etc...</td><td> </td><td class="right">       // Update the position of observation and time and recompute planet 
positions etc...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateTime(deltaTime);</td><td> </td><td class="right">       updateTime(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 634</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 658</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::j2000ToGalactic(const Vec3d&amp; v) const</td><td> </td><td class="right">Vec3d StelCore::j2000ToGalactic(const Vec3d&amp; v) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return matJ2000ToGalactic*v;</td><td> </td><td class="right">       return matJ2000ToGalactic*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Transform vector from heliocentric ecliptic coordinate to altazimuthal</td><td> </td><td class="right">//! Transform vector from heliocentric ecliptic coordinate to altazimuthal</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::heliocentricEclipticToAltAz(const Vec3d&amp; v, RefractionMode 
refMode) const</td><td> </td><td class="right">Vec3d StelCore::heliocentricEclipticToAltAz(const Vec3d&amp; v, RefractionMode 
refMode) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td> </td><td class="right">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               return matHeliocentricEclipticToAltAz*v;</td><td> </td><td class="rblock">               return matHeliocentricEcliptic<span class="insert">J2000</span>ToAltAz*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d r(v);</td><td> </td><td class="right">       Vec3d r(v);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       r.transfo4d(matHeliocentricEclipticToAltAz);</td><td> </td><td class="rblock">       r.transfo4d(matHeliocentricEcliptic<span class="insert">J2000</span>ToAltAz);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       skyDrawer-&gt;getRefraction().forward(r);</td><td> </td><td class="right">       skyDrawer-&gt;getRefraction().forward(r);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return r;</td><td> </td><td class="right">       return r;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Transform from heliocentric coordinate to equatorial at current equinox
 (for the planet where the observer stands)</td><td> </td><td class="right">//! Transform from heliocentric coordinate to equatorial at current equinox
 (for the planet where the observer stands)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::heliocentricEclipticToEquinoxEqu(const Vec3d&amp; v) const</td><td> </td><td class="right">Vec3d StelCore::heliocentricEclipticToEquinoxEqu(const Vec3d&amp; v) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return matHeliocentricEclipticToEquinoxEqu*v;</td><td> </td><td class="right">       return matHeliocentricEclipticToEquinoxEqu*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">/*</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Transform vector from heliocentric coordinate to false equatorial : equ
atorial</td><td> </td><td class="right">//! Transform vector from heliocentric coordinate to false equatorial : equ
atorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">//! coordinate but centered on the observer position <span class="delete">(usefull</span> for objects <span class="delete">c</span></td><td> </td><td class="rblock">//! coordinate but centered on the observer position <span class="insert">(useful</span> for objects <span class="insert">cl</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">lose</span> to earth)</td><td> </td><td class="rblock"><span class="insert">ose</span> to earth)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">//! Unused as of V0.13</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::heliocentricEclipticToEarthPosEquinoxEqu(const Vec3d&amp; v) co
nst</td><td> </td><td class="right">Vec3d StelCore::heliocentricEclipticToEarthPosEquinoxEqu(const Vec3d&amp; v) co
nst</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return matAltAzToEquinoxEqu*matHeliocentricEclipticToAltAz*v;</td><td> </td><td class="right">       return matAltAzToEquinoxEqu*matHeliocentricEclipticToAltAz*v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">*/</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelProjector::ModelViewTranformP StelCore::getHeliocentricEclipticModelVie
wTransform(RefractionMode refMode) const</td><td> </td><td class="right">StelProjector::ModelViewTranformP StelCore::getHeliocentricEclipticModelVie
wTransform(RefractionMode refMode) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td> </td><td class="right">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matHeliocentricEclipticToAltAz));</td><td> </td><td class="rblock">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matHeliocentricEcliptic<span class="insert">J2000</span>ToAltAz));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td> </td><td class="right">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td> </td><td class="right">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       refr-&gt;setPreTransfoMat(matHeliocentricEclipticToAltAz);</td><td> </td><td class="rblock">       refr-&gt;setPreTransfoMat(matHeliocentricEcliptic<span class="insert">J2000</span>ToAltAz);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td> </td><td class="right">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return StelProjector::ModelViewTranformP(refr);</td><td> </td><td class="right">       return StelProjector::ModelViewTranformP(refr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">//! Get the modelview matrix for observer-centric ecliptic <span class="delete">(Vsop87)</span> drawing</td><td> </td><td class="rblock">//! Get the modelview matrix for observer-centric ecliptic <span class="insert">J2000 (Vsop87A)</span> </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">StelProjector::ModelViewTranformP <span class="delete">StelCore::getObservercentricEclipticModel</span></td><td> </td><td class="rblock">drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ViewTransform(RefractionMode</span> refMode) const</td><td> </td><td class="rblock">StelProjector::ModelViewTranformP <span class="insert">StelCore::getObservercentricEclipticJ2000</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ModelViewTransform(RefractionMode</span> refMode) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td> </td><td class="right">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matJ2000ToAltAz*matVsop87ToJ2000));</td><td> </td><td class="right">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matJ2000ToAltAz*matVsop87ToJ2000));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td> </td><td class="right">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td> </td><td class="right">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       refr-&gt;setPreTransfoMat(matJ2000ToAltAz*matVsop87ToJ2000);</td><td> </td><td class="right">       refr-&gt;setPreTransfoMat(matJ2000ToAltAz*matVsop87ToJ2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td> </td><td class="right">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return StelProjector::ModelViewTranformP(refr);</td><td> </td><td class="right">       return StelProjector::ModelViewTranformP(refr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">//! Get the modelview matrix for observer-centric ecliptic-of-date drawing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">StelProjector::ModelViewTranformP StelCore::getObservercentricEclipticOfDat</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">eModelViewTransform(RefractionMode refMode) const</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       double eps_A=getPrecessionAngleVondrakCurrentEpsilonA();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               return StelProjector::ModelViewTranformP(new StelProjector::</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz* Mat4d::xrotation(eps</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">_A)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // The pretransform matrix will convert from input coordinates to Al</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tAz needed by the refraction function.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz* Mat4d::xrotation(eps_A)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       refr-&gt;setPostTransfoMat(matAltAzModelView);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return StelProjector::ModelViewTranformP(refr);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get the modelview matrix for observer-centric equatorial at equinox dra
wing</td><td> </td><td class="right">//! Get the modelview matrix for observer-centric equatorial at equinox dra
wing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelProjector::ModelViewTranformP StelCore::getEquinoxEquModelViewTransform
(RefractionMode refMode) const</td><td> </td><td class="right">StelProjector::ModelViewTranformP StelCore::getEquinoxEquModelViewTransform
(RefractionMode refMode) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td> </td><td class="right">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz));</td><td> </td><td class="right">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td> </td><td class="right">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td> </td><td class="right">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz);</td><td> </td><td class="right">       refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td> </td><td class="right">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return StelProjector::ModelViewTranformP(refr);</td><td> </td><td class="right">       return StelProjector::ModelViewTranformP(refr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 728</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 768</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td> </td><td class="right">       if (refMode==RefractionOff || skyDrawer==NULL || (refMode==Refractio
nAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz*matJ2000ToEquinoxEqu*
matGalacticToJ2000));</td><td> </td><td class="right">               return StelProjector::ModelViewTranformP(new StelProjector::
Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz*matJ2000ToEquinoxEqu*
matGalacticToJ2000));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td> </td><td class="right">       Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td> </td><td class="right">       // The pretransform matrix will convert from input coordinates to Al
tAz needed by the refraction function.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz*matJ2000ToEquinoxEqu*mat
GalacticToJ2000);</td><td> </td><td class="right">       refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz*matJ2000ToEquinoxEqu*mat
GalacticToJ2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td> </td><td class="right">       refr-&gt;setPostTransfoMat(matAltAzModelView);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return StelProjector::ModelViewTranformP(refr);</td><td> </td><td class="right">       return StelProjector::ModelViewTranformP(refr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">// GZ: One of the most important functions, totally void of doc. :-(</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">// called in update() (for every frame)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::updateTransformMatrices()</td><td> </td><td class="right">void StelCore::updateTransformMatrices()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       matAltAzToEquinoxEqu = position-&gt;getRotAltAzToEquatorial(<span class="delete">JDay</span>);</td><td> </td><td class="rblock">       matAltAzToEquinoxEqu = position-&gt;getRotAltAzToEquatorial(<span class="insert">getJD(), ge
tJDE()</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matEquinoxEquToAltAz = matAltAzToEquinoxEqu.transpose();</td><td> </td><td class="right">       matEquinoxEquToAltAz = matAltAzToEquinoxEqu.transpose();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// multiply static J2000 earth axis tilt (eclipticalJ2000&lt;-&gt;equatori</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">alJ2000)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // in effect, this matrix transforms from VSOP87 ecliptical J2000 to</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> planet-based equatorial coordinates.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // For earth, matJ2000ToEquinoxEqu is the precession matrix.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TODO: rename matEquinoxEquToJ2000 to matEquinoxEquDateToJ2000</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matEquinoxEquToJ2000 = matVsop87ToJ2000 * position-&gt;getRotEquatorial
ToVsop87();</td><td> </td><td class="right">       matEquinoxEquToJ2000 = matVsop87ToJ2000 * position-&gt;getRotEquatorial
ToVsop87();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matJ2000ToEquinoxEqu = matEquinoxEquToJ2000.transpose();</td><td> </td><td class="right">       matJ2000ToEquinoxEqu = matEquinoxEquToJ2000.transpose();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matJ2000ToAltAz = matEquinoxEquToAltAz*matJ2000ToEquinoxEqu;</td><td> </td><td class="right">       matJ2000ToAltAz = matEquinoxEquToAltAz*matJ2000ToEquinoxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       matHeliocentricEclipticToEquinoxEqu = matJ2000ToEquinoxEqu * matVsop
87ToJ2000 * Mat4d::translation(-position-&gt;getCenterVsop87Pos());</td><td> </td><td class="right">       matHeliocentricEclipticToEquinoxEqu = matJ2000ToEquinoxEqu * matVsop
87ToJ2000 * Mat4d::translation(-position-&gt;getCenterVsop87Pos());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       // These two next have to take into account the position of the obse</td><td> </td><td class="rblock">       // These two next have to take into account the position of the obse</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">rver on the <span class="delete">earth</span></td><td> </td><td class="rblock">rver on the <span class="insert">earth/planet of observation.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // GZ tmp could be called matAltAzToVsop87</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d tmp = matJ2000ToVsop87 * matEquinoxEquToJ2000 * matAltAzToEqui
noxEqu;</td><td> </td><td class="right">       Mat4d tmp = matJ2000ToVsop87 * matEquinoxEquToJ2000 * matAltAzToEqui
noxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">matAltAzToHeliocentricEcliptic</span> =  <span class="delete">Mat4d::translation(position-&gt;getCe</span></td><td> </td><td class="rblock">       <span class="insert">// Before 0.14 getDistanceFromCenter assumed spherical planets. Now </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">nterVsop87Pos())</span> * tmp *</td><td> </td><td class="rblock"><span class="insert">uses rectangular coordinates for observer!</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                 <span class="delete">Mat4d::translation(Vec3d(0</span></td><td> </td><td class="rblock"><span class="insert">       if (flagUseTopocentricCoordinates)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">.,0., position-&gt;getDistanceFromCenter()));</span></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               matAltAzToHeliocentricEclipticJ2000</span> =  <span class="insert">Mat4d::translation(po</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">sition-&gt;getCenterVsop87Pos())</span> * tmp *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                               <span class="insert">Mat4d::translation(Vec3d(0.,0., position-&gt;ge</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tDistanceFromCenter()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               matHeliocentricEclipticJ2000ToAltAz =  Mat4d::translation(Ve</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">c3d(0.,0.,-position-&gt;getDistanceFromCenter())) * tmp.transpose() *</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               Mat4d::translation(-position-&gt;getCenterVsop8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">7Pos());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               matAltAzToHeliocentricEclipticJ2000 =  Mat4d::translation(po</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">sition-&gt;getCenterVsop87Pos()) * tmp;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">matHeliocentricEclipticToAltAz</span> =  <span class="delete">Mat4d::translation(Vec3d(0.,0.,-po</span></td><td> </td><td class="rblock">               <span class="insert">matHeliocentricEclipticJ2000ToAltAz</span> =  tmp.transpose() *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">sition-&gt;getDistanceFromCenter())) *</span> tmp.transpose() *</td><td> </td><td class="rblock">                               <span class="insert">Mat4d::translation(-position-&gt;getCenterVsop8</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                 <span class="delete">Mat4d::translation(-positi</span></td><td> </td><td class="rblock"><span class="insert">7Pos());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">on-&gt;getCenterVsop87Pos());</span></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Return the observer heliocentric position</td><td> </td><td class="right">// Return the observer heliocentric position</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3d StelCore::getObserverHeliocentricEclipticPos() const</td><td> </td><td class="right">Vec3d StelCore::getObserverHeliocentricEclipticPos() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return Vec3d(matAltAzToHeliocentricEcliptic<span class="delete">[12], matAltAzToHeliocent
ricEcliptic[13], matAltAzToHeliocentricEcliptic</span>[14]);</td><td> </td><td class="rblock">       return Vec3d(matAltAzToHeliocentricEcliptic<span class="insert">J2000[12], matAltAzToHeli
ocentricEclipticJ2000[13], matAltAzToHeliocentricEclipticJ2000</span>[14]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Set the location to use by default at startup</td><td> </td><td class="right">// Set the location to use by default at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setDefaultLocationID(const QString&amp; id)</td><td> </td><td class="right">void StelCore::setDefaultLocationID(const QString&amp; id)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelLocation location = StelApp::getInstance().getLocationMgr().loca
tionForString(id);</td><td> </td><td class="right">       StelLocation location = StelApp::getInstance().getLocationMgr().loca
tionForString(id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!location.isValid())</td><td> </td><td class="right">       if (!location.isValid())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qWarning() &lt;&lt; "Trying to set an invalid location" &lt;&lt; id;</td><td> </td><td class="right">               qWarning() &lt;&lt; "Trying to set an invalid location" &lt;&lt; id;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 810</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 868</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       landscapeMgr-&gt;setFlagAtmosphere(p-&gt;hasAtmosphere() &amp;&amp; conf-&gt;value("l
andscape/flag_atmosphere", true).toBool());</td><td> </td><td class="right">       landscapeMgr-&gt;setFlagAtmosphere(p-&gt;hasAtmosphere() &amp;&amp; conf-&gt;value("l
andscape/flag_atmosphere", true).toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       landscapeMgr-&gt;setFlagFog(p-&gt;hasAtmosphere() &amp;&amp; conf-&gt;value("landscap
e/flag_fog", true).toBool());</td><td> </td><td class="right">       landscapeMgr-&gt;setFlagFog(p-&gt;hasAtmosphere() &amp;&amp; conf-&gt;value("landscap
e/flag_fog", true).toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       GETSTELMODULE(StelObjectMgr)-&gt;unSelect();</td><td> </td><td class="right">       GETSTELMODULE(StelObjectMgr)-&gt;unSelect();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelMovementMgr* smmgr = getMovementMgr();</td><td> </td><td class="right">       StelMovementMgr* smmgr = getMovementMgr();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       smmgr-&gt;setViewDirectionJ2000(altAzToJ2000(smmgr-&gt;getInitViewingDirec
tion(), StelCore::RefractionOff));</td><td> </td><td class="right">       smmgr-&gt;setViewDirectionJ2000(altAzToJ2000(smmgr-&gt;getInitViewingDirec
tion(), StelCore::RefractionOff));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       smmgr-&gt;zoomTo(smmgr-&gt;getInitFov(), 1.);</td><td> </td><td class="right">       smmgr-&gt;zoomTo(smmgr-&gt;getInitFov(), 1.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::setJD<span class="delete">ay(double </span>JD)</td><td> </td><td class="rblock">void StelCore::setJD<span class="insert">(double new</span>JD)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">JDay=JD;</span></td><td> </td><td class="rblock">       <span class="insert">JD.first=newJD;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       JD.second=computeDeltaT(newJD);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       resetSync();</td><td> </td><td class="right">       resetSync();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">double StelCore::getJD<span class="delete">ay</span>() const</td><td> </td><td class="rblock">double StelCore::getJD() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return JD<span class="delete">ay</span>;</td><td> </td><td class="rblock">       return JD<span class="insert">.first</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::set<span class="delete">MJDay(double MJD</span>)</td><td> </td><td class="rblock">void StelCore::set<span class="insert">JDE(double newJDE</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">JDay=MJD+2400000.5;</span></td><td> </td><td class="rblock">       <span class="insert">// nitpickerish this is not exact, but as good as it gets...</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       JD.second=computeDeltaT(newJDE);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       JD.first=newJDE-JD.second/86400.0;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       resetSync();</td><td> </td><td class="right">       resetSync();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">double StelCore::getJDE() const</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return JD.first+JD.second/86400.0;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::setMJDay(double MJD)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       setJD(MJD+2400000.5);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getMJDay() const</td><td> </td><td class="right">double StelCore::getMJDay() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return JD<span class="delete">ay</span>-2400000.5;</td><td> </td><td class="rblock">       return JD<span class="insert">.first</span>-2400000.5;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getPresetSkyTime() const</td><td> </td><td class="right">double StelCore::getPresetSkyTime() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return presetSkyTime;</td><td> </td><td class="right">       return presetSkyTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setPresetSkyTime(double d)</td><td> </td><td class="right">void StelCore::setPresetSkyTime(double d)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       presetSkyTime=d;</td><td> </td><td class="right">       presetSkyTime=d;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 904</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 975</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const StelLocation&amp; StelCore::getCurrentLocation() const</td><td> </td><td class="right">const StelLocation&amp; StelCore::getCurrentLocation() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return position-&gt;getCurrentLocation();</td><td> </td><td class="right">       return position-&gt;getCurrentLocation();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const QSharedPointer&lt;Planet&gt; StelCore::getCurrentPlanet() const</td><td> </td><td class="right">const QSharedPointer&lt;Planet&gt; StelCore::getCurrentPlanet() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return position-&gt;getHomePlanet();</td><td> </td><td class="right">       return position-&gt;getHomePlanet();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">const StelObserver *StelCore::getCurrentObserver() const</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return position;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Smoothly move the observer to the given location</td><td> </td><td class="right">// Smoothly move the observer to the given location</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::moveObserverTo(const StelLocation&amp; target, double duration, 
double durationIfPlanetChange)</td><td> </td><td class="right">void StelCore::moveObserverTo(const StelLocation&amp; target, double duration, 
double durationIfPlanetChange)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       emit(locationChanged(target));</td><td> </td><td class="right">       emit(locationChanged(target));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double d = (getCurrentLocation().planetName==target.planetName) ? du
ration : durationIfPlanetChange;</td><td> </td><td class="right">       double d = (getCurrentLocation().planetName==target.planetName) ? du
ration : durationIfPlanetChange;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (d&gt;0.)</td><td> </td><td class="right">       if (d&gt;0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelLocation curLoc = getCurrentLocation();</td><td> </td><td class="right">               StelLocation curLoc = getCurrentLocation();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (position-&gt;isTraveling())</td><td> </td><td class="right">               if (position-&gt;isTraveling())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 932</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 1008</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete position;</td><td> </td><td class="right">               delete position;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               position = new StelObserver(target);</td><td> </td><td class="right">               position = new StelObserver(target);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Set stellarium time to current real world time</td><td> </td><td class="right">//! Set stellarium time to current real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setTimeNow()</td><td> </td><td class="right">void StelCore::setTimeNow()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">double JD = StelUtils::getJDFromSystem();</span></td><td> </td><td class="rblock">       <span class="insert">setJD(StelUtils::getJDFromSystem());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       // add Delta-T correction for actual time</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       setJDay(JD+getDeltaT(JD)/86400);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setTodayTime(const QTime&amp; target)</td><td> </td><td class="right">void StelCore::setTodayTime(const QTime&amp; target)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QDateTime dt = QDateTime::currentDateTime();</td><td> </td><td class="right">       QDateTime dt = QDateTime::currentDateTime();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (target.isValid())</td><td> </td><td class="right">       if (target.isValid())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               dt.setTime(target);</td><td> </td><td class="right">               dt.setTime(target);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // don't forget to adjust for timezone / daylight savings.</td><td> </td><td class="right">               // don't forget to adjust for timezone / daylight savings.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double JD = StelUtils::qDateTimeToJd(dt)-(StelUtils::getGMTS
hiftFromQT(StelUtils::getJDFromSystem()) * JD_HOUR);</td><td> </td><td class="right">               double JD = StelUtils::qDateTimeToJd(dt)-(StelUtils::getGMTS
hiftFromQT(StelUtils::getJDFromSystem()) * JD_HOUR);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               setJD<span class="delete">ay(JD + getDeltaT(JD)/86400</span>);</td><td> </td><td class="rblock">               setJD<span class="insert">(JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qWarning() &lt;&lt; "WARNING - time passed to StelCore::setTodayTi
me is not valid. The system time will be used." &lt;&lt; target;</td><td> </td><td class="right">               qWarning() &lt;&lt; "WARNING - time passed to StelCore::setTodayTi
me is not valid. The system time will be used." &lt;&lt; target;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               setTimeNow();</td><td> </td><td class="right">               setTimeNow();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get whether the current stellarium time is the real world time</td><td> </td><td class="right">//! Get whether the current stellarium time is the real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool StelCore::getIsTimeNow(void) const</td><td> </td><td class="right">bool StelCore::getIsTimeNow(void) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // cache last time to prevent to much slow system call</td><td> </td><td class="right">       // cache last time to prevent to much slow system call</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       static double lastJD = <span class="delete">getJDay();</span></td><td> </td><td class="rblock">       static double lastJD = <span class="insert">getJD();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       static bool previousResult = <span class="delete">(fabs(getJDay()-(StelUtils::getJDFromSy</span></td><td> </td><td class="rblock">       static bool previousResult = <span class="insert">(fabs(getJD()-(StelUtils::getJDFromSyst</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">stem()+getDeltaT(lastJD)/86400))&lt;JD_SECOND);</span></td><td> </td><td class="rblock"><span class="insert">em()))&lt;JD_SECOND);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(fabs(lastJD-getJDay())&gt;JD_SECOND/4)</span></td><td> </td><td class="rblock">       if <span class="insert">(fabs(lastJD-getJD())&gt;JD_SECOND/4)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0053" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               lastJD = <span class="delete">getJDay();</span></td><td> </td><td class="rblock">               lastJD = <span class="insert">getJD();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               previousResult = <span class="delete">(fabs(getJDay()-(StelUtils::getJDFromSystem</span></td><td> </td><td class="rblock">               previousResult = <span class="insert">(fabs(getJD()-(StelUtils::getJDFromSystem()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">()+getDeltaT(lastJD)/86400))&lt;JD_SECOND);</span></td><td> </td><td class="rblock"><span class="insert">))&lt;JD_SECOND);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return previousResult;</td><td> </td><td class="right">       return previousResult;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QTime StelCore::getInitTodayTime(void)</td><td> </td><td class="right">QTime StelCore::getInitTodayTime(void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return initTodayTime;</td><td> </td><td class="right">       return initTodayTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0054" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::setInitTodayTime(const QTime&amp; t)</td><td> </td><td class="rblock">void StelCore::setInitTodayTime(const QTime&amp; t<span class="insert">ime</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0055" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       initTodayTime=t;</td><td> </td><td class="rblock">       initTodayTime=t<span class="insert">ime</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0056" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::setPresetSkyTime(QDateTime d<span class="delete">t</span>)</td><td> </td><td class="rblock">void StelCore::setPresetSkyTime(QDateTime d<span class="insert">ateTime</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0057" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       setPresetSkyTime(StelUtils::qDateTimeToJd(d<span class="delete">t</span>));</td><td> </td><td class="rblock">       setPresetSkyTime(StelUtils::qDateTimeToJd(d<span class="insert">ateTime</span>));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addHour()</td><td> </td><td class="right">void StelCore::addHour()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(JD_HOUR);</td><td> </td><td class="right">       addSolarDays(JD_HOUR);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addDay()</td><td> </td><td class="right">void StelCore::addDay()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(1.0);</td><td> </td><td class="right">       addSolarDays(1.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> line 1003</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> line 1077</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addWeek()</td><td> </td><td class="right">void StelCore::addWeek()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(7.0);</td><td> </td><td class="right">       addSolarDays(7.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addSiderealDay()</td><td> </td><td class="right">void StelCore::addSiderealDay()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSiderealDays(1.0);</td><td> </td><td class="right">       addSiderealDays(1.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0058" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">void StelCore::addSiderealWeek()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">{</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       addSiderealDays(7.0);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">void StelCore::addSiderealMonth()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">{</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       double days = 27.321661;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       const PlanetP&amp; home = position-&gt;getHomePlanet();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tSiderealPeriod()&gt;0))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               days = home-&gt;getSiderealPeriod()/12;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       addSolarDays(days);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addSiderealYear()</td><td> </td><td class="right">void StelCore::addSiderealYear()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double days = 365.256363004;</td><td> </td><td class="right">       double days = 365.256363004;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td> </td><td class="right">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td> </td><td class="right">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               days = home-&gt;getSiderealPeriod();</td><td> </td><td class="right">               days = home-&gt;getSiderealPeriod();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(days);</td><td> </td><td class="right">       addSolarDays(days);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0059" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::addSidereal<span class="delete">Century(</span>)</td><td> </td><td class="rblock">void StelCore::addSidereal<span class="insert">Years(float n</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0060" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double days = 365<span class="delete">25.</span>6363004;</td><td> </td><td class="rblock">       double days = 365<span class="insert">.25</span>6363004;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td> </td><td class="right">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td> </td><td class="right">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0061" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               days = home-&gt;getSiderealPeriod()<span class="delete">*100</span>;</td><td> </td><td class="rblock">               days = home-&gt;getSiderealPeriod();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0062" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       addSolarDays(days);</td><td> </td><td class="rblock">       addSolarDays(days<span class="insert">*n</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addSynodicMonth()</td><td> </td><td class="right">void StelCore::addSynodicMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(29.530588853);</td><td> </td><td class="right">       addSolarDays(29.530588853);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addDraconicMonth()</td><td> </td><td class="right">void StelCore::addDraconicMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(27.212220817);</td><td> </td><td class="right">       addSolarDays(27.212220817);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0063" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::addTropicalMonth()</td><td> </td><td class="rblock">void StelCore::add<span class="insert">Mean</span>TropicalMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(27.321582241);</td><td> </td><td class="right">       addSolarDays(27.321582241);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addAnomalisticMonth()</td><td> </td><td class="right">void StelCore::addAnomalisticMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(27.554549878);</td><td> </td><td class="right">       addSolarDays(27.554549878);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0064" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::addAnomalisticYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(365.259636);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::addAnomalisticYears(float n)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(365.259636*n);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addDraconicYear()</td><td> </td><td class="right">void StelCore::addDraconicYear()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(346.620075883);</td><td> </td><td class="right">       addSolarDays(346.620075883);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0065" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::addTropicalYear()</td><td> </td><td class="rblock">void StelCore::add<span class="insert">Mean</span>TropicalYear()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(365.242190419);</td><td> </td><td class="right">       addSolarDays(365.242190419);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0066" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void <span class="delete">StelCore::addTropicalCentury()</span></td><td> </td><td class="rblock">void <span class="insert">StelCore::addTropicalYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // Source: J. Meeus. More Mathematical Astronomy Morsels. 2002, p. 3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">58.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       float T = (getJD()-2451545.0)/365250.0;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(365.242189623 - T*(0.000061522 - T*(0.0000000609 + T*0.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">00000026525)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::addMeanTropicalYears(float n)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(365.2421897*n);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::addJulianYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(365.25);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::addGaussianYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0067" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">addSolarDays(36524.21897);</span></td><td> </td><td class="rblock">       <span class="insert">addSolarDays(365.2568983);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::addJulianYears(float n)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(365.25*n);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractHour()</td><td> </td><td class="right">void StelCore::subtractHour()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-JD_HOUR);</td><td> </td><td class="right">       addSolarDays(-JD_HOUR);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractDay()</td><td> </td><td class="right">void StelCore::subtractDay()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-1.0);</td><td> </td><td class="right">       addSolarDays(-1.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l12" /><small>skipping to change at</small><em> line 1093</em></th><th> </th><th><a name="part-r12" /><small>skipping to change at</small><em> line 1184</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractWeek()</td><td> </td><td class="right">void StelCore::subtractWeek()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-7.0);</td><td> </td><td class="right">       addSolarDays(-7.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractSiderealDay()</td><td> </td><td class="right">void StelCore::subtractSiderealDay()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSiderealDays(-1.0);</td><td> </td><td class="right">       addSiderealDays(-1.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0068" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">void StelCore::subtractSiderealWeek()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">{</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       addSiderealDays(-7.0);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">void StelCore::subtractSiderealMonth()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">{</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       double days = -27.321661;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       const PlanetP&amp; home = position-&gt;getHomePlanet();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tSiderealPeriod()&gt;0))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               days = -1*(home-&gt;getSiderealPeriod()/12);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       addSolarDays(days);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractSiderealYear()</td><td> </td><td class="right">void StelCore::subtractSiderealYear()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double days = 365.256363004;</td><td> </td><td class="right">       double days = 365.256363004;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td> </td><td class="right">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td> </td><td class="right">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               days = home-&gt;getSiderealPeriod();</td><td> </td><td class="right">               days = home-&gt;getSiderealPeriod();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-days);</td><td> </td><td class="right">       addSolarDays(-days);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0069" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::subtractSidereal<span class="delete">Century(</span>)</td><td> </td><td class="rblock">void StelCore::subtractSidereal<span class="insert">Years(float n</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0070" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double days = 365<span class="delete">25.</span>6363004;</td><td> </td><td class="rblock">       double days = 365<span class="insert">.25</span>6363004;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td> </td><td class="right">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td> </td><td class="right">       if ((home-&gt;getEnglishName() != "Solar System Observer") &amp;&amp; (home-&gt;ge
tSiderealPeriod()&gt;0))</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0071" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               days = home-&gt;getSiderealPeriod()<span class="delete">*100</span>;</td><td> </td><td class="rblock">               days = home-&gt;getSiderealPeriod();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0072" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       addSolarDays(-days);</td><td> </td><td class="rblock">       addSolarDays(-days<span class="insert">*n</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractSynodicMonth()</td><td> </td><td class="right">void StelCore::subtractSynodicMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-29.530588853);</td><td> </td><td class="right">       addSolarDays(-29.530588853);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractDraconicMonth()</td><td> </td><td class="right">void StelCore::subtractDraconicMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-27.212220817);</td><td> </td><td class="right">       addSolarDays(-27.212220817);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0073" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::subtractTropicalMonth()</td><td> </td><td class="rblock">void StelCore::subtract<span class="insert">Mean</span>TropicalMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-27.321582241);</td><td> </td><td class="right">       addSolarDays(-27.321582241);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractAnomalisticMonth()</td><td> </td><td class="right">void StelCore::subtractAnomalisticMonth()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-27.554549878);</td><td> </td><td class="right">       addSolarDays(-27.554549878);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0074" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::subtractAnomalisticYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(-365.259636);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::subtractAnomalisticYears(float n)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(-365.259636*n);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractDraconicYear()</td><td> </td><td class="right">void StelCore::subtractDraconicYear()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-346.620075883);</td><td> </td><td class="right">       addSolarDays(-346.620075883);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::subtractTropicalYear()</td><td> </td><td class="right">void StelCore::subtractTropicalYear()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0075" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// Source: J. Meeus. More Mathematical Astronomy Morsels. 2002, p. 3</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">58.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       float T = (getJD()-2451545.0)/365250.0;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(-(365.242189623 - T*(0.000061522 - T*(0.0000000609 + T*</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">0.00000026525))));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::subtractMeanTropicalYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addSolarDays(-365.242190419);</td><td> </td><td class="right">       addSolarDays(-365.242190419);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0076" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void StelCore::subtract<span class="delete">TropicalCentury(</span>)</td><td> </td><td class="rblock">void StelCore::subtract<span class="insert">MeanTropicalYears(float n</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0077" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">addSolarDays(-36524.21897);</span></td><td> </td><td class="rblock">       <span class="insert">addSolarDays(-365.2421897*n);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::subtractJulianYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(-365.25);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::subtractGaussianYear()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(-365.2568983);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void StelCore::subtractJulianYears(float n)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addSolarDays(-365.25*n);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addSolarDays(double d)</td><td> </td><td class="right">void StelCore::addSolarDays(double d)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td> </td><td class="right">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (home-&gt;getEnglishName() != "Solar System Observer")</td><td> </td><td class="right">       if (home-&gt;getEnglishName() != "Solar System Observer")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               d *= home-&gt;getMeanSolarDay();</td><td> </td><td class="right">               d *= home-&gt;getMeanSolarDay();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0078" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       setJD<span class="delete">ay(getJDay</span>() + d);</td><td> </td><td class="rblock">       setJD<span class="insert">(getJD</span>() + d);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::addSiderealDays(double d)</td><td> </td><td class="right">void StelCore::addSiderealDays(double d)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td> </td><td class="right">       const PlanetP&amp; home = position-&gt;getHomePlanet();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (home-&gt;getEnglishName() != "Solar System Observer")</td><td> </td><td class="right">       if (home-&gt;getEnglishName() != "Solar System Observer")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               d *= home-&gt;getSiderealDay();</td><td> </td><td class="right">               d *= home-&gt;getSiderealDay();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0079" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       setJD<span class="delete">ay(getJDay</span>() + d);</td><td> </td><td class="rblock">       setJD<span class="insert">(getJD</span>() + d);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Get the sidereal time shifted by the observer longitude</td><td> </td><td class="right">// Get the sidereal time shifted by the observer longitude</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getLocalSiderealTime() const</td><td> </td><td class="right">double StelCore::getLocalSiderealTime() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0080" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return <span class="delete">(position-&gt;getHomePlanet()-&gt;getSiderealTime(JDay)+position-&gt;g</span></td><td> </td><td class="rblock">       <span class="insert">// On Earth, this requires UT deliberately with all its faults, on o</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">etCurrentLocation().longitude)*M_PI/180.;</span></td><td> </td><td class="rblock"><span class="insert">ther planets we use the more regular TT.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       return <span class="insert">(position-&gt;getHomePlanet()-&gt;getSiderealTime(getJD(), getJDE()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">)+position-&gt;getCurrentLocation().longitude)*M_PI/180.;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get the duration of a sidereal day for the current observer in day.</td><td> </td><td class="right">//! Get the duration of a sidereal day for the current observer in day.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getLocalSiderealDayLength() const</td><td> </td><td class="right">double StelCore::getLocalSiderealDayLength() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return position-&gt;getHomePlanet()-&gt;getSiderealDay();</td><td> </td><td class="right">       return position-&gt;getHomePlanet()-&gt;getSiderealDay();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get the duration of a sidereal year for the current observer in days.</td><td> </td><td class="right">//! Get the duration of a sidereal year for the current observer in days.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getLocalSiderealYearLength() const</td><td> </td><td class="right">double StelCore::getLocalSiderealYearLength() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l13" /><small>skipping to change at</small><em> line 1272</em></th><th> </th><th><a name="part-r13" /><small>skipping to change at</small><em> line 1381</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return (fabs(timeSpeed-JD_SECOND)&lt;0.0000001);</td><td> </td><td class="right">       return (fabs(timeSpeed-JD_SECOND)&lt;0.0000001);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">///////////////////////////////////////////////////////////////////////////
/////</td><td> </td><td class="right">///////////////////////////////////////////////////////////////////////////
/////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Increment time</td><td> </td><td class="right">// Increment time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::updateTime(double deltaTime)</td><td> </td><td class="right">void StelCore::updateTime(double deltaTime)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (getRealTimeSpeed())</td><td> </td><td class="right">       if (getRealTimeSpeed())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Get rid of the error from the 1 /</td><td> </td><td class="right">               // Get rid of the error from the 1 /</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0081" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               JDay = JDayOfLastJDayUpdate + (StelApp::getTotalRunTime() - </td><td> </td><td class="rblock">               <span class="insert">//</span> JDay = JDayOfLastJDayUpdate + (StelApp::getTotalRunTime()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">secondsOfLastJDayUpdate) / ONE_OVER_JD_SECOND;</td><td> </td><td class="rblock"> - secondsOfLastJDayUpdate) / ONE_OVER_JD_SECOND;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">// GZ I don't understand the comment. Is the constant wrong?</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               JD.first = jdOfLastJDUpdate + (StelApp::getTotalRunTime() - </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">secondsOfLastJDUpdate) * JD_SECOND;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0082" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               JD<span class="delete">ay = JDayOfLastJDayUpdate + (StelApp::getTotalRunTime() - 
secondsOfLastJDay</span>Update) * timeSpeed;</td><td> </td><td class="rblock">               JD<span class="insert">.first = jdOfLastJDUpdate + (StelApp::getTotalRunTime() - 
secondsOfLastJD</span>Update) * timeSpeed;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Fix time limits to -100000 to +100000 to prevent bugs</td><td> </td><td class="right">       // Fix time limits to -100000 to +100000 to prevent bugs</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0083" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(JDay&gt;38245309.499988) JDay</span> = 38245309.499988;</td><td> </td><td class="rblock">       if <span class="insert">(JD.first&gt;38245309.499988) JD.first</span> = 38245309.499988;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(JDay&lt;-34803211.500012) JDay</span> = -34803211.500012;</td><td> </td><td class="rblock">       if <span class="insert">(JD.first&lt;-34803211.500012) JD.first</span> = -34803211.500012;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">JD.second=computeDeltaT(JD.first);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (position-&gt;isObserverLifeOver())</td><td> </td><td class="right">       if (position-&gt;isObserverLifeOver())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Unselect if the new home planet is the previously selecte
d object</td><td> </td><td class="right">               // Unselect if the new home planet is the previously selecte
d object</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelObjectMgr* objmgr = GETSTELMODULE(StelObjectMgr);</td><td> </td><td class="right">               StelObjectMgr* objmgr = GETSTELMODULE(StelObjectMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Q_ASSERT(objmgr);</td><td> </td><td class="right">               Q_ASSERT(objmgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (objmgr-&gt;getWasSelected() &amp;&amp; objmgr-&gt;getSelectedObject()[
0].data()==position-&gt;getHomePlanet())</td><td> </td><td class="right">               if (objmgr-&gt;getWasSelected() &amp;&amp; objmgr-&gt;getSelectedObject()[
0].data()==position-&gt;getHomePlanet())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       objmgr-&gt;unSelect();</td><td> </td><td class="right">                       objmgr-&gt;unSelect();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelObserver* newObs = position-&gt;getNextObserver();</td><td> </td><td class="right">               StelObserver* newObs = position-&gt;getNextObserver();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete position;</td><td> </td><td class="right">               delete position;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               position = newObs;</td><td> </td><td class="right">               position = newObs;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       position-&gt;update(deltaTime);</td><td> </td><td class="right">       position-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Position of sun and all the satellites (ie planets)</td><td> </td><td class="right">       // Position of sun and all the satellites (ie planets)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0084" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       SolarSystem* solsystem = <span class="delete">(SolarSystem*)StelApp::getInstance().getMod</span></td><td> </td><td class="rblock">       <span class="insert">// GZ maybe setting this static can speedup a bit?</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">uleMgr().getModule("SolarSystem");</span></td><td> </td><td class="rblock"><span class="insert">       static</span> SolarSystem* solsystem = <span class="insert">(SolarSystem*)StelApp::getInstance()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       solsystem-&gt;computePositions(getJDay(), position-&gt;getHomePlanet()-&gt;ge</span></td><td> </td><td class="rblock"><span class="insert">.getModuleMgr().getModule("SolarSystem");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tHeliocentricEclipticPos());</span></td><td> </td><td class="rblock"><span class="insert">       // Likely the most important location where we need JDE:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       solsystem-&gt;computePositions(getJDE(), position-&gt;getHomePlanet()-&gt;get</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">HeliocentricEclipticPos());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::resetSync()</td><td> </td><td class="right">void StelCore::resetSync()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0085" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">JDayOfLastJDayUpdate</span> = <span class="delete">getJDay();</span></td><td> </td><td class="rblock">       <span class="insert">jdOfLastJDUpdate</span> = <span class="insert">getJD();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       secondsOfLastJDayUpdate</span> = StelApp::getTotalRunTime();</td><td> </td><td class="rblock"><span class="insert">       secondsOfLastJDUpdate</span> = StelApp::getTotalRunTime();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setStartupTimeMode(const QString&amp; s)</td><td> </td><td class="right">void StelCore::setStartupTimeMode(const QString&amp; s)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       startupTimeMode = s;</td><td> </td><td class="right">       startupTimeMode = s;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0086" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">double <span class="delete">StelCore::getDeltaT(double jDay)</span> const</td><td> </td><td class="rblock"><span class="insert">// return precomputed DeltaT in seconds. Public.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">double <span class="insert">StelCore::getDeltaT() const</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return JD.second;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">// compute and return DeltaT in seconds. Try not to call it directly, curre</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">nt DeltaT, JD, and JDE are available.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">double StelCore::computeDeltaT(const double JD)</span> const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double DeltaT = 0.;</td><td> </td><td class="right">       double DeltaT = 0.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double ndot = 0.;</td><td> </td><td class="right">       double ndot = 0.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool dontUseMoon = false;</td><td> </td><td class="right">       bool dontUseMoon = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       switch (getCurrentDeltaTAlgorithm())</td><td> </td><td class="right">       switch (getCurrentDeltaTAlgorithm())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case WithoutCorrection:</td><td> </td><td class="right">               case WithoutCorrection:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Without correction, DeltaT is disabled</td><td> </td><td class="right">                       // Without correction, DeltaT is disabled</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       DeltaT = 0.;</td><td> </td><td class="right">                       DeltaT = 0.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       dontUseMoon = true;</td><td> </td><td class="right">                       dontUseMoon = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Schoch:</td><td> </td><td class="right">               case Schoch:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Schoch (1931) algorithm for DeltaT</td><td> </td><td class="right">                       // Schoch (1931) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -29.68; // n.dot = -29.68"/cy/cy</td><td> </td><td class="right">                       ndot = -29.68; // n.dot = -29.68"/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0087" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTBySchoch(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTBySchoch(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Clemence:</td><td> </td><td class="right">               case Clemence:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Clemence (1948) algorithm for DeltaT</td><td> </td><td class="right">                       // Clemence (1948) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy</td><td> </td><td class="right">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0088" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByClemence(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByClemence(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IAU:</td><td> </td><td class="right">               case IAU:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // IAU (1952) algorithm for DeltaT, based on observa
tions by Spencer Jones (1939)</td><td> </td><td class="right">                       // IAU (1952) algorithm for DeltaT, based on observa
tions by Spencer Jones (1939)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy</td><td> </td><td class="right">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0089" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByIAU(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByIAU(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case AstronomicalEphemeris:</td><td> </td><td class="right">               case AstronomicalEphemeris:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Astronomical Ephemeris (1960) algorithm for Delta
T</td><td> </td><td class="right">                       // Astronomical Ephemeris (1960) algorithm for Delta
T</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy</td><td> </td><td class="right">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0090" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByAstronomicalEphemeris
(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByAstronomicalEphemeris
(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case TuckermanGoldstine:</td><td> </td><td class="right">               case TuckermanGoldstine:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Tuckerman (1962, 1964) &amp; Goldstine (1973) algorit
hm for DeltaT</td><td> </td><td class="right">                       // Tuckerman (1962, 1964) &amp; Goldstine (1973) algorit
hm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //FIXME: n.dot</td><td> </td><td class="right">                       //FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy ???</td><td> </td><td class="right">                       ndot = -22.44; // n.dot = -22.44 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0091" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByTuckermanGoldstine(<span class="delete">jD
ay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByTuckermanGoldstine(<span class="insert">JD
</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MullerStephenson:</td><td> </td><td class="right">               case MullerStephenson:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Muller &amp; Stephenson (1975) algorithm for DeltaT</td><td> </td><td class="right">                       // Muller &amp; Stephenson (1975) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -37.5; // n.dot = -37.5 "/cy/cy</td><td> </td><td class="right">                       ndot = -37.5; // n.dot = -37.5 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0092" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByMullerStephenson(<span class="delete">jDay
</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByMullerStephenson(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Stephenson1978:</td><td> </td><td class="right">               case Stephenson1978:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson (1978) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson (1978) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -30.0; // n.dot = -30.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -30.0; // n.dot = -30.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0093" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByStephenson1978(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByStephenson1978(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case SchmadelZech1979:</td><td> </td><td class="right">               case SchmadelZech1979:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Schmadel &amp; Zech (1979) algorithm for DeltaT</td><td> </td><td class="right">                       // Schmadel &amp; Zech (1979) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td> </td><td class="right">                       ndot = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0094" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTBySchmadelZech1979(<span class="delete">jDay
</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTBySchmadelZech1979(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson1982:</td><td> </td><td class="right">               case MorrisonStephenson1982:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Morrison &amp; Stephenson (1982) algorithm for DeltaT
 (used by RedShift)</td><td> </td><td class="right">                       // Morrison &amp; Stephenson (1982) algorithm for DeltaT
 (used by RedShift)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0095" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByMorrisonStephenson198
2(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByMorrisonStephenson198
2(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonMorrison1984:</td><td> </td><td class="right">               case StephensonMorrison1984:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson &amp; Morrison (1984) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson &amp; Morrison (1984) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0096" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByStephensonMorrison198
4(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByStephensonMorrison198
4(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonHoulden:</td><td> </td><td class="right">               case StephensonHoulden:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson &amp; Houlden (1986) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson &amp; Houlden (1986) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0097" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByStephensonHoulden(<span class="delete">jDa
y)</span>;</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByStephensonHoulden(<span class="insert">JD)
</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Espenak:</td><td> </td><td class="right">               case Espenak:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Espenak (1987, 1989) algorithm for DeltaT</td><td> </td><td class="right">                       // Espenak (1987, 1989) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //FIXME: n.dot</td><td> </td><td class="right">                       //FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -23.8946; // n.dot = -23.8946 "/cy/cy ???</td><td> </td><td class="right">                       ndot = -23.8946; // n.dot = -23.8946 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0098" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByEspenak(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByEspenak(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Borkowski:</td><td> </td><td class="right">               case Borkowski:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Borkowski (1988) algorithm for DeltaT, relates to
 ELP2000-85!</td><td> </td><td class="right">                       // Borkowski (1988) algorithm for DeltaT, relates to
 ELP2000-85!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -23.895; // GZ: I see -23.895 in the paper, n
ot -23.859; (?) // n.dot = -23.859 "/cy/cy</td><td> </td><td class="right">                       ndot = -23.895; // GZ: I see -23.895 in the paper, n
ot -23.859; (?) // n.dot = -23.859 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0099" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByBorkowski(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByBorkowski(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case SchmadelZech1988:</td><td> </td><td class="right">               case SchmadelZech1988:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Schmadel &amp; Zech (1988) algorithm for DeltaT</td><td> </td><td class="right">                       // Schmadel &amp; Zech (1988) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //FIXME: n.dot</td><td> </td><td class="right">                       //FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0100" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTBySchmadelZech1988(<span class="delete">jDay
</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTBySchmadelZech1988(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ChaprontTouze:</td><td> </td><td class="right">               case ChaprontTouze:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Chapront-Touz &amp; Chapront (1991) algorithm for De
ltaT</td><td> </td><td class="right">                       // Chapront-Touz &amp; Chapront (1991) algorithm for De
ltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td> </td><td class="right">                       ndot = -23.8946; // n.dot = -23.8946 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0101" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByChaprontTouze(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByChaprontTouze(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonMorrison1995:</td><td> </td><td class="right">               case StephensonMorrison1995:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson &amp; Morrison (1995) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson &amp; Morrison (1995) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0102" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByStephensonMorrison199
5(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByStephensonMorrison199
5(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Stephenson1997:</td><td> </td><td class="right">               case Stephenson1997:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Stephenson (1997) algorithm for DeltaT</td><td> </td><td class="right">                       // Stephenson (1997) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0103" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByStephenson1997(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByStephenson1997(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ChaprontMeeus:</td><td> </td><td class="right">               case ChaprontMeeus:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Chapront, Chapront-Touze &amp; Francou (1997) &amp; Meeus
 (1998) algorithm for DeltaT</td><td> </td><td class="right">                       // Chapront, Chapront-Touze &amp; Francou (1997) &amp; Meeus
 (1998) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td> </td><td class="right">                       ndot = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0104" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByChaprontMeeus(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByChaprontMeeus(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case JPLHorizons:</td><td> </td><td class="right">               case JPLHorizons:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // JPL Horizons algorithm for DeltaT</td><td> </td><td class="right">                       // JPL Horizons algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td> </td><td class="right">                       ndot = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0105" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByJPLHorizons(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByJPLHorizons(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MeeusSimons:</td><td> </td><td class="right">               case MeeusSimons:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Meeus &amp; Simons (2000) algorithm for DeltaT</td><td> </td><td class="right">                       // Meeus &amp; Simons (2000) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td> </td><td class="right">                       ndot = -25.7376; // n.dot = -25.7376 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0106" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByMeeusSimons(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByMeeusSimons(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ReingoldDershowitz:</td><td> </td><td class="right">               case ReingoldDershowitz:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Reingold &amp; Dershowitz (2002, 2007) algorithm for 
DeltaT</td><td> </td><td class="right">                       // Reingold &amp; Dershowitz (2002, 2007) algorithm for 
DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // FIXME: n.dot</td><td> </td><td class="right">                       // FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0107" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByReingoldDershowitz(<span class="delete">jD
ay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByReingoldDershowitz(<span class="insert">JD
</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MontenbruckPfleger:</td><td> </td><td class="right">               case MontenbruckPfleger:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Montenbruck &amp; Pfleger (2000) algorithm for DeltaT</td><td> </td><td class="right">                       // Montenbruck &amp; Pfleger (2000) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // NOTE: book not contains n.dot value</td><td> </td><td class="right">                       // NOTE: book not contains n.dot value</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // FIXME: n.dot</td><td> </td><td class="right">                       // FIXME: n.dot</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy ???</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0108" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByMontenbruckPfleger(<span class="delete">jD
ay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByMontenbruckPfleger(<span class="insert">JD
</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson2004:</td><td> </td><td class="right">               case MorrisonStephenson2004:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Morrison &amp; Stephenson (2004, 2005) algorithm for 
DeltaT</td><td> </td><td class="right">                       // Morrison &amp; Stephenson (2004, 2005) algorithm for 
DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0109" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByMorrisonStephenson200
4(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByMorrisonStephenson200
4(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Reijs:</td><td> </td><td class="right">               case Reijs:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Reijs (2006) algorithm for DeltaT</td><td> </td><td class="right">                       // Reijs (2006) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0110" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByReijs(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByReijs(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case EspenakMeeus:</td><td> </td><td class="right">               case EspenakMeeus:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Espenak &amp; Meeus (2006) algorithm for DeltaT</td><td> </td><td class="right">                       // Espenak &amp; Meeus (2006) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -25.858; // n.dot = -25.858 "/cy/cy</td><td> </td><td class="right">                       ndot = -25.858; // n.dot = -25.858 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0111" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = <span class="delete">StelUtils::getDeltaTByEspenakMeeus(jDay);</span></td><td> </td><td class="rblock">                       DeltaT = <span class="insert">StelUtils::getDeltaTByEspenakMeeus(JD);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case EspenakMeeusZeroMoonAccel:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // This is a trying area. Something is wrong with De</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ltaT, maybe ndot is still not applied correctly.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // Espenak &amp; Meeus (2006) algorithm for DeltaT</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       ndot = -25.858; // n.dot = -25.858 "/cy/cy</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       dontUseMoon = true;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       DeltaT = StelUtils::getDeltaTByEspenakMeeus(JD);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Banjevic:</td><td> </td><td class="right">               case Banjevic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Banjevic (2006) algorithm for DeltaT</td><td> </td><td class="right">                       // Banjevic (2006) algorithm for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0112" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByBanjevic(<span class="delete">jDay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByBanjevic(<span class="insert">JD</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IslamSadiqQureshi:</td><td> </td><td class="right">               case IslamSadiqQureshi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Islam, Sadiq &amp; Qureshi (2008 + revisited 2013) al
gorithm for DeltaT (6 polynomials)</td><td> </td><td class="right">                       // Islam, Sadiq &amp; Qureshi (2008 + revisited 2013) al
gorithm for DeltaT (6 polynomials)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0113" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByIslamSadiqQureshi(<span class="delete">jDa
y)</span>;</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByIslamSadiqQureshi(<span class="insert">JD)
</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       dontUseMoon = true; // Seems this solutions doesn't 
use value of secular acceleration of the Moon</td><td> </td><td class="right">                       dontUseMoon = true; // Seems this solutions doesn't 
use value of secular acceleration of the Moon</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case KhalidSultanaZaidi:</td><td> </td><td class="right">               case KhalidSultanaZaidi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // M. Khalid, Mariam Sultana and Faheem Zaidi polino
mial approximation of time period 1620-2013 (2014)</td><td> </td><td class="right">                       // M. Khalid, Mariam Sultana and Faheem Zaidi polino
mial approximation of time period 1620-2013 (2014)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td> </td><td class="right">                       ndot = -26.0; // n.dot = -26.0 "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0114" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       DeltaT = StelUtils::getDeltaTByKhalidSultanaZaidi(<span class="delete">jD
ay</span>);</td><td> </td><td class="rblock">                       DeltaT = StelUtils::getDeltaTByKhalidSultanaZaidi(<span class="insert">JD
</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       dontUseMoon = true; // Seems this solutions doesn't 
use value of secular acceleration of the Moon</td><td> </td><td class="right">                       dontUseMoon = true; // Seems this solutions doesn't 
use value of secular acceleration of the Moon</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Custom:</td><td> </td><td class="right">               case Custom:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // User defined coefficients for quadratic equation 
for DeltaT</td><td> </td><td class="right">                       // User defined coefficients for quadratic equation 
for DeltaT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ndot = getDeltaTCustomNDot(); // n.dot = custom valu
e "/cy/cy</td><td> </td><td class="right">                       ndot = getDeltaTCustomNDot(); // n.dot = custom valu
e "/cy/cy</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       int year, month, day;</td><td> </td><td class="right">                       int year, month, day;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       Vec3f coeff = getDeltaTCustomEquationCoefficients();</td><td> </td><td class="right">                       Vec3f coeff = getDeltaTCustomEquationCoefficients();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0115" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       StelUtils::getDateFromJulianDay(<span class="delete">jDay, &amp;year, &amp;month,
 &amp;</span>day);</td><td> </td><td class="rblock">                       StelUtils::getDateFromJulianDay(<span class="insert">JD, &amp;year, &amp;month, &amp;
</span>day);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double u = (StelUtils::getDecYear(year,month,day)-ge
tDeltaTCustomYear())/100;</td><td> </td><td class="right">                       double u = (StelUtils::getDecYear(year,month,day)-ge
tDeltaTCustomYear())/100;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       DeltaT = coeff[0] + u*(coeff[1] + u*coeff[2]);</td><td> </td><td class="right">                       DeltaT = coeff[0] + u*(coeff[1] + u*coeff[2]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!dontUseMoon)</td><td> </td><td class="right">       if (!dontUseMoon)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0116" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               DeltaT += StelUtils::getMoonSecularAcceleration(<span class="delete">jDay</span>, ndot);</td><td> </td><td class="rblock">               DeltaT += StelUtils::getMoonSecularAcceleration(<span class="insert">JD</span>, ndot);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return DeltaT;</td><td> </td><td class="right">       return DeltaT;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Set the current algorithm for time correction to use</td><td> </td><td class="right">//! Set the current algorithm for time correction to use</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelCore::setCurrentDeltaTAlgorithmKey(QString key)</td><td> </td><td class="right">void StelCore::setCurrentDeltaTAlgorithmKey(QString key)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const QMetaEnum&amp; en = metaObject()-&gt;enumerator(metaObject()-&gt;indexOf
Enumerator("DeltaTAlgorithm"));</td><td> </td><td class="right">       const QMetaEnum&amp; en = metaObject()-&gt;enumerator(metaObject()-&gt;indexOf
Enumerator("DeltaTAlgorithm"));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       DeltaTAlgorithm algo = (DeltaTAlgorithm)en.keyToValue(key.toLatin1()
.data());</td><td> </td><td class="right">       DeltaTAlgorithm algo = (DeltaTAlgorithm)en.keyToValue(key.toLatin1()
.data());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (algo&lt;0)</td><td> </td><td class="right">       if (algo&lt;0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l14" /><small>skipping to change at</small><em> line 1523</em></th><th> </th><th><a name="part-r14" /><small>skipping to change at</small><em> line 1651</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // GZ remarked where more info would be desirable. Generally, a full
 citation and the math. term would be nice to have displayed if it's just o
ne formula, and the range of valid dates.</td><td> </td><td class="right">       // GZ remarked where more info would be desirable. Generally, a full
 citation and the math. term would be nice to have displayed if it's just o
ne formula, and the range of valid dates.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString description;</td><td> </td><td class="right">       QString description;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double jd = 0;</td><td> </td><td class="right">       double jd = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString marker;</td><td> </td><td class="right">       QString marker;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       switch (getCurrentDeltaTAlgorithm())</td><td> </td><td class="right">       switch (getCurrentDeltaTAlgorithm())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case WithoutCorrection:</td><td> </td><td class="right">               case WithoutCorrection:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("Correction is disabled. Use only i
f you know what you are doing!");</td><td> </td><td class="right">                       description = q_("Correction is disabled. Use only i
f you know what you are doing!");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Schoch: // historical value.</td><td> </td><td class="right">               case Schoch: // historical value.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0117" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This historical formula was obtain
ed by C. Schoch in 1931 and was used by G. Henriksson in his article &lt;em&gt;Ei
nstein's Theory of Relativity Confirmed by Ancient Solar Eclipses&lt;/em&gt; (%1)
. See for more info %2here%3.").arg("2009").arg("&lt;a href='http://journalofc
osmology.com/AncientAstronomy123.html'&gt;").arg("&lt;/a&gt;").append(getCurrentDelt
aTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This historical formula was obtain
ed by C. Schoch in 1931 and was used by G. Henriksson in his article &lt;em&gt;Ei
nstein's Theory of Relativity Confirmed by Ancient Solar Eclipses&lt;/em&gt; (%1)
. See for more info %2here%3.").arg("2009").arg("&lt;a href='http://journalofc
osmology.com/AncientAstronomy123.html'&gt;").arg("&lt;/a&gt;").append(getCurrentDelt
aTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Clemence: // historical value.</td><td> </td><td class="right">               case Clemence: // historical value.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0118" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This empirical equation was publis
hed by G. M. Clemence in the article &lt;em&gt;On the system of astronomical cons
tants&lt;/em&gt; (%1).").arg("&lt;a href='http://adsabs.harvard.edu/abs/1948AJ.....5
3..169C'&gt;1948&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;marker)
</span>);</td><td> </td><td class="rblock">                       description = q_("This empirical equation was publis
hed by G. M. Clemence in the article &lt;em&gt;On the system of astronomical cons
tants&lt;/em&gt; (%1).").arg("&lt;a href='http://adsabs.harvard.edu/abs/1948AJ.....5
3..169C'&gt;1948&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description(j
d, &amp;marker)</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IAU: // historical value.</td><td> </td><td class="right">               case IAU: // historical value.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0119" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This formula is based on a study o
f post-1650 observations of the Sun, the Moon and the planets by Spencer Jo
nes (%1) and used by Jean Meeus in his &lt;em&gt;Astronomical Formulae for Calcul
ators&lt;/em&gt;. It was also adopted in the PC program SunTracker Pro.").arg("&lt;a
 href='http://adsabs.harvard.edu/abs/1939MNRAS..99..541S'&gt;1939&lt;/a&gt;").append
(getCurrentDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This formula is based on a study o
f post-1650 observations of the Sun, the Moon and the planets by Spencer Jo
nes (%1) and used by Jean Meeus in his &lt;em&gt;Astronomical Formulae for Calcul
ators&lt;/em&gt;. It was also adopted in the PC program SunTracker Pro.").arg("&lt;a
 href='http://adsabs.harvard.edu/abs/1939MNRAS..99..541S'&gt;1939&lt;/a&gt;").append
(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // find year of publication of AFFC</td><td> </td><td class="right">                       // find year of publication of AFFC</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case AstronomicalEphemeris: // historical value.</td><td> </td><td class="right">               case AstronomicalEphemeris: // historical value.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0120" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This is a slightly modified versio
n of the IAU (1952) formula which was adopted in the &lt;em&gt;Astronomical Ephem
eris&lt;/em&gt; and in the &lt;em&gt;Canon of Solar Eclipses&lt;/em&gt; by Mucke &amp; Meeus (198
3).").append(getCurrentDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This is a slightly modified versio
n of the IAU (1952) formula which was adopted in the &lt;em&gt;Astronomical Ephem
eris&lt;/em&gt; and in the &lt;em&gt;Canon of Solar Eclipses&lt;/em&gt; by Mucke &amp; Meeus (198
3).").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // TODO: expand the sentence: ... adopted ... from 1
9xx-19yy?</td><td> </td><td class="right">                       // TODO: expand the sentence: ... adopted ... from 1
9xx-19yy?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case TuckermanGoldstine: // historical value.</td><td> </td><td class="right">               case TuckermanGoldstine: // historical value.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0121" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("The tables of Tuckerman (1962, 196
4) list the positions of the Sun, the Moon and the planets at 5- and 10-day
 intervals from 601 BCE to 1649 CE. The same relation was also implicitly a
dopted in the syzygy tables of Goldstine (1973).").append(getCurrentDeltaTA
lgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("The tables of Tuckerman (1962, 196
4) list the positions of the Sun, the Moon and the planets at 5- and 10-day
 intervals from 601 BCE to 1649 CE. The same relation was also implicitly a
dopted in the syzygy tables of Goldstine (1973).").append(getCurrentDeltaTA
lgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // TODO: These tables are sometimes found cited, but
 I have no details. Maybe add "based on ... " ?</td><td> </td><td class="right">                       // TODO: These tables are sometimes found cited, but
 I have no details. Maybe add "based on ... " ?</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MullerStephenson:</td><td> </td><td class="right">               case MullerStephenson:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0122" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This equation was published by P. 
M. Muller and F. R. Stephenson in the article &lt;em&gt;The accelerations of the 
earth and moon from early astronomical observations&lt;/em&gt; (%1).").arg("&lt;a hr
ef='http://adsabs.harvard.edu/abs/1975grhe.conf..459M'&gt;1975&lt;/a&gt;").append(ge
tCurrentDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This equation was published by P. 
M. Muller and F. R. Stephenson in the article &lt;em&gt;The accelerations of the 
earth and moon from early astronomical observations&lt;/em&gt; (%1).").arg("&lt;a hr
ef='http://adsabs.harvard.edu/abs/1975grhe.conf..459M'&gt;1975&lt;/a&gt;").append(ge
tCurrentDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Stephenson1978:</td><td> </td><td class="right">               case Stephenson1978:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0123" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This equation was published by F. 
R. Stephenson in the article &lt;em&gt;Pre-Telescopic Astronomical Observations&lt;/
em&gt; (%1).").arg("&lt;a href='http://adsabs.harvard.edu/abs/1978tfer.conf....5S
'&gt;1978&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;mar</span>ker));</td><td> </td><td class="rblock">                       description = q_("This equation was published by F. 
R. Stephenson in the article &lt;em&gt;Pre-Telescopic Astronomical Observations&lt;/
em&gt; (%1).").arg("&lt;a href='http://adsabs.harvard.edu/abs/1978tfer.conf....5S
'&gt;1978&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description(jd, &amp;mar
</span>ker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case SchmadelZech1979: // outdated data fit, historical valu
e?</td><td> </td><td class="right">               case SchmadelZech1979: // outdated data fit, historical valu
e?</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0124" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This 12th-order polynomial equatio
n (outdated and superseded by Schmadel &amp; Zech (1988)) was published by L. D
. Schmadel and G. Zech in the article &lt;em&gt;Polynomial approximations for the
 correction delta T E.T.-U.T. in the period 1800-1975&lt;/em&gt; (%1) as fit thro
ugh data published by Brouwer (1952).").arg("&lt;a href='http://adsabs.harvard
.edu/abs/1979AcA....29..101S'&gt;1979&lt;/a&gt;").append(getCurrentDeltaTAlgorithmVa
lidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This 12th-order polynomial equatio
n (outdated and superseded by Schmadel &amp; Zech (1988)) was published by L. D
. Schmadel and G. Zech in the article &lt;em&gt;Polynomial approximations for the
 correction delta T E.T.-U.T. in the period 1800-1975&lt;/em&gt; (%1) as fit thro
ugh data published by Brouwer (1952).").arg("&lt;a href='http://adsabs.harvard
.edu/abs/1979AcA....29..101S'&gt;1979&lt;/a&gt;").append(getCurrentDeltaTAlgorithmVa
lidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson1982:</td><td> </td><td class="right">               case MorrisonStephenson1982:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0125" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This algorithm was adopted in P. B
retagnon &amp; L. Simon's &lt;em&gt;Planetary Programs and Tables from -4000 to +2800
&lt;/em&gt; (1986) and in the PC planetarium program RedShift.").append(getCurren
tDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This algorithm was adopted in P. B
retagnon &amp; L. Simon's &lt;em&gt;Planetary Programs and Tables from -4000 to +2800
&lt;/em&gt; (1986) and in the PC planetarium program RedShift.").append(getCurren
tDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonMorrison1984: // PRIMARY SOURCE</td><td> </td><td class="right">               case StephensonMorrison1984: // PRIMARY SOURCE</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0126" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This formula was published by F. R
. Stephenson and L. V. Morrison in the article &lt;em&gt;Long-term changes in the
 rotation of the earth - 700 B.C. to A.D. 1980&lt;/em&gt; (%1).").arg("&lt;a href='h
ttp://adsabs.harvard.edu/abs/1984RSPTA.313...47S'&gt;1984&lt;/a&gt;").append(getCurr
entDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This formula was published by F. R
. Stephenson and L. V. Morrison in the article &lt;em&gt;Long-term changes in the
 rotation of the earth - 700 B.C. to A.D. 1980&lt;/em&gt; (%1).").arg("&lt;a href='h
ttp://adsabs.harvard.edu/abs/1984RSPTA.313...47S'&gt;1984&lt;/a&gt;").append(getCurr
entDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonHoulden:</td><td> </td><td class="right">               case StephensonHoulden:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0127" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This algorithm is used in the PC p
lanetarium program Guide 7.").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd
</span>, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This algorithm is used in the PC p
lanetarium program Guide 7.").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Des
cription(jd</span>, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Espenak: // limited range, but wide availability?</td><td> </td><td class="right">               case Espenak: // limited range, but wide availability?</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0128" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This algorithm was given by F. Esp
enak in his &lt;em&gt;Fifty Year Canon of Solar Eclipses: 1986-2035&lt;/em&gt; (1987) a
nd in his &lt;em&gt;Fifty Year Canon of Lunar Eclipses: 1986-2035&lt;/em&gt; (1989).").
append(getCurrentDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This algorithm was given by F. Esp
enak in his &lt;em&gt;Fifty Year Canon of Solar Eclipses: 1986-2035&lt;/em&gt; (1987) a
nd in his &lt;em&gt;Fifty Year Canon of Lunar Eclipses: 1986-2035&lt;/em&gt; (1989).").
append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Borkowski: // Linked to ELP2000-85, so it's important..
.</td><td> </td><td class="right">               case Borkowski: // Linked to ELP2000-85, so it's important..
.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0129" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This formula was obtained by K.M. 
Borkowski (%1) from an analysis of 31 solar eclipse records dating between 
2137 BCE and 1715 CE.").arg("&lt;a href='http://adsabs.harvard.edu/abs/1988A&amp;A
...205L...8B'&gt;1988&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;ma
</span>rker));</td><td> </td><td class="rblock">                       description = q_("This formula was obtained by K.M. 
Borkowski (%1) from an analysis of 31 solar eclipse records dating between 
2137 BCE and 1715 CE.").arg("&lt;a href='http://adsabs.harvard.edu/abs/1988A&amp;A
...205L...8B'&gt;1988&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Descript
ion(jd, &amp;ma</span>rker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case SchmadelZech1988: // data fit through Stephenson&amp;Morris
on1984, which itself is important. Unclear who uses this version?</td><td> </td><td class="right">               case SchmadelZech1988: // data fit through Stephenson&amp;Morris
on1984, which itself is important. Unclear who uses this version?</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0130" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This 12th-order polynomial equatio
n was published by L. D. Schmadel and G. Zech in the article &lt;em&gt;Empirical 
Transformations from U.T. to E.T. for the Period 1800-1988&lt;/em&gt; (%1) as dat
a fit through values given by Stephenson &amp; Morrison (1984).").arg("&lt;a href=
'http://adsabs.harvard.edu/abs/1988AN....309..219S'&gt;1988&lt;/a&gt;").append(getCu
rrentDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This 12th-order polynomial equatio
n was published by L. D. Schmadel and G. Zech in the article &lt;em&gt;Empirical 
Transformations from U.T. to E.T. for the Period 1800-1988&lt;/em&gt; (%1) as dat
a fit through values given by Stephenson &amp; Morrison (1984).").arg("&lt;a href=
'http://adsabs.harvard.edu/abs/1988AN....309..219S'&gt;1988&lt;/a&gt;").append(getCu
rrentDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ChaprontTouze:</td><td> </td><td class="right">               case ChaprontTouze:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0131" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This formula was adopted by M. Cha
pront-Touze &amp; J. Chapront in the shortened version of the ELP 2000-85 lunar
 theory in their &lt;em&gt;Lunar Tables and Programs from 4000 B.C. to A.D. 8000&lt;
/em&gt; (1991).").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;m</span>arker));</td><td> </td><td class="rblock">                       description = q_("This formula was adopted by M. Cha
pront-Touze &amp; J. Chapront in the shortened version of the ELP 2000-85 lunar
 theory in their &lt;em&gt;Lunar Tables and Programs from 4000 B.C. to A.D. 8000&lt;
/em&gt; (1991).").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description(jd, &amp;m
</span>arker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case StephensonMorrison1995:</td><td> </td><td class="right">               case StephensonMorrison1995:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0132" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This equation was published by F. 
R. Stephenson and L. V. Morrison in the article &lt;em&gt;Long-Term Fluctuations 
in the Earth's Rotation: 700 BC to AD 1990&lt;/em&gt; (%1).").arg("&lt;a href='http:
//adsabs.harvard.edu/abs/1995RSPTA.351..165S'&gt;1995&lt;/a&gt;").append(getCurrentD
eltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This equation was published by F. 
R. Stephenson and L. V. Morrison in the article &lt;em&gt;Long-Term Fluctuations 
in the Earth's Rotation: 700 BC to AD 1990&lt;/em&gt; (%1).").arg("&lt;a href='http:
//adsabs.harvard.edu/abs/1995RSPTA.351..165S'&gt;1995&lt;/a&gt;").append(getCurrentD
eltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Stephenson1997:</td><td> </td><td class="right">               case Stephenson1997:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0133" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("F. R. Stephenson published this fo
rmula in his book &lt;em&gt;Historical Eclipses and Earth's Rotation&lt;/em&gt; (%1).")
.arg("&lt;a href='http://ebooks.cambridge.org/ebook.jsf?bid=CBO9780511525186'&gt;
1997&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;marke</span>r));</td><td> </td><td class="rblock">                       description = q_("F. R. Stephenson published this fo
rmula in his book &lt;em&gt;Historical Eclipses and Earth's Rotation&lt;/em&gt; (%1).")
.arg("&lt;a href='http://ebooks.cambridge.org/ebook.jsf?bid=CBO9780511525186'&gt;
1997&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description(jd, &amp;marke
</span>r));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ChaprontMeeus:</td><td> </td><td class="right">               case ChaprontMeeus:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0134" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("From J. Meeus, &lt;em&gt;Astronomical Al
gorithms&lt;/em&gt; (2nd ed., 1998), and widely used. Table for 1620..2000, and i
ncludes a variant of Chapront, Chapront-Touze &amp; Francou (1997) for dates ou
tside 1620..2000.").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;marker)
</span>);</td><td> </td><td class="rblock">                       description = q_("From J. Meeus, &lt;em&gt;Astronomical Al
gorithms&lt;/em&gt; (2nd ed., 1998), and widely used. Table for 1620..2000, and i
ncludes a variant of Chapront, Chapront-Touze &amp; Francou (1997) for dates ou
tside 1620..2000.").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description(j
d, &amp;marker)</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case JPLHorizons:</td><td> </td><td class="right">               case JPLHorizons:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0135" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("The JPL Solar System Dynamics Grou
p of the NASA Jet Propulsion Laboratory use this formula in their interacti
ve website %1JPL Horizons%2.").arg("&lt;a href='http://ssd.jpl.nasa.gov/?horiz
ons'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;marker)
</span>);</td><td> </td><td class="rblock">                       description = q_("The JPL Solar System Dynamics Grou
p of the NASA Jet Propulsion Laboratory use this formula in their interacti
ve website %1JPL Horizons%2.").arg("&lt;a href='http://ssd.jpl.nasa.gov/?horiz
ons'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description(j
d, &amp;marker)</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MeeusSimons:</td><td> </td><td class="right">               case MeeusSimons:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0136" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This polynome was published by J. 
Meeus and L. Simons in article &lt;em&gt;Polynomial approximations to Delta T, 16
20-2000 AD&lt;/em&gt; (%1).").arg("&lt;a href='http://adsabs.harvard.edu/abs/2000JBA
A..110..323M'&gt;2000&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="delete">(jd, &amp;ma
</span>rker));</td><td> </td><td class="rblock">                       description = q_("This polynome was published by J. 
Meeus and L. Simons in article &lt;em&gt;Polynomial approximations to Delta T, 16
20-2000 AD&lt;/em&gt; (%1).").arg("&lt;a href='http://adsabs.harvard.edu/abs/2000JBA
A..110..323M'&gt;2000&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Descript
ion(jd, &amp;ma</span>rker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MontenbruckPfleger: // uninspired</td><td> </td><td class="right">               case MontenbruckPfleger: // uninspired</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0137" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("The fourth edition of O. Montenbru
ck &amp; T. Pfleger's &lt;em&gt;Astronomy on the Personal Computer&lt;/em&gt; (2000) provid
es simple 3rd-order polynomial data fits for the recent past.").append(getC
urrentDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("The fourth edition of O. Montenbru
ck &amp; T. Pfleger's &lt;em&gt;Astronomy on the Personal Computer&lt;/em&gt; (2000) provid
es simple 3rd-order polynomial data fits for the recent past.").append(getC
urrentDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case ReingoldDershowitz: //</td><td> </td><td class="right">               case ReingoldDershowitz: //</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0138" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("E. M. Reingold &amp; N. Dershowitz pre
sent this polynomial data fit in &lt;em&gt;Calendrical Calculations&lt;/em&gt; (3rd ed.
 2007) and in their &lt;em&gt;Calendrical Tabulations&lt;/em&gt; (2002). It is based on
 Jean Meeus' &lt;em&gt;Astronomical Algorithms&lt;/em&gt; (1991).").append(getCurrentDe
ltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("E. M. Reingold &amp; N. Dershowitz pre
sent this polynomial data fit in &lt;em&gt;Calendrical Calculations&lt;/em&gt; (3rd ed.
 2007) and in their &lt;em&gt;Calendrical Tabulations&lt;/em&gt; (2002). It is based on
 Jean Meeus' &lt;em&gt;Astronomical Algorithms&lt;/em&gt; (1991).").append(getCurrentDe
ltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson2004: // PRIMARY SOURCE</td><td> </td><td class="right">               case MorrisonStephenson2004: // PRIMARY SOURCE</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0139" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This important solution was publis
hed by L. V. Morrison and F. R. Stephenson in article &lt;em&gt;Historical values
 of the Earth's clock error %1T and the calculation of eclipses&lt;/em&gt; (%2) w
ith addendum in (%3).").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harv
ard.edu/abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://adsabs.har
vard.edu/abs/2005JHA....36..339M'&gt;2005&lt;/a&gt;").append(getCurrentDeltaTAlgorit
hmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This important solution was publis
hed by L. V. Morrison and F. R. Stephenson in article &lt;em&gt;Historical values
 of the Earth's clock error %1T and the calculation of eclipses&lt;/em&gt; (%2) w
ith addendum in (%3).").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harv
ard.edu/abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://adsabs.har
vard.edu/abs/2005JHA....36..339M'&gt;2005&lt;/a&gt;").append(getCurrentDeltaTAlgorit
hmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Reijs:</td><td> </td><td class="right">               case Reijs:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0140" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("From the Length of Day (LOD; as de
termined by Stephenson &amp; Morrison (%2)), Victor Reijs derived a %1T formula
 by using a Simplex optimisation with a cosine and square function. This is
 based on a possible periodicy described by Stephenson (%2). See for more i
nfo %3here%4.").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harvard.edu/
abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://www.iol.ie/~geniet
/eng/DeltaTeval.htm'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRa
nge(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("From the Length of Day (LOD; as de
termined by Stephenson &amp; Morrison (%2)), Victor Reijs derived a %1T formula
 by using a Simplex optimisation with a cosine and square function. This is
 based on a possible periodicy described by Stephenson (%2). See for more i
nfo %3here%4.").arg(QChar(0x0394)).arg("&lt;a href='http://adsabs.harvard.edu/
abs/2004JHA....35..327M'&gt;2004&lt;/a&gt;").arg("&lt;a href='http://www.iol.ie/~geniet
/eng/DeltaTeval.htm'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRa
nge<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case EspenakMeeus: // GENERAL SOLUTION</td><td> </td><td class="right">               case EspenakMeeus: // GENERAL SOLUTION</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0141" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This solution by F. Espenak and J.</td><td> </td><td class="rblock">                       description = q_("This solution by F. Espenak and J.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> Meeus, based on Morrison &amp; Stephenson (2004) and a polynomial fit through </td><td> </td><td class="rblock"> Meeus, based on Morrison &amp; Stephenson (2004) and a polynomial fit through </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">tabulated values for 1600-2000, is used for the %1NASA Eclipse Web Site%2 a</td><td> </td><td class="rblock">tabulated values for 1600-2000, is used for the %1NASA Eclipse Web Site%2 a</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">nd in their &lt;em&gt;Five Millennium Canon of Solar Eclipses: -1900 to +3000&lt;/em</td><td> </td><td class="rblock">nd in their &lt;em&gt;Five Millennium Canon of Solar Eclipses: -1900 to +3000&lt;/em</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">&gt; (2006). This formula is also used in the solar, lunar and planetary ephem</td><td> </td><td class="rblock">&gt; (2006). This formula is also used in the solar, lunar and planetary ephem</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">eris program SOLEX.").arg("&lt;a href='http://eclipse.gsfc.nasa.gov/eclipse.ht</td><td> </td><td class="rblock">eris program SOLEX.").arg("&lt;a href='http://eclipse.gsfc.nasa.gov/eclipse.ht</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ml'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange(jd, &amp;marker))</span></td><td> </td><td class="rblock"><span class="insert">ml'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRangeDescription(jd</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">.append("</span> &lt;em&gt;").append(q_("Used by default.")).append("&lt;/em&gt;");</td><td> </td><td class="rblock"><span class="insert">, &amp;marker)).append("</span> &lt;em&gt;").append(q_("Used by default.")).append("&lt;/em&gt;");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case EspenakMeeusZeroMoonAccel: // PATCHED SOLUTION</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       description = QString("%1 %2").arg(q_("PATCHED VERSI</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ON WITHOUT ADDITIONAL LUNAR ACCELERATION.")).arg(q_("This solution by F. Es</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">penak and J. Meeus, based on Morrison &amp; Stephenson (2004) and a polynomial </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">fit through tabulated values for 1600-2000, is used for the %1NASA Eclipse </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Web Site%2 and in their &lt;em&gt;Five Millennium Canon of Solar Eclipses: -1900 </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">to +3000&lt;/em&gt; (2006). This formula is also used in the solar, lunar and pla</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">netary ephemeris program SOLEX.").arg("&lt;a href='http://eclipse.gsfc.nasa.go</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">v/eclipse.html'&gt;").arg("&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRangeDe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">scription(jd, &amp;marker)).append(" &lt;em&gt;").append("&lt;/em&gt;"));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Banjevic:</td><td> </td><td class="right">               case Banjevic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0142" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This solution by B. Banjevic, base
d on Stephenson &amp; Morrison (1984), was published in article &lt;em&gt;Ancient ecl
ipses and dating the fall of Babylon&lt;/em&gt; (%1).").arg("&lt;a href='http://adsa
bs.harvard.edu/abs/2006POBeo..80..251B'&gt;2006&lt;/a&gt;").append(getCurrentDeltaTA
lgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This solution by B. Banjevic, base
d on Stephenson &amp; Morrison (1984), was published in article &lt;em&gt;Ancient ecl
ipses and dating the fall of Babylon&lt;/em&gt; (%1).").arg("&lt;a href='http://adsa
bs.harvard.edu/abs/2006POBeo..80..251B'&gt;2006&lt;/a&gt;").append(getCurrentDeltaTA
lgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IslamSadiqQureshi:</td><td> </td><td class="right">               case IslamSadiqQureshi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0143" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This solution by S. Islam, M. Sadi
q and M. S. Qureshi, based on Meeus &amp; Simons (2000), was published in artic
le &lt;em&gt;Error Minimization of Polynomial Approximation of DeltaT&lt;/em&gt; (%1) a
nd revisited by Sana Islam in 2013.").arg("&lt;a href='http://www.ias.ac.in/ja
a/dec2008/JAA610.pdf'&gt;2008&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange
(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This solution by S. Islam, M. Sadi
q and M. S. Qureshi, based on Meeus &amp; Simons (2000), was published in artic
le &lt;em&gt;Error Minimization of Polynomial Approximation of DeltaT&lt;/em&gt; (%1) a
nd revisited by Sana Islam in 2013.").arg("&lt;a href='http://www.ias.ac.in/ja
a/dec2008/JAA610.pdf'&gt;2008&lt;/a&gt;").append(getCurrentDeltaTAlgorithmValidRange
<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case KhalidSultanaZaidi:</td><td> </td><td class="right">               case KhalidSultanaZaidi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0144" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       description = q_("This polynomial approximation with
 0.6 seconds of accuracy by M. Khalid, Mariam Sultana and Faheem Zaidi was 
published in &lt;em&gt;Delta T: Polynomial Approximation of Time Period 1620-2013
&lt;/em&gt; (%1).").arg("&lt;a href='http://dx.doi.org/10.1155/2014/480964'&gt;2014&lt;/a&gt;
").append(getCurrentDeltaTAlgorithmValidRange(jd, &amp;marker));</td><td> </td><td class="rblock">                       description = q_("This polynomial approximation with
 0.6 seconds of accuracy by M. Khalid, Mariam Sultana and Faheem Zaidi was 
published in &lt;em&gt;Delta T: Polynomial Approximation of Time Period 1620-2013
&lt;/em&gt; (%1).").arg("&lt;a href='http://dx.doi.org/10.1155/2014/480964'&gt;2014&lt;/a&gt;
").append(getCurrentDeltaTAlgorithmValidRange<span class="insert">Description</span>(jd, &amp;marker));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Custom:</td><td> </td><td class="right">               case Custom:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("This is a quadratic formula for ca
lculation of %1T with coefficients defined by the user.").arg(QChar(0x0394)
);</td><td> </td><td class="right">                       description = q_("This is a quadratic formula for ca
lculation of %1T with coefficients defined by the user.").arg(QChar(0x0394)
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               default:</td><td> </td><td class="right">               default:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       description = q_("Error");</td><td> </td><td class="right">                       description = q_("Error");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return description;</td><td> </td><td class="right">       return description;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0145" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">QString StelCore::getCurrentDeltaTAlgorithmValidRange<span class="delete">(double jDay, QString 
</span>*marker) const</td><td> </td><td class="rblock">QString StelCore::getCurrentDeltaTAlgorithmValidRange<span class="insert">Description(const doub
le JD, QString </span>*marker) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString validRange = "";</td><td> </td><td class="right">       QString validRange = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString validRangeAppendix = "";</td><td> </td><td class="right">       QString validRangeAppendix = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       *marker = "";</td><td> </td><td class="right">       *marker = "";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int year, month, day;</td><td> </td><td class="right">       int year, month, day;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int start = 0;</td><td> </td><td class="right">       int start = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int finish = 0;</td><td> </td><td class="right">       int finish = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0146" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelUtils::getDateFromJulianDay(<span class="delete">jDay</span>, &amp;year, &amp;month, &amp;day);</td><td> </td><td class="rblock">       StelUtils::getDateFromJulianDay(<span class="insert">JD</span>, &amp;year, &amp;month, &amp;day);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       switch (getCurrentDeltaTAlgorithm())</td><td> </td><td class="right">       switch (getCurrentDeltaTAlgorithm())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case WithoutCorrection:</td><td> </td><td class="right">               case WithoutCorrection:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // say nothing</td><td> </td><td class="right">                       // say nothing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Schoch:</td><td> </td><td class="right">               case Schoch:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Valid range unknown</td><td> </td><td class="right">                       // Valid range unknown</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Clemence:</td><td> </td><td class="right">               case Clemence:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       start   = 1681;</td><td> </td><td class="right">                       start   = 1681;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l15" /><small>skipping to change at</small><em> line 1737</em></th><th> </th><th><a name="part-r15" /><small>skipping to change at</small><em> line 1868</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case MorrisonStephenson2004:</td><td> </td><td class="right">               case MorrisonStephenson2004:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       start   = -1000;</td><td> </td><td class="right">                       start   = -1000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       finish  = 2000;</td><td> </td><td class="right">                       finish  = 2000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Reijs:</td><td> </td><td class="right">               case Reijs:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       start   = -1500; // -500; // GZ: It models long-term
 variability, so we should reflect this. Not sure on the begin, though.</td><td> </td><td class="right">                       start   = -1500; // -500; // GZ: It models long-term
 variability, so we should reflect this. Not sure on the begin, though.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       finish  = 1100; // not 1620; // GZ: Not applicable f
or telescopic era, and better not after 1100 (pers.comm.)</td><td> </td><td class="right">                       finish  = 1100; // not 1620; // GZ: Not applicable f
or telescopic era, and better not after 1100 (pers.comm.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case EspenakMeeus: // the default, range stated in the Canon
, p. 14.</td><td> </td><td class="right">               case EspenakMeeus: // the default, range stated in the Canon
, p. 14.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0147" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               case EspenakMeeusZeroMoonAccel:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       start   = -1999;</td><td> </td><td class="right">                       start   = -1999;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       finish  = 3000;</td><td> </td><td class="right">                       finish  = 3000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case Banjevic:</td><td> </td><td class="right">               case Banjevic:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       start   = -2020;</td><td> </td><td class="right">                       start   = -2020;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       finish  = 1620;</td><td> </td><td class="right">                       finish  = 1620;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       validRangeAppendix = q_("with zero values outside th
is range");</td><td> </td><td class="right">                       validRangeAppendix = q_("with zero values outside th
is range");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case IslamSadiqQureshi:</td><td> </td><td class="right">               case IslamSadiqQureshi:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       start   = 1620;</td><td> </td><td class="right">                       start   = 1620;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l16" /><small>skipping to change at</small><em> line 1766</em></th><th> </th><th><a name="part-r16" /><small>skipping to change at</small><em> line 1898</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Valid range unknown</td><td> </td><td class="right">                       // Valid range unknown</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (start!=finish)</td><td> </td><td class="right">       if (start!=finish)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (validRangeAppendix!="")</td><td> </td><td class="right">               if (validRangeAppendix!="")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       validRange = q_("Valid range of usage: between years
 %1 and %2, %3.").arg(start).arg(finish).arg(validRangeAppendix);</td><td> </td><td class="right">                       validRange = q_("Valid range of usage: between years
 %1 and %2, %3.").arg(start).arg(finish).arg(validRangeAppendix);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       validRange = q_("Valid range of usage: between years
 %1 and %2.").arg(start).arg(finish);</td><td> </td><td class="right">                       validRange = q_("Valid range of usage: between years
 %1 and %2.").arg(start).arg(finish);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0148" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               if (<span class="delete">start &gt; year || year &gt; finish</span>)</td><td> </td><td class="rblock">               if (<span class="insert">(year &lt; start) || (finish &lt; year)</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       *marker = "*";</td><td> </td><td class="right">                       *marker = "*";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               *marker = "?";</td><td> </td><td class="right">               *marker = "?";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return QString(" %1").arg(validRange);</td><td> </td><td class="right">       return QString(" %1").arg(validRange);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0149" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">bool <span class="delete">StelCore::isDay()</span> const</td><td> </td><td class="rblock"><span class="insert">// return if sky plus atmosphere is bright enough from sunlight so that e.g</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">. screen labels should be rendered dark.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">bool <span class="insert">StelCore::isBrightDaylight()</span> const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0150" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Vec3d&amp; sunPos = <span class="delete">GETSTELMODULE(SolarSystem)-&gt;getSun()-&gt;getAltAz</span></td><td> </td><td class="rblock">       <span class="insert">bool r = false;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">PosGeometric(this);</span></td><td> </td><td class="rblock"><span class="insert">       SolarSystem* ssys = GETSTELMODULE(SolarSystem);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       return sunPos[2]</span> &gt; <span class="delete">-0.12;</span> // Nautical twilight</td><td> </td><td class="rblock">       const Vec3d&amp; sunPos = <span class="insert">ssys-&gt;getSun()-&gt;getAltAzPosGeometric(this);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (sunPos[2]</span> &gt; <span class="insert">-0.10452846326)</span> // Nautical twilight <span class="insert">(sin (6 deg))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               r = true;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (ssys-&gt;getEclipseFactor(this)&lt;=0.01) // Total solar eclipse</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               r = false;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return r;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double StelCore::getCurrentEpoch() const</td><td> </td><td class="right">double StelCore::getCurrentEpoch() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0151" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">int year, month, day;</span></td><td> </td><td class="rblock">       return <span class="insert">2000.0</span> + <span class="insert">(getJD() - 2451545.0)/365.25;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       StelUtils::getDateFromJulianDay(getJDay(), &amp;year, &amp;month, &amp;day);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QDate date = QDate::fromString(QString("%1.%2.%3").arg(year, 4, 10, </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">QLatin1Char('0')).arg(month).arg(day), "yyyy.M.d");</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       return <span class="delete">double(year)</span> + <span class="delete">double(date.dayOfYear())/double(date.daysInYea</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">r());</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 151 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>224 lines changed or deleted</i></th><th><i> </i></th><th><i>402 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
