<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: codingConventions.doxygen - codingConventions.doxygen</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;codingConventions.doxygen&nbsp;</th><th> </th><th>&nbsp;codingConventions.doxygen&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 23</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 23</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * GNU General Public License for more details.</td><td> </td><td class="right"> * GNU General Public License for more details.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * You should have received a copy of the GNU General Public License</td><td> </td><td class="right"> * You should have received a copy of the GNU General Public License</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * along with this program; if not, write to the Free Software</td><td> </td><td class="right"> * along with this program; if not, write to the Free Software</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td> </td><td class="right"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> */</td><td> </td><td class="right"> */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/*!</td><td> </td><td class="right">/*!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@page codingStyle Coding Style Conventions in Stellarium</td><td> </td><td class="right">@page codingStyle Coding Style Conventions in Stellarium</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                           </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@tableofcontents</td><td> </td><td class="right">@tableofcontents</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                                           </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">The increasing number of contributors require that we clearly define coding
 rules and guidelines. Although for historical reasons the current code of 
Stellarium does not always comply to these rules, they should now be respec
ted for any addition or modification of the code.</td><td> </td><td class="right">The increasing number of contributors require that we clearly define coding
 rules and guidelines. Although for historical reasons the current code of 
Stellarium does not always comply to these rules, they should now be respec
ted for any addition or modification of the code.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@section stylistic_conventions_sec Stylistic Conventions</td><td> </td><td class="right">@section stylistic_conventions_sec Stylistic Conventions</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">&lt;ul&gt;</td><td> </td><td class="right">&lt;ul&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> &lt;li&gt;Source code should use ASCII character set. Characters such as '&amp;egrav
e;' or '&amp;ouml;' are not portable when hard-coded. Gettext translated string
s should be used for such characters.</td><td> </td><td class="right"> &lt;li&gt;Source code should use ASCII character set. Characters such as '&amp;egrav
e;' or '&amp;ouml;' are not portable when hard-coded. Gettext translated string
s should be used for such characters.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> &lt;li&gt;Variable names and comments should be in English.</td><td> </td><td class="right"> &lt;li&gt;Variable names and comments should be in English.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> &lt;li&gt;Class names are nouns, in mixed-case, with an initial upper-case</td><td> </td><td class="right"> &lt;li&gt;Class names are nouns, in mixed-case, with an initial upper-case</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">letter and the first letter of each subsequent word capitalized (e.g. CoreF
actory).</td><td> </td><td class="right">letter and the first letter of each subsequent word capitalized (e.g. CoreF
actory).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> &lt;li&gt;Method names are verbs or nouns in mixed-case, starting with a lower-c
ase letter (e.g. update() or addElement()).</td><td> </td><td class="right"> &lt;li&gt;Method names are verbs or nouns in mixed-case, starting with a lower-c
ase letter (e.g. update() or addElement()).</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> &lt;li&gt;Methods that return a value should take the form getSize().</td><td> </td><td class="right"> &lt;li&gt;Methods that return a value should take the form getSize().</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 146</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 144</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> @endcode</td><td> </td><td class="right"> @endcode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> &lt;li&gt;Use stdc++ math functions instead of C ones. There are more portable a
nd are also overrided for float, thus may be faster.</td><td> </td><td class="right"> &lt;li&gt;Use stdc++ math functions instead of C ones. There are more portable a
nd are also overrided for float, thus may be faster.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> @code</td><td> </td><td class="right"> @code</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double cosLat = cos(lat);     // Bad</td><td> </td><td class="right">double cosLat = cos(lat);     // Bad</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double cosLat = std::cos(lat); // Good</td><td> </td><td class="right">double cosLat = std::cos(lat); // Good</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> @endcode</td><td> </td><td class="right"> @endcode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">&lt;/ul&gt;</td><td> </td><td class="right">&lt;/ul&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@section translation_sec Translatable Strings and Console Output</td><td> </td><td class="right">@section translation_sec Translatable Strings and Console Output</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Translatable strings are translated using the StelTranslator class, which i</td><td> </td><td class="rblock">Translatable strings are translated using the StelTranslator class, which i</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">s a C++ wrapper around gettext. <span class="delete">The strings should</span> be marked <span class="delete">using</span> the <span class="delete">&lt;tt&gt;</span></td><td> </td><td class="rblock">s a C++ wrapper around gettext. <span class="insert">A string literal can</span> be marked <span class="insert">for translat</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">q_()&lt;/tt&gt; macro: it</span> takes a <span class="delete">QString</span> in English and returns the <span class="delete">translation</span> </td><td> </td><td class="rblock"><span class="insert">ion in with two different macros, &lt;tt&gt;q_()&lt;/tt&gt; and &lt;tt&gt;N_()&lt;/tt&gt;, and you </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">as a QString using the current global language. <span class="delete">Note that you can</span> also call</td><td> </td><td class="rblock"><span class="insert">need to pick one for</span> the <span class="insert">appropriate purpose:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> <span class="delete">q_()</span> with a QString <span class="delete">object</span> to return a translation. <span class="delete">In cases when</span> a string</td><td> </td><td class="rblock"><span class="insert"> - The &lt;tt&gt;q_()&lt;/tt&gt; macro</span> takes a <span class="insert">string</span> in English and returns the <span class="insert">transl</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> literal needs to be marked for translation without <span class="delete">returning</span> a <span class="delete">string,</span> use</td><td> </td><td class="rblock"><span class="insert">ation</span> as a QString using the current global language. <span class="insert">This</span> also <span class="insert">allows</span> call</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> the <span class="delete">N_()</span> macro.</td><td> </td><td class="rblock"><span class="insert">ing &lt;tt&gt;q_()&lt;/tt&gt;</span> with a QString <span class="insert">parameter</span> to return a translation.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"> <span class="insert">- When</span> a string literal needs to be marked for translation without <span class="insert">returni</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;ul&gt;</span></td><td> </td><td class="rblock"><span class="insert">ng</span> a <span class="insert">translation,</span> use the <span class="insert">&lt;tt&gt;N_()&lt;/tt&gt;</span> macro. <span class="insert">It returns the original stri</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;Translatable</span> text in sources or data files should be written in <span class="delete">English</span></td><td> </td><td class="rblock"><span class="insert">ng.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">,</span> encoded in ASCII or UTF-8 if needed.</td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;Do</span> not concatenate strings, use &lt;tt&gt;QString::arg()&lt;/tt&gt; instead. <span class="delete">Concat</span></td><td> </td><td class="rblock"><span class="insert">Several guidelines:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">enated</span> strings are very hard (or even impossible) to translate.</td><td> </td><td class="rblock"><span class="insert"> - Translatable</span> text in sources or data files should be written in <span class="insert">English,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">@code</span></td><td> </td><td class="rblock"> encoded in ASCII or UTF-8 if needed.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> text &lt;&lt; q_("Distance: ") &lt;&lt; distance &lt;&lt; q_("AU");   // Bad</span></td><td> </td><td class="rblock"> <span class="insert">- Translatable strings should be modified only if really necessary. Any mo</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> text = q_("Distance: %1AU").arg(distance);          // Good</span></td><td> </td><td class="rblock"><span class="insert">dification to one of them means that all the translators for all the langag</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">@endcode</span></td><td> </td><td class="rblock"><span class="insert">es will have to re-translate the new string.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;When using %Qt format strings, if a letter follows a digit immediately,</span></td><td> </td><td class="rblock"><span class="insert"> This also means that new strings should be chosen carefully, to avoid the </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> xgettext might erroneously mark the extracted string as a C format string.</span></td><td> </td><td class="rblock"><span class="insert">need to modify them later.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> ''Depending on the actual translation, this might cause errors when upload</span></td><td> </td><td class="rblock"><span class="insert"> - Do</span> not concatenate strings, use &lt;tt&gt;QString::arg()&lt;/tt&gt; instead. <span class="insert">Concate</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ing the message catalog to Rosetta, or when compiling it to binary format.'</span></td><td> </td><td class="rblock"><span class="insert">nated</span> strings are very hard (or even impossible) to translate.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">' To prevent this, add an &lt;tt&gt;xgettext:no-c-format&lt;/tt&gt; comment to the line</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> preceding the format string:</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@code</td><td> </td><td class="right">@code</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">// <span class="delete">xgettext:no-c-format</span></td><td> </td><td class="rblock"><span class="insert">text &lt;&lt; q_("Distance: ") &lt;&lt; distance &lt;&lt; q_("AU");</span>   // <span class="insert">Bad</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">text = q_("Distance: %1AU").arg(distance);</td><td> </td><td class="rblock">text = q_("Distance: %1AU").arg(distance);          <span class="insert">// Good</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@endcode</td><td> </td><td class="right">@endcode</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"> <span class="insert">- Translatable</span> text should obey English typographic conventions. For <span class="insert">examp</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;Translatable</span> text should obey English typographic conventions. For <span class="delete">exam</span></td><td> </td><td class="rblock"><span class="insert">le,</span> there should be no space before the colon:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ple,</span> there should be no space before the colon:</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@code</td><td> </td><td class="right">@code</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString myTranslatedText(q_("Distance of the planet :")); // Bad</td><td> </td><td class="right">QString myTranslatedText(q_("Distance of the planet :")); // Bad</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString myTranslatedText(q_("Distance of the planet:"));  // Good</td><td> </td><td class="right">QString myTranslatedText(q_("Distance of the planet:"));  // Good</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@endcode</td><td> </td><td class="right">@endcode</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"> <span class="insert">- In general no translated text should be output on the console because th</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ere are problems when string and wstring are output on the same console. Th</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">is means that you should never use wcout, wcerr or wprintf(). Console outpu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">t should be used for informations, errors and warnings which are not requir</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ed by the user in nominal use.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> - Errors and warnings should be output in the stderr file, not stdout. [OB</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">SOLETE? We use qDebug() and qWarning() now.]</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">@code</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">std::cout &lt;&lt; "Error while opening file " &lt;&lt; qPrintable(myFileName) &lt;&lt; "." &lt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">&lt; std::endl; // Bad</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">std::cerr &lt;&lt; "Error while opening file " &lt;&lt; qPrintable(myFileName) &lt;&lt; "." &lt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">&lt; std::endl; // Good</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">@endcode</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;You</span> can add clarifying <span class="delete">comments</span> for the <span class="delete">translators.</span> They will be <span class="delete">autom</span></td><td> </td><td class="rblock"><span class="insert">Further technical notes and tips:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">atically extracted</span> and visible in the .po files and in the web interface:</td><td> </td><td class="rblock"><span class="insert"> - @b Important: When using %Qt format strings, if a letter follows a digit</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">\code</span></td><td> </td><td class="rblock"><span class="insert"> immediately, xgettext might erroneously mark the extracted string as a C f</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ormat string. &lt;em&gt;Depending on the actual translation, this might cause err</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ors when uploading the message catalog to Rosetta, or when compiling it to </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">binary format.&lt;/em&gt; To prevent this, add an &lt;tt&gt;xgettext:no-c-format&lt;/tt&gt; c</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">omment to the line preceding the format string:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">@code</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">// xgettext:no-c-format</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">text = q_("Distance: %1AU").arg(distance);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">@endcode</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> - You</span> can add clarifying <span class="insert">remarks</span> for the <span class="insert">translators by adding a special c</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">omment before the line marking the string.</span> They will be <span class="insert">automatically extra</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">cted</span> and visible in the .po files and in the web interface:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">@code</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// TRANSLATORS: Message displayed when an error occurs.</td><td> </td><td class="right">// TRANSLATORS: Message displayed when an error occurs.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString errorMessage(q_("Loading failed."));</td><td> </td><td class="right">QString errorMessage(q_("Loading failed."));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">\endcode</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;Strings in %Qt .ui files (used for GUI windows) are marked for translat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ion, unless the "translate" flag is unchecked. Note that these strings are </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">actually extracted from the files generated by the .ui file compiler (uic),</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> and not from the .ui files themselves, so translation comments in the .ui </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">files will be ignored.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;Translatable strings should be modified only if really necessary. Any m</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">odification to one of them means that all the translators for all the langa</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ges will have to re-translate the new string.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;In general no translated text should be output on the console because t</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">here are problems when string and wstring are output on the same console. T</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">his means that you should never use wcout, wcerr or wprintf(). Console outp</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ut should be used for informations, errors and warnings which are not requi</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">red by the user in nominal use.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;li&gt;Errors and warnings should be output in the stderr file, not stdout.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">@code</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> std::cout &lt;&lt; "Error while opening file " &lt;&lt; qPrintable(myFileName) &lt;&lt; "." </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;&lt; std::endl; // Bad</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> std::cerr &lt;&lt; "Error while opening file " &lt;&lt; qPrintable(myFileName) &lt;&lt; "." </span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">&lt;&lt; std::endl; // Good</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">@endcode</td><td> </td><td class="right">@endcode</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"> <span class="insert">- User-visible strings in %Qt &lt;tt&gt;.ui&lt;/tt&gt; files (used for GUI windows) ar</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">e marked for translation, unless the "translate" flag is unchecked. Note th</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">at these strings are actually extracted from the files generated by the .ui</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> file compiler (uic) during compilation, and not from the .ui files themsel</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ves, so translation comments in the .ui files will be ignored.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> - When creating a &lt;tt&gt;.ui&lt;/tt&gt; file with a new QWidget, %Qt Designer/Qt Cr</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">eator sets the widget's @c windowTitle property to "Form", which then appea</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rs in translation templates and puzzles translators. It needs to be manuall</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">y reset to an empty string.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> - Stellarium also supports &lt;a href='http://www.gnu.org/software/gettext/ma</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">nual/gettext.html#Contexts'&gt;gettext contexts&lt;/a&gt; for the cases when identic</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">al English strings are used in different places with different meanings and</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> therefore need to have different translations. Contexts are short strings </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">used to indicate the difference both to the program and the people making t</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">he translations.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   - In &lt;tt&gt;.ui&lt;/tt&gt; files, for every property that holds a user-visible st</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ring, there's a "disambiguation" sub-property that can be used to indicate </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">the context. It will be extracted together with the message (see above).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">   - The &lt;tt&gt;qc_()&lt;/tt&gt; macro can be used in the cases when context needs t</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">o be handled in the code itself. It is analogous to the &lt;tt&gt;q_()&lt;/tt&gt; macro</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">, but with two parameters - the second parameter is the context string.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">*/</td><td> </td><td class="right">*/</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 9 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>56 lines changed or deleted</i></th><th><i> </i></th><th><i>74 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
