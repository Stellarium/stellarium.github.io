<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: SatellitesDialog.cpp - SatellitesDialog.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;SatellitesDialog.cpp&nbsp;</th><th> </th><th>&nbsp;SatellitesDialog.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 22</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 22</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td> </td><td class="right"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td> </td><td class="right"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * GNU General Public License for more details.</td><td> </td><td class="right"> * GNU General Public License for more details.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * You should have received a copy of the GNU General Public License</td><td> </td><td class="right"> * You should have received a copy of the GNU General Public License</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * along with this program; if not, write to the Free Software</td><td> </td><td class="right"> * along with this program; if not, write to the Free Software</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Foundation, Inc., 51 Franklin Street, Suite 500, Boston, MA  02110-1335,
 USA.</td><td> </td><td class="right"> * Foundation, Inc., 51 Franklin Street, Suite 500, Boston, MA  02110-1335,
 USA.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">*/</td><td> </td><td class="right">*/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDebug&gt;</td><td> </td><td class="right">#include &lt;QDebug&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">#include &lt;QTimer&gt;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDateTime&gt;</td><td> </td><td class="right">#include &lt;QDateTime&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">#include &lt;QUrl&gt;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QFileDialog&gt;</td><td> </td><td class="right">#include &lt;QFileDialog&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include &lt;QSortFilterProxyModel&gt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include &lt;QStandardItemModel&gt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include &lt;QTimer&gt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include &lt;QUrl&gt;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelApp.hpp"</td><td> </td><td class="right">#include "StelApp.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "ui_satellitesDialog.h"</td><td> </td><td class="right">#include "ui_satellitesDialog.h"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "SatellitesDialog.hpp"</td><td> </td><td class="right">#include "SatellitesDialog.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "SatellitesImportDialog.hpp"</td><td> </td><td class="right">#include "SatellitesImportDialog.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "Satellites.hpp"</td><td> </td><td class="right">#include "Satellites.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelModuleMgr.hpp"</td><td> </td><td class="right">#include "StelModuleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelObjectMgr.hpp"</td><td> </td><td class="right">#include "StelObjectMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelMovementMgr.hpp"</td><td> </td><td class="right">#include "StelMovementMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelStyle.hpp"</td><td> </td><td class="right">#include "StelStyle.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelGui.hpp"</td><td> </td><td class="right">#include "StelGui.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelMainGraphicsView.hpp"</td><td> </td><td class="right">#include "StelMainGraphicsView.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelFileMgr.hpp"</td><td> </td><td class="right">#include "StelFileMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTranslator.hpp"</td><td> </td><td class="right">#include "StelTranslator.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">SatellitesDialog::SatellitesDialog() : <span class="delete">updateTimer(NULL), importWindow(0)</span></td><td> </td><td class="rblock">SatellitesDialog::SatellitesDialog() :</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">    <span class="insert">updateTimer(0),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    importWindow(0),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    satellitesModel(0),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    filterProxyModel(0)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ui = new Ui_satellitesDialog;</td><td> </td><td class="right">       ui = new Ui_satellitesDialog;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">satellitesModel = new QStandardItemModel(this);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SatellitesDialog::~SatellitesDialog()</td><td> </td><td class="right">SatellitesDialog::~SatellitesDialog()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (updateTimer)</td><td> </td><td class="right">       if (updateTimer)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               updateTimer-&gt;stop();</td><td> </td><td class="right">               updateTimer-&gt;stop();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete updateTimer;</td><td> </td><td class="right">               delete updateTimer;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               updateTimer = NULL;</td><td> </td><td class="right">               updateTimer = NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 121</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 129</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ui-&gt;orbitSegmentsSpin-&gt;setValue(Satellite::orbitLineSegments);</td><td> </td><td class="right">       ui-&gt;orbitSegmentsSpin-&gt;setValue(Satellite::orbitLineSegments);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ui-&gt;orbitFadeSpin-&gt;setValue(Satellite::orbitLineFadeSegments);</td><td> </td><td class="right">       ui-&gt;orbitFadeSpin-&gt;setValue(Satellite::orbitLineFadeSegments);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ui-&gt;orbitDurationSpin-&gt;setValue(Satellite::orbitLineSegmentDuration)
;</td><td> </td><td class="right">       ui-&gt;orbitDurationSpin-&gt;setValue(Satellite::orbitLineSegmentDuration)
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;orbitLinesGroup, SIGNAL(toggled(bool)), GETSTELMODULE(Sa
tellites), SLOT(setOrbitLinesFlag(bool)));</td><td> </td><td class="right">       connect(ui-&gt;orbitLinesGroup, SIGNAL(toggled(bool)), GETSTELMODULE(Sa
tellites), SLOT(setOrbitLinesFlag(bool)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;orbitSegmentsSpin, SIGNAL(valueChanged(int)), this, SLOT
(setOrbitParams()));</td><td> </td><td class="right">       connect(ui-&gt;orbitSegmentsSpin, SIGNAL(valueChanged(int)), this, SLOT
(setOrbitParams()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;orbitFadeSpin, SIGNAL(valueChanged(int)), this, SLOT(set
OrbitParams()));</td><td> </td><td class="right">       connect(ui-&gt;orbitFadeSpin, SIGNAL(valueChanged(int)), this, SLOT(set
OrbitParams()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;orbitDurationSpin, SIGNAL(valueChanged(int)), this, SLOT
(setOrbitParams()));</td><td> </td><td class="right">       connect(ui-&gt;orbitDurationSpin, SIGNAL(valueChanged(int)), this, SLOT
(setOrbitParams()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Satellites tab</td><td> </td><td class="right">       // Satellites tab</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">connect(ui-&gt;satellitesList,</span></td><td> </td><td class="rblock">       <span class="insert">filterProxyModel = new QSortFilterProxyModel(this);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               SIGNAL(currentItemChanged(QListWidgetItem*,QListWidgetItem*)</span></td><td> </td><td class="rblock"><span class="insert">       filterProxyModel-&gt;setSourceModel(satellitesModel);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">),</span></td><td> </td><td class="rblock"><span class="insert">       filterProxyModel-&gt;setFilterCaseSensitivity(Qt::CaseInsensitive);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               this,</td><td> </td><td class="rblock"><span class="insert">       ui-&gt;satellitesList-&gt;setModel(filterProxyModel);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">SLOT(updateSelectedSatelliteInfo(QListWidgetItem*,QListWidge</span></td><td> </td><td class="rblock"><span class="insert">       connect(ui-&gt;lineEditSearch, SIGNAL(textEdited(QString)),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tItem*)));</span></td><td> </td><td class="rblock"><span class="insert">               filterProxyModel, SLOT(setFilterWildcard(QString)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       connect(ui-&gt;satellitesList, <span class="delete">SIGNAL(itemDoubleClicked(QListWidgetItem</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">*)),</span> this, <span class="delete">SLOT(satelliteDoubleClick(QListWidgetItem*)));</span></td><td> </td><td class="rblock"><span class="insert">       QItemSelectionModel* selectionModel = ui-&gt;satellitesList-&gt;selectionM</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">odel();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(selectionModel, SIGNAL(currentRowChanged(QModelIndex,QModelI</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ndex)),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               this, <span class="insert">SLOT(updateSelectedInfo(QModelIndex,QModelIndex)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       connect(ui-&gt;satellitesList, <span class="insert">SIGNAL(doubleClicked(QModelIndex)),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               this, <span class="insert">SLOT(handleDoubleClick(QModelIndex)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;groupsCombo, SIGNAL(currentIndexChanged(int)), this, SLO
T(listSatelliteGroup(int)));</td><td> </td><td class="right">       connect(ui-&gt;groupsCombo, SIGNAL(currentIndexChanged(int)), this, SLO
T(listSatelliteGroup(int)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;saveSatellitesButton, SIGNAL(clicked()), this, SLOT(save
Satellites()));</td><td> </td><td class="right">       connect(ui-&gt;saveSatellitesButton, SIGNAL(clicked()), this, SLOT(save
Satellites()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;removeSatellitesButton, SIGNAL(clicked()), this, SLOT(re
moveSatellites()));</td><td> </td><td class="right">       connect(ui-&gt;removeSatellitesButton, SIGNAL(clicked()), this, SLOT(re
moveSatellites()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connectSatelliteGuiForm();</td><td> </td><td class="right">       connectSatelliteGuiForm();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       importWindow = new SatellitesImportDialog();</td><td> </td><td class="right">       importWindow = new SatellitesImportDialog();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ui-&gt;addSatellitesButton, SIGNAL(clicked()),</td><td> </td><td class="right">       connect(ui-&gt;addSatellitesButton, SIGNAL(clicked()),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               importWindow, SLOT(setVisible()));</td><td> </td><td class="right">               importWindow, SLOT(setVisible()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(importWindow, SIGNAL(satellitesAccepted(TleDataList)),</td><td> </td><td class="right">       connect(importWindow, SIGNAL(satellitesAccepted(TleDataList)),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               this, SLOT(addSatellites(TleDataList)));</td><td> </td><td class="right">               this, SLOT(addSatellites(TleDataList)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 152</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 167</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // About tab</td><td> </td><td class="right">       // About tab</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setAboutHtml();</td><td> </td><td class="right">       setAboutHtml();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateGuiFromSettings();</td><td> </td><td class="right">       updateGuiFromSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SatellitesDialog::listSatelliteGroup(int index)</td><td> </td><td class="right">void SatellitesDialog::listSatelliteGroup(int index)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">QItemSelectionModel* selectionModel = ui-&gt;satellitesList-&gt;selectionM</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">odel();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QModelIndexList selectedIndexes = selectionModel-&gt;selectedRows();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantList prevMultiSelection;</td><td> </td><td class="right">       QVariantList prevMultiSelection;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       foreach (<span class="delete">QListWidgetItem* i, ui-&gt;satellitesList-&gt;selectedItems()</span>)</td><td> </td><td class="rblock">       foreach (<span class="insert">const QModelIndex&amp; index, selectedIndexes</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               prevMultiSelection &lt;&lt; i<span class="delete">-&gt;</span>data(Qt::UserRole);</td><td> </td><td class="rblock">               prevMultiSelection &lt;&lt; i<span class="insert">ndex.</span>data(Qt::UserRole);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">ui-&gt;satellitesList-&gt;clear();</span></td><td> </td><td class="rblock">       <span class="insert">satellitesModel-&gt;clear();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QHash&lt;QString,QString&gt; satellites;</td><td> </td><td class="right">       QHash&lt;QString,QString&gt; satellites;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Satellites* plugin = GETSTELMODULE(Satellites);</td><td> </td><td class="right">       Satellites* plugin = GETSTELMODULE(Satellites);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString selectedGroup = ui-&gt;groupsCombo-&gt;itemData(index).toString();</td><td> </td><td class="right">       QString selectedGroup = ui-&gt;groupsCombo-&gt;itemData(index).toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (selectedGroup == "all")</td><td> </td><td class="right">       if (selectedGroup == "all")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satellites = plugin-&gt;getSatellites();</td><td> </td><td class="right">               satellites = plugin-&gt;getSatellites();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else if (selectedGroup == "visible")</td><td> </td><td class="right">       else if (selectedGroup == "visible")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satellites = plugin-&gt;getSatellites(QString(), Satellites::Vi
sible);</td><td> </td><td class="right">               satellites = plugin-&gt;getSatellites(QString(), Satellites::Vi
sible);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else if (selectedGroup == "notvisible")</td><td> </td><td class="right">       else if (selectedGroup == "notvisible")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satellites = plugin-&gt;getSatellites(QString(), Satellites::No
tVisible);</td><td> </td><td class="right">               satellites = plugin-&gt;getSatellites(QString(), Satellites::No
tVisible);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else if (selectedGroup == "newlyadded")</td><td> </td><td class="right">       else if (selectedGroup == "newlyadded")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satellites = plugin-&gt;getSatellites(QString(), Satellites::Ne
wlyAdded);</td><td> </td><td class="right">               satellites = plugin-&gt;getSatellites(QString(), Satellites::Ne
wlyAdded);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else if (selectedGroup == "orbiterror")</td><td> </td><td class="right">       else if (selectedGroup == "orbiterror")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satellites = plugin-&gt;getSatellites(QString(), Satellites::Or
bitError);</td><td> </td><td class="right">               satellites = plugin-&gt;getSatellites(QString(), Satellites::Or
bitError);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satellites = plugin-&gt;getSatellites(ui-&gt;groupsCombo-&gt;currentT
ext());</td><td> </td><td class="right">               satellites = plugin-&gt;getSatellites(ui-&gt;groupsCombo-&gt;currentT
ext());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">ui-&gt;satellitesList</span>-&gt;setSortingEnabled(false);</td><td> </td><td class="rblock">       <span class="insert">//satellitesModel-&gt;</span>-&gt;setSortingEnabled(false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QHashIterator&lt;QString,QString&gt; i(satellites);</td><td> </td><td class="right">       QHashIterator&lt;QString,QString&gt; i(satellites);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       while (i.hasNext())</td><td> </td><td class="right">       while (i.hasNext())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               i.next();</td><td> </td><td class="right">               i.next();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">QListWidgetItem*</span> item = new <span class="delete">QListWidgetItem(i.value());</span></td><td> </td><td class="rblock">               <span class="insert">QStandardItem*</span> item = new <span class="insert">QStandardItem(i.value());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               item-&gt;setData(Qt::UserRole, i.key());</span></td><td> </td><td class="rblock"><span class="insert">               item-&gt;setData(i.key(), Qt::UserRole);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               ui-&gt;satellitesList-&gt;addItem(item);</span></td><td> </td><td class="rblock"><span class="insert">               item-&gt;setEditable(false);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"><span class="insert">               satellitesModel-&gt;appendRow(item);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       ui-&gt;satellitesList-&gt;sortItems();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       // If <span class="delete">any</span> previously selected <span class="delete">items are</span> still in the list after the </td><td> </td><td class="rblock">               // If <span class="insert">a</span> previously selected <span class="insert">item is</span> still in the list after </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">update, select <span class="delete">them,</span></td><td> </td><td class="rblock">the update, select <span class="insert">it</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       QListWidgetItem* item;</span></td><td> </td><td class="rblock"><span class="insert">               if (prevMultiSelection.contains(i.key()))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       for (int i=0; (item = ui-&gt;satellitesList-&gt;item(i))!=NULL; i++)</span></td><td> </td><td class="rblock">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       {</td><td> </td><td class="rblock">                       <span class="insert">QModelIndex index</span> = <span class="insert">filterProxyModel-&gt;mapFromSource(</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">QVariant id</span> = <span class="delete">item-&gt;data(Qt::UserRole);</span></td><td> </td><td class="rblock"><span class="insert">item-&gt;index());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (prevMultiSelection.contains(id))</span></td><td> </td><td class="rblock"><span class="insert">                       //QModelIndex index = item-&gt;index();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       item-&gt;setSelected(true);</span></td><td> </td><td class="rblock"><span class="insert">                       selectionModel-&gt;select(index, QItemSelectionModel::S</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">electCurrent);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// Sort the main list (don't sort the filter model directly,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // or the displayed list will be scrambled on emptying the filter).</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       satellitesModel-&gt;sort(0);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">QList&lt;QListWidgetItem*&gt; selectedItems = ui-&gt;satellitesList-&gt;selected</span></td><td> </td><td class="rblock">       if <span class="insert">(selectionModel-&gt;hasSelection())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">Items();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(selectedItems.count() &gt; 0)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">// make sure the first selected item</span> is <span class="delete">visible...</span></td><td> </td><td class="rblock">               <span class="insert">//TODO: This</span> is <span class="insert">stupid...</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               ui-&gt;satellitesList-&gt;scrollToItem(selectedItems.at(0));</span></td><td> </td><td class="rblock"><span class="insert">               for (int row = 0; row &lt; ui-&gt;satellitesList-&gt;model()-&gt;rowCoun</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">t(); row++)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       QModelIndex index = ui-&gt;satellitesList-&gt;model()-&gt;ind</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ex(row, 0);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       if (selectionModel-&gt;isSelected(index))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               ui-&gt;satellitesList-&gt;scrollTo(index, QAbstrac</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tItemView::PositionAtTop);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       else if (ui-&gt;satellitesList-&gt;<span class="delete">c</span>ount() &gt; 0)</td><td> </td><td class="rblock">       else if (ui-&gt;satellitesList-&gt;<span class="insert">model()-&gt;rowC</span>ount() &gt; 0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               // <span class="delete">otherwise if</span> there are any items in the listbox, <span class="delete">select t</span></td><td> </td><td class="rblock">               // <span class="insert">If</span> there are any items in the listbox, scroll to the top</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">he first and</span> scroll to the top</td><td> </td><td class="rblock">               <span class="insert">QModelIndex index = ui-&gt;satellitesList-&gt;model()-&gt;index(0, 0)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">ui-&gt;satellitesList-&gt;setCurrentRow(0);</span></td><td> </td><td class="rblock"><span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               ui-&gt;satellitesList-&gt;scrollToTop();</span></td><td> </td><td class="rblock"><span class="insert">               selectionModel-&gt;setCurrentIndex(index, QItemSelectionModel::</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">NoUpdate);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               ui-&gt;satellitesList-&gt;scrollTo(index, QAbstractItemView::Posit</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ionAtTop);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SatellitesDialog::reloadSatellitesList()</td><td> </td><td class="right">void SatellitesDialog::reloadSatellitesList()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       listSatelliteGroup(ui-&gt;groupsCombo-&gt;currentIndex());</td><td> </td><td class="right">       listSatelliteGroup(ui-&gt;groupsCombo-&gt;currentIndex());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void <span class="delete">SatellitesDialog::updateSelectedSatelliteInfo(QListWidgetItem* curItem</span></td><td> </td><td class="rblock">void <span class="insert">SatellitesDialog::updateSelectedInfo(const QModelIndex&amp; curItem,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">,</span></td><td> </td><td class="rblock"><span class="insert">                                          const QModelIndex&amp; prevItem)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                                   QListWidgetItem* prevIte</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">m)</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_UNUSED(prevItem);</td><td> </td><td class="right">       Q_UNUSED(prevItem);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if (!curItem)</td><td> </td><td class="rblock">       if (!curItem<span class="insert">.isValid()</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       QString id = curItem<span class="delete">-&gt;</span>data(Qt::UserRole).toString();</td><td> </td><td class="rblock">       QString id = curItem<span class="insert">.</span>data(Qt::UserRole).toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (id.isEmpty())</td><td> </td><td class="right">       if (id.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satelliteModified = false;</td><td> </td><td class="right">       satelliteModified = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SatelliteP sat = GETSTELMODULE(Satellites)-&gt;getByID(id);</td><td> </td><td class="right">       SatelliteP sat = GETSTELMODULE(Satellites)-&gt;getByID(id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (sat.isNull())</td><td> </td><td class="right">       if (sat.isNull())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!sat-&gt;initialized)</td><td> </td><td class="right">       if (!sat-&gt;initialized)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 295</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 323</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;h3&gt;" + q_("Adding new satellites") + "&lt;/h3&gt;";</td><td> </td><td class="right">       html += "&lt;h3&gt;" + q_("Adding new satellites") + "&lt;/h3&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;p&gt;" + QString(q_("1. Make sure the satellite(s) you wish t
o add are included in one of the URLs listed in the Sources tab of the sate
llites configuration dialog. 2. Go to the Satellites tab, and click the '+'
 button.  Select the satellite(s) you wish to add and select the \"add\" bu
tton.")) + "&lt;/p&gt;";</td><td> </td><td class="right">       html += "&lt;p&gt;" + QString(q_("1. Make sure the satellite(s) you wish t
o add are included in one of the URLs listed in the Sources tab of the sate
llites configuration dialog. 2. Go to the Satellites tab, and click the '+'
 button.  Select the satellite(s) you wish to add and select the \"add\" bu
tton.")) + "&lt;/p&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;h3&gt;" + q_("Technical notes") + "&lt;/h3&gt;";</td><td> </td><td class="right">       html += "&lt;h3&gt;" + q_("Technical notes") + "&lt;/h3&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;p&gt;" + q_("Positions are calculated using the SGP4 &amp; SDP4 m
ethods, using NORAD TLE data as the input. ");</td><td> </td><td class="right">       html += "&lt;p&gt;" + q_("Positions are calculated using the SGP4 &amp; SDP4 m
ethods, using NORAD TLE data as the input. ");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += q_("The orbital calculation code is written by Jose Luis Can
ales according to the revised Spacetrack Report #3 (including Spacetrack Re
port #6). ");</td><td> </td><td class="right">       html += q_("The orbital calculation code is written by Jose Luis Can
ales according to the revised Spacetrack Report #3 (including Spacetrack Re
port #6). ");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td> </td><td class="right">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += QString(q_("See %1this document%2 for details.")).arg("&lt;a hr
ef=\"http://www.celestrak.com/publications/AIAA/2006-6753\"&gt;").arg("&lt;/a&gt;") 
+ "&lt;/p&gt;";</td><td> </td><td class="right">       html += QString(q_("See %1this document%2 for details.")).arg("&lt;a hr
ef=\"http://www.celestrak.com/publications/AIAA/2006-6753\"&gt;").arg("&lt;/a&gt;") 
+ "&lt;/p&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;h3&gt;" + q_("Links") + "&lt;/h3&gt;";</td><td> </td><td class="right">       html += "&lt;h3&gt;" + q_("Links") + "&lt;/h3&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       html += "&lt;p&gt;" + <span class="delete">q_("Support is provided via the Launchpad website.  
Be sure to put \"Satellites plugin\" in the subject when posting.") + "&lt;/p&gt;
</span>";</td><td> </td><td class="rblock">       html += "&lt;p&gt;" + <span class="insert">QString(q_("Support is provided via the Launchpad we
bsite.  Be sure to put \"%1\" in the subject when posting.")).arg("Satellit
es plugin") + "&lt;/p&gt;</span>";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;p&gt;&lt;ul&gt;";</td><td> </td><td class="right">       html += "&lt;p&gt;&lt;ul&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td> </td><td class="right">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;li&gt;" + QString(q_("If you have a question, you can %1get a
n answer here%2").arg("&lt;a href=\"https://answers.launchpad.net/stellarium\"
&gt;")).arg("&lt;/a&gt;") + "&lt;/li&gt;";</td><td> </td><td class="right">       html += "&lt;li&gt;" + QString(q_("If you have a question, you can %1get a
n answer here%2").arg("&lt;a href=\"https://answers.launchpad.net/stellarium\"
&gt;")).arg("&lt;/a&gt;") + "&lt;/li&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td> </td><td class="right">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;li&gt;" + QString(q_("Bug reports can be made %1here%2.")).ar
g("&lt;a href=\"https://bugs.launchpad.net/stellarium\"&gt;").arg("&lt;/a&gt;") + "&lt;/li
&gt;";</td><td> </td><td class="right">       html += "&lt;li&gt;" + QString(q_("Bug reports can be made %1here%2.")).ar
g("&lt;a href=\"https://bugs.launchpad.net/stellarium\"&gt;").arg("&lt;/a&gt;") + "&lt;/li
&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td> </td><td class="right">       // TRANSLATORS: The numbers contain the opening and closing tag of a
n HTML link</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;li&gt;" + q_("If you would like to make a feature request, yo
u can create a bug report, and set the severity to \"wishlist\".") + "&lt;/li&gt;
";</td><td> </td><td class="right">       html += "&lt;li&gt;" + q_("If you would like to make a feature request, yo
u can create a bug report, and set the severity to \"wishlist\".") + "&lt;/li&gt;
";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       html += "&lt;/ul&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;";</td><td> </td><td class="right">       html += "&lt;/ul&gt;&lt;/p&gt;&lt;/body&gt;&lt;/html&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelGui* gui = dynamic_cast&lt;StelGui*&gt;(StelApp::getInstance().getGui(
));</td><td> </td><td class="right">       StelGui* gui = dynamic_cast&lt;StelGui*&gt;(StelApp::getInstance().getGui(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 485</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 513</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       saveSatellites();</td><td> </td><td class="right">       saveSatellites();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Trigger re-loading the list to display the new satellites</td><td> </td><td class="right">       // Trigger re-loading the list to display the new satellites</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int index = ui-&gt;groupsCombo-&gt;findData(QVariant("newlyadded"));</td><td> </td><td class="right">       int index = ui-&gt;groupsCombo-&gt;findData(QVariant("newlyadded"));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (ui-&gt;groupsCombo-&gt;currentIndex() == index)</td><td> </td><td class="right">       if (ui-&gt;groupsCombo-&gt;currentIndex() == index)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               listSatelliteGroup(index);</td><td> </td><td class="right">               listSatelliteGroup(index);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ui-&gt;groupsCombo-&gt;setCurrentIndex(index); //Triggers the same
 operation</td><td> </td><td class="right">               ui-&gt;groupsCombo-&gt;setCurrentIndex(index); //Triggers the same
 operation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Select the satellites that were added just now</td><td> </td><td class="right">       // Select the satellites that were added just now</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">QListWidget* list</span> = <span class="delete">ui-&gt;satellitesList;</span></td><td> </td><td class="rblock">       <span class="insert">QItemSelectionModel* selectionModel</span> = <span class="insert">ui-&gt;satellitesList-&gt;selectionM</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       list-&gt;clearSelection();</span></td><td> </td><td class="rblock"><span class="insert">odel();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       int firstAddedIndex = -1;</span></td><td> </td><td class="rblock"><span class="insert">       selectionModel-&gt;clearSelection();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QModelIndex firstSelectedIndex;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSet&lt;QString&gt; newIds;</td><td> </td><td class="right">       QSet&lt;QString&gt; newIds;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (const TleData&amp; sat, newSatellites)</td><td> </td><td class="right">       foreach (const TleData&amp; sat, newSatellites)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               newIds.insert(sat.id);</td><td> </td><td class="right">               newIds.insert(sat.id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       for (int <span class="delete">i = 0; i &lt; list-&gt;count(); i</span>++)</td><td> </td><td class="rblock">       for (int <span class="insert">row = 0; row &lt; ui-&gt;satellitesList-&gt;model()-&gt;rowCount(); row
</span>++)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               QString id = <span class="delete">list-&gt;item(i)-&gt;data(Qt::UserRole).toString();</span></td><td> </td><td class="rblock">               <span class="insert">QModelIndex index = ui-&gt;satellitesList-&gt;model()-&gt;index(row, </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">0);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               QString id = <span class="insert">index.data(Qt::UserRole).toString();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (newIds.remove(id))</td><td> </td><td class="right">               if (newIds.remove(id))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">list-&gt;item(i)-&gt;setSelected(true);</span></td><td> </td><td class="rblock">                       <span class="insert">selectionModel-&gt;select(index, QItemSelectionModel::S</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       if <span class="delete">(firstAddedIndex &lt; 0)</span></td><td> </td><td class="rblock"><span class="insert">elect);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                               firstAddedIndex</span> = <span class="delete">i;</span></td><td> </td><td class="rblock">                       if <span class="insert">(!firstSelectedIndex.isValid())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               firstSelectedIndex</span> = <span class="insert">index;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(firstAddedIndex &gt;= 0)</span></td><td> </td><td class="rblock">       if <span class="insert">(firstSelectedIndex.isValid())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               list-&gt;scrollToItem(list-&gt;item(firstAddedIndex),</span></td><td> </td><td class="rblock"><span class="insert">               ui-&gt;satellitesList-&gt;scrollTo(firstSelectedIndex, QAbstractIt</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                  QAbstractItemView::PositionAtTop);</span></td><td> </td><td class="rblock"><span class="insert">emView::PositionAtTop);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">list-&gt;setCurrentRow(0</span>);</td><td> </td><td class="rblock">               <span class="insert">ui-&gt;satellitesList-&gt;scrollToTop(</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SatellitesDialog::removeSatellites()</td><td> </td><td class="right">void SatellitesDialog::removeSatellites()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QStringList idList;</td><td> </td><td class="right">       QStringList idList;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       foreach <span class="delete">(QListWidgetItem* i, ui-&gt;satellitesList-&gt;selectedItems())</span></td><td> </td><td class="rblock">       <span class="insert">QItemSelectionModel* selectionModel = ui-&gt;satellitesList-&gt;selectionM</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">odel();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QModelIndexList selectedIndexes = selectionModel-&gt;selectedRows();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       foreach <span class="insert">(const QModelIndex&amp; index, selectedIndexes)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               QString id = i<span class="delete">-&gt;</span>data(Qt::UserRole).toString();</td><td> </td><td class="rblock">               QString id = i<span class="insert">ndex.</span>data(Qt::UserRole).toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               idList.append(id);</td><td> </td><td class="right">               idList.append(id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!idList.isEmpty())</td><td> </td><td class="right">       if (!idList.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               GETSTELMODULE(Satellites)-&gt;remove(idList);</td><td> </td><td class="right">               GETSTELMODULE(Satellites)-&gt;remove(idList);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               reloadSatellitesList();</td><td> </td><td class="right">               reloadSatellitesList();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               saveSatellites();</td><td> </td><td class="right">               saveSatellites();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SatellitesDialog::setDisplayFlag(bool display)</td><td> </td><td class="right">void SatellitesDialog::setDisplayFlag(bool display)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       foreach <span class="delete">(QListWidgetItem* i, ui-&gt;satellitesList-&gt;selectedItems())</span></td><td> </td><td class="rblock">       <span class="insert">QItemSelectionModel* selectionModel = ui-&gt;satellitesList-&gt;selectionM</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">odel();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QModelIndexList selectedIndexes = selectionModel-&gt;selectedRows();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       foreach <span class="insert">(const QModelIndex&amp; index, selectedIndexes)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               QString id = i<span class="delete">-&gt;</span>data(Qt::UserRole).toString();</td><td> </td><td class="rblock">               QString id = i<span class="insert">ndex.</span>data(Qt::UserRole).toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               SatelliteP sat = GETSTELMODULE(Satellites)-&gt;getByID(id);</td><td> </td><td class="right">               SatelliteP sat = GETSTELMODULE(Satellites)-&gt;getByID(id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               sat-&gt;visible = display;</td><td> </td><td class="rblock">               <span class="insert">if (sat)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       sat-&gt;visible = display;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       reloadSatellitesList();</td><td> </td><td class="right">       reloadSatellitesList();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SatellitesDialog::setOrbitFlag(bool display)</td><td> </td><td class="right">void SatellitesDialog::setOrbitFlag(bool display)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       foreach <span class="delete">(QListWidgetItem* i, ui-&gt;satellitesList-&gt;selectedItems())</span></td><td> </td><td class="rblock">       <span class="insert">QItemSelectionModel* selectionModel = ui-&gt;satellitesList-&gt;selectionM</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">odel();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QModelIndexList selectedIndexes = selectionModel-&gt;selectedRows();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       foreach <span class="insert">(const QModelIndex&amp; index, selectedIndexes)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               QString id = i<span class="delete">-&gt;</span>data(Qt::UserRole).toString();</td><td> </td><td class="rblock">               QString id = i<span class="insert">ndex.</span>data(Qt::UserRole).toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               SatelliteP sat = GETSTELMODULE(Satellites)-&gt;getByID(id);</td><td> </td><td class="right">               SatelliteP sat = GETSTELMODULE(Satellites)-&gt;getByID(id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (sat)</td><td> </td><td class="right">               if (sat)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       sat-&gt;orbitVisible = display;</td><td> </td><td class="right">                       sat-&gt;orbitVisible = display;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       reloadSatellitesList();</td><td> </td><td class="right">       reloadSatellitesList();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">void SatellitesDialog::<span class="delete">satelliteDoubleClick(QListWidgetItem* item</span>)</td><td> </td><td class="rblock">void SatellitesDialog::<span class="insert">handleDoubleClick(const QModelIndex&amp; index</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Satellites* SatellitesMgr = GETSTELMODULE(Satellites);</td><td> </td><td class="right">       Satellites* SatellitesMgr = GETSTELMODULE(Satellites);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(SatellitesMgr);</td><td> </td><td class="right">       Q_ASSERT(SatellitesMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       QString id = i<span class="delete">tem-&gt;</span>data(Qt::UserRole).toString();</td><td> </td><td class="rblock">       QString id = i<span class="insert">ndex.</span>data(Qt::UserRole).toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SatelliteP sat = SatellitesMgr-&gt;getByID(id);</td><td> </td><td class="right">       SatelliteP sat = SatellitesMgr-&gt;getByID(id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (sat.isNull())</td><td> </td><td class="right">       if (sat.isNull())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!sat-&gt;orbitValid)</td><td> </td><td class="right">       if (!sat-&gt;orbitValid)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Turn on Satellite rendering if it is not already on</td><td> </td><td class="right">       // Turn on Satellite rendering if it is not already on</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sat-&gt;visible = true;</td><td> </td><td class="right">       sat-&gt;visible = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // If Satellites are not currently displayed, make them visible.</td><td> </td><td class="right">       // If Satellites are not currently displayed, make them visible.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!SatellitesMgr-&gt;getFlagHints())</td><td> </td><td class="right">       if (!SatellitesMgr-&gt;getFlagHints())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelGui* gui = dynamic_cast&lt;StelGui*&gt;(StelApp::getInstance()
.getGui());</td><td> </td><td class="right">               StelGui* gui = dynamic_cast&lt;StelGui*&gt;(StelApp::getInstance()
.getGui());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QAction* setHintsAction = gui-&gt;getGuiActions("actionShow_Sat
ellite_Hints");</td><td> </td><td class="right">               QAction* setHintsAction = gui-&gt;getGuiActions("actionShow_Sat
ellite_Hints");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Q_ASSERT(setHintsAction);</td><td> </td><td class="right">               Q_ASSERT(setHintsAction);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               setHintsAction-&gt;setChecked(true);</td><td> </td><td class="right">               setHintsAction-&gt;setChecked(true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">//TODO: We need to find a way to deal with duplicates... --BM</span></td><td> </td><td class="rblock">       <span class="insert">StelObjectP obj = qSharedPointerDynamicCast&lt;StelObject&gt;(sat);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(StelApp::getInstance().getStelObjectMgr().findAndSelect(item-&gt;te</span></td><td> </td><td class="rblock"><span class="insert">       StelObjectMgr&amp; objectMgr = StelApp::getInstance().getStelObjectMgr()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">xt()))</span></td><td> </td><td class="rblock"><span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       if <span class="insert">(objectMgr.setSelectedObject(obj))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               GETSTELMODULE(StelMovementMgr)-&gt;autoZoomIn();</td><td> </td><td class="right">               GETSTELMODULE(StelMovementMgr)-&gt;autoZoomIn();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               GETSTELMODULE(StelMovementMgr)-&gt;setFlagTracking(true);</td><td> </td><td class="right">               GETSTELMODULE(StelMovementMgr)-&gt;setFlagTracking(true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SatellitesDialog::setOrbitParams(void)</td><td> </td><td class="right">void SatellitesDialog::setOrbitParams(void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Satellite::orbitLineSegments = ui-&gt;orbitSegmentsSpin-&gt;value();</td><td> </td><td class="right">       Satellite::orbitLineSegments = ui-&gt;orbitSegmentsSpin-&gt;value();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Satellite::orbitLineFadeSegments = ui-&gt;orbitFadeSpin-&gt;value();</td><td> </td><td class="right">       Satellite::orbitLineFadeSegments = ui-&gt;orbitFadeSpin-&gt;value();</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 38 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>69 lines changed or deleted</i></th><th><i> </i></th><th><i>116 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
