<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: StelCore.hpp - StelCore.hpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;StelCore.hpp&nbsp;</th><th> </th><th>&nbsp;StelCore.hpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno" valign="top"></td><td class="left">/*</td><td> </td><td class="right">/*</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Copyright (C) 2003 Fabien Chereau</td><td> </td><td class="right"> * Copyright (C) 2003 Fabien Chereau</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> * Copyright (C) 2012 Matthew Gates</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * This program is free software; you can redistribute it and/or</td><td> </td><td class="right"> * This program is free software; you can redistribute it and/or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * modify it under the terms of the GNU General Public License</td><td> </td><td class="right"> * modify it under the terms of the GNU General Public License</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * as published by the Free Software Foundation; either version 2</td><td> </td><td class="right"> * as published by the Free Software Foundation; either version 2</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * of the License, or (at your option) any later version.</td><td> </td><td class="right"> * of the License, or (at your option) any later version.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * This program is distributed in the hope that it will be useful,</td><td> </td><td class="right"> * This program is distributed in the hope that it will be useful,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td> </td><td class="right"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td> </td><td class="right"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * GNU General Public License for more details.</td><td> </td><td class="right"> * GNU General Public License for more details.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 118</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 119</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get a new instance of projector using a modelview transformation
 corresponding to the the given frame.</td><td> </td><td class="right">       //! Get a new instance of projector using a modelview transformation
 corresponding to the the given frame.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! If not specified the refraction effect is included if atmosphere
 is on.</td><td> </td><td class="right">       //! If not specified the refraction effect is included if atmosphere
 is on.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelProjectorP getProjection(FrameType frameType, RefractionMode ref
ractionMode=RefractionAuto) const;</td><td> </td><td class="right">       StelProjectorP getProjection(FrameType frameType, RefractionMode ref
ractionMode=RefractionAuto) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get a new instance of projector using the given modelview transf
ormatione.</td><td> </td><td class="right">       //! Get a new instance of projector using the given modelview transf
ormatione.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! If not specified the projection used is the one currently used a
s default.</td><td> </td><td class="right">       //! If not specified the projection used is the one currently used a
s default.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelProjectorP getProjection(StelProjector::ModelViewTranformP model
ViewTransform, ProjectionType projType=(ProjectionType)1000) const;</td><td> </td><td class="right">       StelProjectorP getProjection(StelProjector::ModelViewTranformP model
ViewTransform, ProjectionType projType=(ProjectionType)1000) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current tone reproducer used in the core.</td><td> </td><td class="right">       //! Get the current tone reproducer used in the core.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelToneReproducer* getToneReproducer()<span class="delete"> {return toneConverter;}</span></td><td> </td><td class="rblock">       StelToneReproducer* getToneReproducer()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current tone reproducer used in the core.</td><td> </td><td class="right">       //! Get the current tone reproducer used in the core.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const StelToneReproducer* getToneReproducer() const<span class="delete"> {return toneConv
erter;}</span></td><td> </td><td class="rblock">       const StelToneReproducer* getToneReproducer() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current StelSkyDrawer used in the core.</td><td> </td><td class="right">       //! Get the current StelSkyDrawer used in the core.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelSkyDrawer* getSkyDrawer()<span class="delete"> {return skyDrawer;}</span></td><td> </td><td class="rblock">       StelSkyDrawer* getSkyDrawer()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current StelSkyDrawer used in the core.</td><td> </td><td class="right">       //! Get the current StelSkyDrawer used in the core.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const StelSkyDrawer* getSkyDrawer() const<span class="delete"> {return skyDrawer;}</span></td><td> </td><td class="rblock">       const StelSkyDrawer* getSkyDrawer() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get an instance of StelGeodesicGrid which is garanteed to allow 
for at least maxLevel levels</td><td> </td><td class="right">       //! Get an instance of StelGeodesicGrid which is garanteed to allow 
for at least maxLevel levels</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const StelGeodesicGrid* getGeodesicGrid(int maxLevel) const;</td><td> </td><td class="right">       const StelGeodesicGrid* getGeodesicGrid(int maxLevel) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the instance of movement manager.</td><td> </td><td class="right">       //! Get the instance of movement manager.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelMovementMgr* getMovementMgr()<span class="delete"> {return movementMgr;}</span></td><td> </td><td class="rblock">       StelMovementMgr* getMovementMgr()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the const instance of movement manager.</td><td> </td><td class="right">       //! Get the const instance of movement manager.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const StelMovementMgr* getMovementMgr() const<span class="delete"> {return movementMgr;}</span></td><td> </td><td class="rblock">       const StelMovementMgr* getMovementMgr() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the near and far clipping planes.</td><td> </td><td class="right">       //! Set the near and far clipping planes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setClippingPlanes(double znear, double zfar)<span class="delete"> {currentProjectorP
arams.zNear=znear;currentProjectorParams.zFar=zfar;}</span></td><td> </td><td class="rblock">       void setClippingPlanes(double znear, double zfar)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the near and far clipping planes.</td><td> </td><td class="right">       //! Get the near and far clipping planes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void getClippingPlanes(double* zn, double* zf) const<span class="delete"> {*zn = currentP
rojectorParams.zNear; *zf = currentProjectorParams.zFar;}</span></td><td> </td><td class="rblock">       void getClippingPlanes(double* zn, double* zf) const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the translated projection name from its TypeKey for the curr
ent locale.</td><td> </td><td class="right">       //! Get the translated projection name from its TypeKey for the curr
ent locale.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString projectionTypeKeyToNameI18n(const QString&amp; key) const;</td><td> </td><td class="right">       QString projectionTypeKeyToNameI18n(const QString&amp; key) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the projection TypeKey from its translated name for the curr
ent locale.</td><td> </td><td class="right">       //! Get the projection TypeKey from its translated name for the curr
ent locale.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString projectionNameI18nToTypeKey(const QString&amp; nameI18n) const;</td><td> </td><td class="right">       QString projectionNameI18nToTypeKey(const QString&amp; nameI18n) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current set of parameters to use when creating a new Ste
lProjector.</td><td> </td><td class="right">       //! Get the current set of parameters to use when creating a new Ste
lProjector.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjector::StelProjectorParams getCurrentStelProjectorParams() c
onst<span class="delete"> {return currentProjectorParams;}</span></td><td> </td><td class="rblock">       StelProjector::StelProjectorParams getCurrentStelProjectorParams() c
onst<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the set of parameters to use when creating a new StelProject
or.</td><td> </td><td class="right">       //! Set the set of parameters to use when creating a new StelProject
or.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setCurrentStelProjectorParams(const StelProjector::StelProjecto
rParams&amp; newParams)<span class="delete"> {currentProjectorParams=newParams;}</span></td><td> </td><td class="rblock">       void setCurrentStelProjectorParams(const StelProjector::StelProjecto
rParams&amp; newParams)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! <span class="delete">G</span>et vision direction</td><td> </td><td class="rblock">       //! <span class="insert">S</span>et vision direction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void lookAtJ2000(const Vec3d&amp; pos, const Vec3d&amp; up);</td><td> </td><td class="right">       void lookAtJ2000(const Vec3d&amp; pos, const Vec3d&amp; up);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d altAzToEquinoxEqu(const Vec3d&amp; v, RefractionMode refMode=Refra</td><td> </td><td class="rblock">       Vec3d altAzToEquinoxEqu(const Vec3d&amp; v, RefractionMode refMode=Refra</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">ctionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">ctionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock">       Vec3d equinoxEquToAltAz(const Vec3d&amp; v, RefractionMode refMode=Refra</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock">ctionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock">       Vec3d altAzToJ2000(const Vec3d&amp; v, RefractionMode refMode=Refraction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return matAltAzToEquinoxEqu*v;</span></td><td> </td><td class="rblock">Auto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Vec3d r(v);</span></td><td> </td><td class="rblock">       Vec3d j2000ToAltAz(const Vec3d&amp; v, RefractionMode refMode=Refraction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               skyDrawer-&gt;getRefraction().backward(r);</span></td><td> </td><td class="rblock">Auto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               r.transfo4d(matAltAzToEquinoxEqu);</span></td><td> </td><td class="rblock">       Vec3d galacticToJ2000(const Vec3d&amp; v) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return r;</span></td><td> </td><td class="rblock">       Vec3d equinoxEquToJ2000(const Vec3d&amp; v) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock">       Vec3d j2000ToEquinoxEqu(const Vec3d&amp; v) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d equinoxEquToAltAz(const Vec3d&amp; v, RefractionMode refMode=Refra</td><td> </td><td class="rblock">       Vec3d j2000ToGalactic(const Vec3d&amp; v) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">ctionAuto) <span class="delete">const</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return matEquinoxEquToAltAz*v;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Vec3d r(v);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               r.transfo4d(matEquinoxEquToAltAz);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               skyDrawer-&gt;getRefraction().forward(r);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return r;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d altAzToJ2000(const Vec3d&amp; v, RefractionMode refMode=Refraction</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Auto) <span class="delete">const</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return matEquinoxEquToJ2000*matAltAzToEquinoxEqu*v;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Vec3d r(v);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               skyDrawer-&gt;getRefraction().backward(r);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               r.transfo4d(matEquinoxEquToJ2000*matAltAzToEquinoxEqu);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return r;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d j2000ToAltAz(const Vec3d&amp; v, RefractionMode refMode=Refraction</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Auto) <span class="delete">const</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return matJ2000ToAltAz*v;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Vec3d r(v);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               r.transfo4d(matJ2000ToAltAz);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               skyDrawer-&gt;getRefraction().forward(r);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return r;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d galacticToJ2000(const Vec3d&amp; v) <span class="delete">const {return matGalacticToJ20</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">00*v;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d equinoxEquToJ2000(const Vec3d&amp; v) <span class="delete">const {return matEquinoxEquT</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">oJ2000*v;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d j2000ToEquinoxEqu(const Vec3d&amp; v) <span class="delete">const {return matJ2000ToEqui</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">noxEqu*v;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d j2000ToGalactic(const Vec3d&amp; v) <span class="delete">const {return matJ2000ToGalact</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ic*v;}</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Transform vector from heliocentric ecliptic coordinate to altazi
muthal</td><td> </td><td class="right">       //! Transform vector from heliocentric ecliptic coordinate to altazi
muthal</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d heliocentricEclipticToAltAz(const Vec3d&amp; v, RefractionMode ref</td><td> </td><td class="rblock">       Vec3d heliocentricEclipticToAltAz(const Vec3d&amp; v, RefractionMode ref</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">Mode=RefractionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">Mode=RefractionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return matHeliocentricEclipticToAltAz*v;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Vec3d r(v);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               r.transfo4d(matHeliocentricEclipticToAltAz);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               skyDrawer-&gt;getRefraction().forward(r);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return r;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Transform from heliocentric coordinate to equatorial at current 
equinox (for the planet where the observer stands)</td><td> </td><td class="right">       //! Transform from heliocentric coordinate to equatorial at current 
equinox (for the planet where the observer stands)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d heliocentricEclipticToEquinoxEqu(const Vec3d&amp; v) const<span class="delete"> {return
 matHeliocentricEclipticToEquinoxEqu*v;}</span></td><td> </td><td class="rblock">       Vec3d heliocentricEclipticToEquinoxEqu(const Vec3d&amp; v) const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Transform vector from heliocentric coordinate to false equatoria
l : equatorial</td><td> </td><td class="right">       //! Transform vector from heliocentric coordinate to false equatoria
l : equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! coordinate but centered on the observer position (usefull for ob
jects close to earth)</td><td> </td><td class="right">       //! coordinate but centered on the observer position (usefull for ob
jects close to earth)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d heliocentricEclipticToEarthPosEquinoxEqu(const Vec3d&amp; v) const
<span class="delete"> {return matAltAzToEquinoxEqu*matHeliocentricEclipticToAltAz*v;}</span></td><td> </td><td class="rblock">       Vec3d heliocentricEclipticToEarthPosEquinoxEqu(const Vec3d&amp; v) const
<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for heliocentric ecliptic (Vsop87) draw
ing</td><td> </td><td class="right">       //! Get the modelview matrix for heliocentric ecliptic (Vsop87) draw
ing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjector::ModelViewTranformP getHeliocentricEclipticModelViewTr</td><td> </td><td class="rblock">       StelProjector::ModelViewTranformP getHeliocentricEclipticModelViewTr</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">ansform(RefractionMode refMode=RefractionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">ansform(RefractionMode refMode=RefractionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return StelProjector::ModelViewTranformP(new StelPro</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">jector::Mat4dTransform(matAltAzModelView*matHeliocentricEclipticToAltAz));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               // The pretransform matrix will convert from input coordinat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">es to AltAz needed by the refraction function.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPreTransfoMat(matHeliocentricEclipticToAltAz);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPostTransfoMat(matAltAzModelView);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return StelProjector::ModelViewTranformP(refr);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric ecliptic (Vsop87) 
drawing</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric ecliptic (Vsop87) 
drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjector::ModelViewTranformP getObservercentricEclipticModelVie</td><td> </td><td class="rblock">       StelProjector::ModelViewTranformP getObservercentricEclipticModelVie</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">wTransform(RefractionMode refMode=RefractionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">wTransform(RefractionMode refMode=RefractionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return StelProjector::ModelViewTranformP(new StelPro</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">jector::Mat4dTransform(matAltAzModelView*matJ2000ToAltAz*matVsop87ToJ2000))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               // The pretransform matrix will convert from input coordinat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">es to AltAz needed by the refraction function.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPreTransfoMat(matJ2000ToAltAz*matVsop87ToJ2000);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPostTransfoMat(matAltAzModelView);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return StelProjector::ModelViewTranformP(refr);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric equatorial at equi
nox drawing</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric equatorial at equi
nox drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjector::ModelViewTranformP getEquinoxEquModelViewTransform(Re</td><td> </td><td class="rblock">       StelProjector::ModelViewTranformP getEquinoxEquModelViewTransform(Re</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">fractionMode refMode=RefractionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">fractionMode refMode=RefractionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return StelProjector::ModelViewTranformP(new StelPro</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">jector::Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               // The pretransform matrix will convert from input coordinat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">es to AltAz needed by the refraction function.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPostTransfoMat(matAltAzModelView);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return StelProjector::ModelViewTranformP(refr);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric altazimuthal drawi
ng</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric altazimuthal drawi
ng</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjector::ModelViewTranformP getAltAzModelViewTransform(Refract</td><td> </td><td class="rblock">       StelProjector::ModelViewTranformP getAltAzModelViewTransform(Refract</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">ionMode refMode=RefractionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">ionMode refMode=RefractionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return StelProjector::ModelViewTranformP(new StelPro</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">jector::Mat4dTransform(matAltAzModelView));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               // The pretransform matrix will convert from input coordinat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">es to AltAz needed by the refraction function.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPostTransfoMat(matAltAzModelView);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return StelProjector::ModelViewTranformP(refr);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric J2000 equatorial d
rawing</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric J2000 equatorial d
rawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjector::ModelViewTranformP getJ2000ModelViewTransform(Refract</td><td> </td><td class="rblock">       StelProjector::ModelViewTranformP getJ2000ModelViewTransform(Refract</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">ionMode refMode=RefractionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">ionMode refMode=RefractionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return StelProjector::ModelViewTranformP(new StelPro</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">jector::Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz*matJ2000ToEqu</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">inoxEqu));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               // The pretransform matrix will convert from input coordinat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">es to AltAz needed by the refraction function.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz*matJ2000ToEquino</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">xEqu);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPostTransfoMat(matAltAzModelView);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return StelProjector::ModelViewTranformP(refr);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the modelview matrix for observer-centric Galactic equatoria
l drawing</td><td> </td><td class="right">       //! Get the modelview matrix for observer-centric Galactic equatoria
l drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       StelProjector::ModelViewTranformP getGalacticModelViewTransform(Refr</td><td> </td><td class="rblock">       StelProjector::ModelViewTranformP getGalacticModelViewTransform(Refr</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">actionMode refMode=RefractionAuto) <span class="delete">const</span></td><td> </td><td class="rblock">actionMode refMode=RefractionAuto) <span class="insert">const;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if (refMode==RefractionOff || skyDrawer==false || (refMode==</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">RefractionAuto &amp;&amp; skyDrawer-&gt;getFlagHasAtmosphere()==false))</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       return StelProjector::ModelViewTranformP(new StelPro</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">jector::Mat4dTransform(matAltAzModelView*matEquinoxEquToAltAz*matJ2000ToEqu</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">inoxEqu*matGalacticToJ2000));</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               Refraction* refr = new Refraction(skyDrawer-&gt;getRefraction()</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               // The pretransform matrix will convert from input coordinat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">es to AltAz needed by the refraction function.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPreTransfoMat(matEquinoxEquToAltAz*matJ2000ToEquino</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">xEqu*matGalacticToJ2000);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               refr-&gt;setPostTransfoMat(matAltAzModelView);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               return StelProjector::ModelViewTranformP(refr);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Rotation matrix from equatorial J2000 to ecliptic (Vsop87)</td><td> </td><td class="right">       //! Rotation matrix from equatorial J2000 to ecliptic (Vsop87)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       static const Mat4d matJ2000ToVsop87;</td><td> </td><td class="right">       static const Mat4d matJ2000ToVsop87;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Rotation matrix from ecliptic (Vsop87) to equatorial J2000</td><td> </td><td class="right">       //! Rotation matrix from ecliptic (Vsop87) to equatorial J2000</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       static const Mat4d matVsop87ToJ2000;</td><td> </td><td class="right">       static const Mat4d matVsop87ToJ2000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Rotation matrix from J2000 to Galactic reference frame, using FI
TS convention.</td><td> </td><td class="right">       //! Rotation matrix from J2000 to Galactic reference frame, using FI
TS convention.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       static const Mat4d matJ2000ToGalactic;</td><td> </td><td class="right">       static const Mat4d matJ2000ToGalactic;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Rotation matrix from J2000 to Galactic reference frame, using FI
TS convention.</td><td> </td><td class="right">       //! Rotation matrix from J2000 to Galactic reference frame, using FI
TS convention.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       static const Mat4d matGalacticToJ2000;</td><td> </td><td class="right">       static const Mat4d matGalacticToJ2000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 319</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 227</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       static const double JD_DAY;</td><td> </td><td class="right">       static const double JD_DAY;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the sideral time shifted by the observer longitude</td><td> </td><td class="right">       //! Get the sideral time shifted by the observer longitude</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @return the locale sideral time in radian</td><td> </td><td class="right">       //! @return the locale sideral time in radian</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getLocalSideralTime() const;</td><td> </td><td class="right">       double getLocalSideralTime() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the duration of a sideral day for the current observer in da
y.</td><td> </td><td class="right">       //! Get the duration of a sideral day for the current observer in da
y.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getLocalSideralDayLength() const;</td><td> </td><td class="right">       double getLocalSideralDayLength() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the startup mode, can be preset|Preset or anything else</td><td> </td><td class="right">       //! Return the startup mode, can be preset|Preset or anything else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       QString getStartupTimeMode()<span class="delete"> {return startupTimeMode;}</span></td><td> </td><td class="rblock">       QString getStartupTimeMode()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setStartupTimeMode(const QString&amp; s);</td><td> </td><td class="right">       void setStartupTimeMode(const QString&amp; s);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public slots:</td><td> </td><td class="right">public slots:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the current ProjectionType to use</td><td> </td><td class="right">       //! Set the current ProjectionType to use</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setCurrentProjectionType(ProjectionType type);</td><td> </td><td class="right">       void setCurrentProjectionType(ProjectionType type);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       ProjectionType getCurrentProjectionType() const<span class="delete"> {return currentProje
ctionType;}</span></td><td> </td><td class="rblock">       ProjectionType getCurrentProjectionType() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current Mapping used by the Projection</td><td> </td><td class="right">       //! Get the current Mapping used by the Projection</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getCurrentProjectionTypeKey(void) const;</td><td> </td><td class="right">       QString getCurrentProjectionTypeKey(void) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the current ProjectionType to use from its key</td><td> </td><td class="right">       //! Set the current ProjectionType to use from its key</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setCurrentProjectionTypeKey(QString type);</td><td> </td><td class="right">       void setCurrentProjectionTypeKey(QString type);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the list of all the available projections</td><td> </td><td class="right">       //! Get the list of all the available projections</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QStringList getAllProjectionTypeKeys() const;</td><td> </td><td class="right">       QStringList getAllProjectionTypeKeys() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the mask type.</td><td> </td><td class="right">       //! Set the mask type.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setMaskType(StelProjector::StelProjectorMaskType m)<span class="delete"> {currentPro
jectorParams.maskType = m; }</span></td><td> </td><td class="rblock">       void setMaskType(StelProjector::StelProjectorMaskType m)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the flag with decides whether to arrage labels so that</td><td> </td><td class="right">       //! Set the flag with decides whether to arrage labels so that</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! they are aligned with the bottom of a 2d screen, or a 3d dome.</td><td> </td><td class="right">       //! they are aligned with the bottom of a 2d screen, or a 3d dome.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setFlagGravityLabels(bool gravity)<span class="delete"> { currentProjectorParams.gra
vityLabels = gravity; }</span></td><td> </td><td class="rblock">       void setFlagGravityLabels(bool gravity)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the offset rotation angle in degree to apply to gravity text
 (only if gravityLabels is set to false).</td><td> </td><td class="right">       //! Set the offset rotation angle in degree to apply to gravity text
 (only if gravityLabels is set to false).</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setDefautAngleForGravityText(float a)<span class="delete"> { currentProjectorParams.
defautAngleForGravityText = a; }</span></td><td> </td><td class="rblock">       void setDefautAngleForGravityText(float a)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the horizontal flip status.</td><td> </td><td class="right">       //! Set the horizontal flip status.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param flip The new value (true = flipped, false = unflipped).</td><td> </td><td class="right">       //! @param flip The new value (true = flipped, false = unflipped).</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setFlipHorz(bool flip)<span class="delete"> {currentProjectorParams.flipHorz = flip;
}</span></td><td> </td><td class="rblock">       void setFlipHorz(bool flip)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the vertical flip status.</td><td> </td><td class="right">       //! Set the vertical flip status.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param flip The new value (true = flipped, false = unflipped).</td><td> </td><td class="right">       //! @param flip The new value (true = flipped, false = unflipped).</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setFlipVert(bool flip)<span class="delete"> {currentProjectorParams.flipVert = flip;
}</span></td><td> </td><td class="rblock">       void setFlipVert(bool flip)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the state of the horizontal flip.</td><td> </td><td class="right">       //! Get the state of the horizontal flip.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @return True if flipped horizontally, else false.</td><td> </td><td class="right">       //! @return True if flipped horizontally, else false.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       bool getFlipHorz(void) const<span class="delete"> {return currentProjectorParams.flipHorz
;}</span></td><td> </td><td class="rblock">       bool getFlipHorz(void) const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the state of the vertical flip.</td><td> </td><td class="right">       //! Get the state of the vertical flip.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @return True if flipped vertically, else false.</td><td> </td><td class="right">       //! @return True if flipped vertically, else false.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       bool getFlipVert(void) const<span class="delete"> {return currentProjectorParams.flipVert
;}</span></td><td> </td><td class="rblock">       bool getFlipVert(void) const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the location used by default at startup</td><td> </td><td class="right">       //! Get the location used by default at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       QString getDefaultLocationID() const<span class="delete"> {return defaultLocationID;}</span></td><td> </td><td class="rblock">       QString getDefaultLocationID() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the location to use by default at startup</td><td> </td><td class="right">       //! Set the location to use by default at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setDefaultLocationID(const QString&amp; id);</td><td> </td><td class="right">       void setDefaultLocationID(const QString&amp; id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the current date in Julian Day</td><td> </td><td class="right">       //! Set the current date in Julian Day</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setJDay(double JD)<span class="delete"> {JDay=JD;}</span></td><td> </td><td class="rblock">       void setJDay(double JD)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current date in Julian Day</td><td> </td><td class="right">       //! Get the current date in Julian Day</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double getJDay() const<span class="delete"> {return JDay;}</span></td><td> </td><td class="rblock">       double getJDay() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the preset sky time in JD</td><td> </td><td class="right">       //! Return the preset sky time in JD</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double getPresetSkyTime() const<span class="delete"> {return presetSkyTime;}</span></td><td> </td><td class="rblock">       double getPresetSkyTime() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the preset sky time from a JD</td><td> </td><td class="right">       //! Set the preset sky time from a JD</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setPresetSkyTime(double d)<span class="delete"> {presetSkyTime=d;}</span></td><td> </td><td class="rblock">       void setPresetSkyTime(double d)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set time speed in JDay/sec</td><td> </td><td class="right">       //! Set time speed in JDay/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setTimeRate(double ts)<span class="delete"> {timeSpeed=ts; emit timeRateChanged(time
Speed);}</span></td><td> </td><td class="rblock">       void setTimeRate(double ts)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get time speed in JDay/sec</td><td> </td><td class="right">       //! Get time speed in JDay/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double getTimeRate() const<span class="delete"> {return timeSpeed;}</span></td><td> </td><td class="rblock">       double getTimeRate() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Increase the time speed</td><td> </td><td class="right">       //! Increase the time speed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void increaseTimeSpeed();</td><td> </td><td class="right">       void increaseTimeSpeed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Decrease the time speed</td><td> </td><td class="right">       //! Decrease the time speed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void decreaseTimeSpeed();</td><td> </td><td class="right">       void decreaseTimeSpeed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Increase the time speed, but not as much as with increaseTimeSpe
ed()</td><td> </td><td class="right">       //! Increase the time speed, but not as much as with increaseTimeSpe
ed()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void increaseTimeSpeedLess();</td><td> </td><td class="right">       void increaseTimeSpeedLess();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Decrease the time speed but not as much as with decreaseTimeSpee
d()</td><td> </td><td class="right">       //! Decrease the time speed but not as much as with decreaseTimeSpee
d()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void decreaseTimeSpeedLess();</td><td> </td><td class="right">       void decreaseTimeSpeedLess();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set time speed to 0, i.e. freeze the passage of simulation time</td><td> </td><td class="right">       //! Set time speed to 0, i.e. freeze the passage of simulation time</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setZeroTimeSpeed()<span class="delete"> {setTimeRate(0);}</span></td><td> </td><td class="rblock">       void setZeroTimeSpeed()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set real time speed, i.e. 1 sec/sec</td><td> </td><td class="right">       //! Set real time speed, i.e. 1 sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setRealTimeSpeed()<span class="delete"> {setTimeRate(JD_SECOND);}</span></td><td> </td><td class="rblock">       void setRealTimeSpeed()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set real time speed or pause simulation if we are already in rea
ltime speed.</td><td> </td><td class="right">       //! Set real time speed or pause simulation if we are already in rea
ltime speed.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void toggleRealTimeSpeed()<span class="delete"> {(!getRealTimeSpeed()) ? setRealTimeSpeed
() : setZeroTimeSpeed();}</span></td><td> </td><td class="rblock">       void toggleRealTimeSpeed()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get whether it is real time speed, i.e. 1 sec/sec</td><td> </td><td class="right">       //! Get whether it is real time speed, i.e. 1 sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       bool getRealTimeSpeed() const<span class="delete"> {return (fabs(timeSpeed-JD_SECOND)&lt;0.0
000001);}</span></td><td> </td><td class="rblock">       bool getRealTimeSpeed() const<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set stellarium time to current real world time</td><td> </td><td class="right">       //! Set stellarium time to current real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setTimeNow();</td><td> </td><td class="right">       void setTimeNow();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the time to some value, leaving the day the same.</td><td> </td><td class="right">       //! Set the time to some value, leaving the day the same.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setTodayTime(const QTime&amp; target);</td><td> </td><td class="right">       void setTodayTime(const QTime&amp; target);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get whether the current stellarium time is the real world time</td><td> </td><td class="right">       //! Get whether the current stellarium time is the real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool getIsTimeNow() const;</td><td> </td><td class="right">       bool getIsTimeNow() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! get the initial "today time" from the config file</td><td> </td><td class="right">       //! get the initial "today time" from the config file</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       QTime getInitTodayTime(void)<span class="delete"> {return initTodayTime;}</span></td><td> </td><td class="rblock">       QTime getInitTodayTime(void)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! set the initial "today time" from the config file</td><td> </td><td class="right">       //! set the initial "today time" from the config file</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setInitTodayTime(const QTime&amp; t)<span class="delete"> {initTodayTime=t;}</span></td><td> </td><td class="rblock">       void setInitTodayTime(const QTime&amp; t)<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the preset sky time from a QDateTime</td><td> </td><td class="right">       //! Set the preset sky time from a QDateTime</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setPresetSkyTime(QDateTime dt);</td><td> </td><td class="right">       void setPresetSkyTime(QDateTime dt);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add one [Earth, solar] hour to the current simulation time.</td><td> </td><td class="right">       //! Add one [Earth, solar] hour to the current simulation time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0045" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void addHour()<span class="delete"> {addSolarDays(0.04166666666666666667);}</span></td><td> </td><td class="rblock">       void addHour()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add one [Earth, solar] day to the current simulation time.</td><td> </td><td class="right">       //! Add one [Earth, solar] day to the current simulation time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0046" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void addDay()<span class="delete"> {addSolarDays(1.0);}</span></td><td> </td><td class="rblock">       void addDay()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add one [Earth, solar] week to the current simulation time.</td><td> </td><td class="right">       //! Add one [Earth, solar] week to the current simulation time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0047" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void addWeek()<span class="delete"> {addSolarDays(7.0);}</span></td><td> </td><td class="rblock">       void addWeek()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add one sidereal day to the simulation time. The length of time 
depends</td><td> </td><td class="right">       //! Add one sidereal day to the simulation time. The length of time 
depends</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! on the current planetary body on which the observer is located.</td><td> </td><td class="right">       //! on the current planetary body on which the observer is located.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0048" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void addSiderealDay()<span class="delete"> {addSiderealDays(1.0);}</span></td><td> </td><td class="rblock">       void addSiderealDay()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add one sidereal week to the simulation time. The length of time
 depends</td><td> </td><td class="right">       //! Add one sidereal week to the simulation time. The length of time
 depends</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! on the current planetary body on which the observer is located.</td><td> </td><td class="right">       //! on the current planetary body on which the observer is located.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0049" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void <span class="delete">addSiderealWeek() {addSiderealDays(7.0);}</span></td><td> </td><td class="rblock">       void <span class="insert">addSiderealWeek();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Add one sidereal month to the simulation time. The length of tim</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">e depends</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! on the current planetary body on which the observer is located.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void addSiderealMonth();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Add one sidereal year to the simulation time. The length of time</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> depends</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! on the current planetary body on which the observer is located.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void addSiderealYear();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Subtract one [Earth, solar] hour to the current simulation time.</td><td> </td><td class="right">       //! Subtract one [Earth, solar] hour to the current simulation time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0050" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void subtractHour()<span class="delete"> {addSolarDays(-0.04166666666666666667);}</span></td><td> </td><td class="rblock">       void subtractHour()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Subtract one [Earth, solar] day to the current simulation time.</td><td> </td><td class="right">       //! Subtract one [Earth, solar] day to the current simulation time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0051" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void subtractDay()<span class="delete"> {addSolarDays(-1.0);}</span></td><td> </td><td class="rblock">       void subtractDay()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Subtract one [Earth, solar] week to the current simulation time.</td><td> </td><td class="right">       //! Subtract one [Earth, solar] week to the current simulation time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0052" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void subtractWeek()<span class="delete"> {addSolarDays(-7.0);}</span></td><td> </td><td class="rblock">       void subtractWeek()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0053" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Subtract one sidereal <span class="delete">week to the simulation time. The length of
 </span>time depends</td><td> </td><td class="rblock">       //! Subtract one sidereal <span class="insert">day to the simulation time. The length of 
</span>time depends</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! on the current planetary body on which the observer is located.</td><td> </td><td class="right">       //! on the current planetary body on which the observer is located.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0054" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void subtractSiderealDay()<span class="delete"> {addSiderealDays(-1.0);}</span></td><td> </td><td class="rblock">       void subtractSiderealDay()<span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Subtract one sidereal week to the simulation time. The length of
 time depends</td><td> </td><td class="right">       //! Subtract one sidereal week to the simulation time. The length of
 time depends</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! on the current planetary body on which the observer is located.</td><td> </td><td class="right">       //! on the current planetary body on which the observer is located.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0055" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void <span class="delete">subtractSiderealWeek() {addSiderealDays(-7.0);}</span></td><td> </td><td class="rblock">       void <span class="insert">subtractSiderealWeek();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Subtract one sidereal month to the simulation time. The length o</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">f time depends</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! on the current planetary body on which the observer is located.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void subtractSiderealMonth();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Subtract one sidereal year to the simulation time. The length of</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> time depends</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! on the current planetary body on which the observer is located.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void subtractSiderealYear();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add a number of Earth Solar days to the current simulation time</td><td> </td><td class="right">       //! Add a number of Earth Solar days to the current simulation time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param d the decimal number of days to add (use negative values 
to subtract)</td><td> </td><td class="right">       //! @param d the decimal number of days to add (use negative values 
to subtract)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void addSolarDays(double d);</td><td> </td><td class="right">       void addSolarDays(double d);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Add a number of sidereal days to the current simulation time,</td><td> </td><td class="right">       //! Add a number of sidereal days to the current simulation time,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! based on the observer body's rotational period.</td><td> </td><td class="right">       //! based on the observer body's rotational period.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param d the decimal number of sidereal days to add (use negativ
e values to subtract)</td><td> </td><td class="right">       //! @param d the decimal number of sidereal days to add (use negativ
e values to subtract)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void addSiderealDays(double d);</td><td> </td><td class="right">       void addSiderealDays(double d);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Move the observer to the selected object. This will only do some
thing if</td><td> </td><td class="right">       //! Move the observer to the selected object. This will only do some
thing if</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 472</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 392</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The currently used projection type</td><td> </td><td class="right">       // The currently used projection type</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ProjectionType currentProjectionType;</td><td> </td><td class="right">       ProjectionType currentProjectionType;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Parameters to use when creating new instances of StelProjector</td><td> </td><td class="right">       // Parameters to use when creating new instances of StelProjector</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelProjector::StelProjectorParams currentProjectorParams;</td><td> </td><td class="right">       StelProjector::StelProjectorParams currentProjectorParams;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void updateTransformMatrices();</td><td> </td><td class="right">       void updateTransformMatrices();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void updateTime(double deltaTime);</td><td> </td><td class="right">       void updateTime(double deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Matrices used for every coordinate transfo</td><td> </td><td class="right">       // Matrices used for every coordinate transfo</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0056" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d matHeliocentricEclipticToAltAz;   // Transform from <span class="delete">heliocentr</span></td><td> </td><td class="rblock">       Mat4d matHeliocentricEclipticToAltAz;      // Transform from <span class="insert">helioce</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ic</span> ecliptic (Vsop87) to observer-centric altazimuthal coordinate</td><td> </td><td class="rblock"><span class="insert">ntric</span> ecliptic (Vsop87) to observer-centric altazimuthal coordinate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d matAltAzToHeliocentricEcliptic;   // Transform from <span class="delete">observer-c</span></td><td> </td><td class="rblock">       Mat4d matAltAzToHeliocentricEcliptic;      // Transform from <span class="insert">observe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">entric</span> altazimuthal coordinate to heliocentric ecliptic (Vsop87)</td><td> </td><td class="rblock"><span class="insert">r-centric</span> altazimuthal coordinate to heliocentric ecliptic (Vsop87)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d matAltAzToEquinoxEqu;                             // Transform</td><td> </td><td class="rblock">       Mat4d matAltAzToEquinoxEqu;                // Transform from <span class="insert">observe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> from <span class="delete">observer-centric</span> altazimuthal coordinate to Earth Equatorial</td><td> </td><td class="rblock"><span class="insert">r-centric</span> altazimuthal coordinate to Earth Equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d matEquinoxEquToAltAz;                             // Transform</td><td> </td><td class="rblock">       Mat4d matEquinoxEquToAltAz;                // Transform from <span class="insert">observe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> from <span class="delete">observer-centric</span> altazimuthal coordinate to Earth Equatorial</td><td> </td><td class="rblock"><span class="insert">r-centric</span> altazimuthal coordinate to Earth Equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matHeliocentricEclipticToEquinoxEqu;//</span> Transform from <span class="delete">heliocen</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matHeliocentricEclipticToEquinoxEqu; //</span> Transform from <span class="insert">helioce</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tric</span> ecliptic (Vsop87) to earth equatorial coordinate</td><td> </td><td class="rblock"><span class="insert">ntric</span> ecliptic (Vsop87) to earth equatorial coordinate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matEquinoxEquToJ2000;</td><td> </td><td class="right">       Mat4d matEquinoxEquToJ2000;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matJ2000ToEquinoxEqu;</td><td> </td><td class="right">       Mat4d matJ2000ToEquinoxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Mat4d matJ2000ToAltAz;</td><td> </td><td class="right">       Mat4d matJ2000ToAltAz;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0057" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d matAltAzModelView;                                // Modelview</td><td> </td><td class="rblock">       Mat4d matAltAzModelView;           // Modelview matrix for <span class="insert">observer-</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> matrix for <span class="delete">observer-centric</span> altazimuthal drawing</td><td> </td><td class="rblock"><span class="insert">centric</span> altazimuthal drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d invertMatAltAzModelView;                  // Inverted <span class="delete">modelvie</span></td><td> </td><td class="rblock">       Mat4d invertMatAltAzModelView;     // Inverted <span class="insert">modelview</span> matrix for </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">w</span> matrix for observer-centric altazimuthal drawing</td><td> </td><td class="rblock">observer-centric altazimuthal drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Position variables</td><td> </td><td class="right">       // Position variables</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelObserver* position;</td><td> </td><td class="right">       StelObserver* position;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The ID of the default startup location</td><td> </td><td class="right">       // The ID of the default startup location</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString defaultLocationID;</td><td> </td><td class="right">       QString defaultLocationID;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Time variables</td><td> </td><td class="right">       // Time variables</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0058" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double timeSpeed;                       // Positive : forward, <span class="delete">Negat</span></td><td> </td><td class="rblock">       double timeSpeed;                  // Positive : forward, <span class="insert">Negative</span> :</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ive</span> : Backward, 1 = 1sec/sec</td><td> </td><td class="rblock"> Backward, 1 = 1sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double JDay;                            // Curent time in Julian day</td><td> </td><td class="rblock">       double JDay;                       // Curent time in Julian day</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double presetSkyTime;</td><td> </td><td class="right">       double presetSkyTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QTime initTodayTime;</td><td> </td><td class="right">       QTime initTodayTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString startupTimeMode;</td><td> </td><td class="right">       QString startupTimeMode;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif // _STELCORE_HPP_</td><td> </td><td class="right">#endif // _STELCORE_HPP_</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 58 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>220 lines changed or deleted</i></th><th><i> </i></th><th><i>106 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
