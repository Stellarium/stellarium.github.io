<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.home 4.4.0-57-generic #78-Ubuntu SMP Fri Dec 9 23:50:32 UTC 2016 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.1.3, API: 1.1 (GNU MPFR 3.1.4, GNU MP 6.1.0) --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: Satellites.cpp - Satellites.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;Satellites.cpp&nbsp;</th><th> </th><th>&nbsp;Satellites.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 80</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 80</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       info.contact = "http://stellarium.org/";</td><td> </td><td class="right">       info.contact = "http://stellarium.org/";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       info.description = N_("Prediction of artificial satellite positions 
in Earth orbit based on NORAD TLE data");</td><td> </td><td class="right">       info.description = N_("Prediction of artificial satellite positions 
in Earth orbit based on NORAD TLE data");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       info.version = SATELLITES_PLUGIN_VERSION;</td><td> </td><td class="right">       info.version = SATELLITES_PLUGIN_VERSION;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return info;</td><td> </td><td class="right">       return info;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Satellites::Satellites()</td><td> </td><td class="right">Satellites::Satellites()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       : satelliteListModel(NULL)</td><td> </td><td class="right">       : satelliteListModel(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , toolbarButton(NULL)</td><td> </td><td class="right">       , toolbarButton(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , earth(NULL)</td><td> </td><td class="right">       , earth(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">defaultHintColor(0.0, 0.4, 0.6)</span></td><td> </td><td class="rblock">       , <span class="insert">defaultHintColor(0.0f, 0.4f, 0.6f)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">defaultOrbitColor(0.0, 0.3, 0.6)</span></td><td> </td><td class="rblock">       , <span class="insert">defaultOrbitColor(0.0f, 0.3f, 0.6f)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , updateState(CompleteNoUpdates)</td><td> </td><td class="right">       , updateState(CompleteNoUpdates)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , downloadMgr(NULL)</td><td> </td><td class="right">       , downloadMgr(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , progressBar(NULL)</td><td> </td><td class="right">       , progressBar(NULL)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , numberDownloadsComplete(0)</td><td> </td><td class="right">       , numberDownloadsComplete(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , updateTimer(0)</td><td> </td><td class="right">       , updateTimer(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , updatesEnabled(false)</td><td> </td><td class="right">       , updatesEnabled(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , autoAddEnabled(false)</td><td> </td><td class="right">       , autoAddEnabled(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , autoRemoveEnabled(false)</td><td> </td><td class="right">       , autoRemoveEnabled(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , updateFrequencyHours(0)</td><td> </td><td class="right">       , updateFrequencyHours(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , messageTimer(0)</td><td> </td><td class="right">       , messageTimer(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 160</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 160</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       toolbarButton = new StelButton(NULL,</td><td> </td><td class="right">                       toolbarButton = new StelButton(NULL,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      QPixmap(":/satellites
/bt_satellites_on.png"),</td><td> </td><td class="right">                                                      QPixmap(":/satellites
/bt_satellites_on.png"),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      QPixmap(":/satellites
/bt_satellites_off.png"),</td><td> </td><td class="right">                                                      QPixmap(":/satellites
/bt_satellites_off.png"),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      QPixmap(":/graphicGui
/glow32x32.png"),</td><td> </td><td class="right">                                                      QPixmap(":/graphicGui
/glow32x32.png"),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                      "actionShow_Satellite
_Hints");</td><td> </td><td class="right">                                                      "actionShow_Satellite
_Hints");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       gui-&gt;getButtonBar()-&gt;addButton(toolbarButton, "065-p
luginsGroup");</td><td> </td><td class="right">                       gui-&gt;getButtonBar()-&gt;addButton(toolbarButton, "065-p
luginsGroup");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       catch (std::runtime_error &amp;e)</td><td> </td><td class="right">       catch (std::runtime_error &amp;e)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::</span>init error: " &lt;&lt; e.what();</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] </span>init error: " &lt;&lt; e.what();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // A timer for hiding alert messages</td><td> </td><td class="right">       // A timer for hiding alert messages</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       messageTimer = new QTimer(this);</td><td> </td><td class="right">       messageTimer = new QTimer(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       messageTimer-&gt;setSingleShot(true);   // recurring check for update</td><td> </td><td class="right">       messageTimer-&gt;setSingleShot(true);   // recurring check for update</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       messageTimer-&gt;setInterval(9000);      // 6 seconds should be enough 
time</td><td> </td><td class="right">       messageTimer-&gt;setInterval(9000);      // 6 seconds should be enough 
time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       messageTimer-&gt;stop();</td><td> </td><td class="right">       messageTimer-&gt;stop();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(messageTimer, SIGNAL(timeout()), this, SLOT(hideMessages()))
;</td><td> </td><td class="right">       connect(messageTimer, SIGNAL(timeout()), this, SLOT(hideMessages()))
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 182</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 182</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(QFileInfo(catalogPath).exists())</td><td> </td><td class="right">       if(QFileInfo(catalogPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!checkJsonFileFormat() || readCatalogVersion() != SATELL
ITES_PLUGIN_VERSION)</td><td> </td><td class="right">               if (!checkJsonFileFormat() || readCatalogVersion() != SATELL
ITES_PLUGIN_VERSION)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       displayMessage(q_("The old satellites.json file is n
o longer compatible - using default file"), "#bb0000");</td><td> </td><td class="right">                       displayMessage(q_("The old satellites.json file is n
o longer compatible - using default file"), "#bb0000");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       restoreDefaultCatalog();</td><td> </td><td class="right">                       restoreDefaultCatalog();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">Satellites::init satellites.json does not exist
 - c</span>opying default file to " &lt;&lt; QDir::toNativeSeparators(catalogPath);</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[Satellites] satellites.json does not exist - c
</span>opying default file to " &lt;&lt; QDir::toNativeSeparators(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               restoreDefaultCatalog();</td><td> </td><td class="right">               restoreDefaultCatalog();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(!QFileInfo(qsMagFilePath).exists())</td><td> </td><td class="right">       if(!QFileInfo(qsMagFilePath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               restoreDefaultQSMagFile();</td><td> </td><td class="right">               restoreDefaultQSMagFile();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       qDebug() &lt;&lt; "<span class="delete">Satellites: loading catalog file:" &lt;&lt; QDir::toNativeSep
</span>arators(catalogPath);</td><td> </td><td class="rblock">       qDebug() &lt;&lt; "<span class="insert">[Satellites] loading catalog file:" &lt;&lt; QDir::toNativeSe
p</span>arators(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // create satellites according to content os satellites.json file</td><td> </td><td class="right">       // create satellites according to content os satellites.json file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       loadCatalog();</td><td> </td><td class="right">       loadCatalog();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Set up download manager and the update schedule</td><td> </td><td class="right">       // Set up download manager and the update schedule</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       downloadMgr = new QNetworkAccessManager(this);</td><td> </td><td class="right">       downloadMgr = new QNetworkAccessManager(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(downloadMgr, SIGNAL(finished(QNetworkReply*)),</td><td> </td><td class="right">       connect(downloadMgr, SIGNAL(finished(QNetworkReply*)),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               this, SLOT(saveDownloadedUpdate(QNetworkReply*)));</td><td> </td><td class="right">               this, SLOT(saveDownloadedUpdate(QNetworkReply*)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateState = CompleteNoUpdates;</td><td> </td><td class="right">       updateState = CompleteNoUpdates;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateTimer = new QTimer(this);</td><td> </td><td class="right">       updateTimer = new QTimer(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateTimer-&gt;setSingleShot(false);   // recurring check for update</td><td> </td><td class="right">       updateTimer-&gt;setSingleShot(false);   // recurring check for update</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateTimer-&gt;setInterval(13000);     // check once every 13 seconds 
to see if it is time for an update</td><td> </td><td class="right">       updateTimer-&gt;setInterval(13000);     // check once every 13 seconds 
to see if it is time for an update</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(updateTimer, SIGNAL(timeout()), this, SLOT(checkForUpdate())
);</td><td> </td><td class="right">       connect(updateTimer, SIGNAL(timeout()), this, SLOT(checkForUpdate())
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateTimer-&gt;start();</td><td> </td><td class="right">       updateTimer-&gt;start();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       earth = GETSTELMODULE(SolarSystem)-&gt;getEarth();</td><td> </td><td class="right">       earth = GETSTELMODULE(SolarSystem)-&gt;getEarth();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       GETSTELMODULE(StelObjectMgr)-&gt;registerStelObjectMgr(this);</td><td> </td><td class="right">       GETSTELMODULE(StelObjectMgr)-&gt;registerStelObjectMgr(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Handle changes to the observer location:</td><td> </td><td class="right">       // Handle changes to the observer location:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       connect(StelApp::getInstance().getCore(),</td><td> </td><td class="rblock">       connect(StelApp::getInstance().getCore(), <span class="insert">SIGNAL(locationChanged(Ste</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">SIGNAL(locationChanged(StelLocation)),</span></td><td> </td><td class="rblock"><span class="insert">lLocation)),</span> this, SLOT(updateObserverLocation(StelLocation)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               this,</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               SLOT(updateObserverLocation(StelLocation)));</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool Satellites::backupCatalog(bool deleteOriginal)</td><td> </td><td class="right">bool Satellites::backupCatalog(bool deleteOriginal)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile old(catalogPath);</td><td> </td><td class="right">       QFile old(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!old.exists())</td><td> </td><td class="right">       if (!old.exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::backupJsonFile no file to backup"
</span>;</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] no file to backup"</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString backupPath = catalogPath + ".old";</td><td> </td><td class="right">       QString backupPath = catalogPath + ".old";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (QFileInfo(backupPath).exists())</td><td> </td><td class="right">       if (QFileInfo(backupPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile(backupPath).remove();</td><td> </td><td class="right">               QFile(backupPath).remove();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (old.copy(backupPath))</td><td> </td><td class="right">       if (old.copy(backupPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (deleteOriginal)</td><td> </td><td class="right">               if (deleteOriginal)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (!old.remove())</td><td> </td><td class="right">                       if (!old.remove())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; "<span class="delete">Satellites: WARNING: unable t
</span>o remove old catalog file!";</td><td> </td><td class="rblock">                               qWarning() &lt;&lt; "<span class="insert">[Satellites] WARNING: unable 
t</span>o remove old catalog file!";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               return false;</td><td> </td><td class="right">                               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites: WARNING: failed to back up catalo
</span>g file as"</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] WARNING: failed to back up catal
o</span>g file as"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                          &lt;&lt; QDir::toNativeSeparators(backupPath);</td><td> </td><td class="right">                          &lt;&lt; QDir::toNativeSeparators(backupPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return true;</td><td> </td><td class="right">       return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">double Satellites::getCallOrder(StelModuleActionName actionName) const</td><td> </td><td class="right">double Satellites::getCallOrder(StelModuleActionName actionName) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (actionName==StelModule::ActionDraw)</td><td> </td><td class="right">       if (actionName==StelModule::ActionDraw)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 299</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 296</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString objw = nameI18n.toUpper();</td><td> </td><td class="right">       QString objw = nameI18n.toUpper();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelObjectP result = searchByNoradNumber(objw);</td><td> </td><td class="right">       StelObjectP result = searchByNoradNumber(objw);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (result)</td><td> </td><td class="right">       if (result)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return result;</td><td> </td><td class="right">               return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach(const SatelliteP&amp; sat, satellites)</td><td> </td><td class="right">       foreach(const SatelliteP&amp; sat, satellites)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (sat-&gt;initialized &amp;&amp; sat-&gt;displayed)</td><td> </td><td class="right">               if (sat-&gt;initialized &amp;&amp; sat-&gt;displayed)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       if (sat-&gt;getNameI18n().toUpper() == <span class="delete">nameI18n</span>)</td><td> </td><td class="rblock">                       if (sat-&gt;getNameI18n().toUpper() == <span class="insert">objw</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               return qSharedPointerCast&lt;StelObject&gt;(sat);</td><td> </td><td class="right">                               return qSharedPointerCast&lt;StelObject&gt;(sat);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return NULL;</td><td> </td><td class="right">       return NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelObjectP Satellites::searchByName(const QString&amp; englishName) const</td><td> </td><td class="right">StelObjectP Satellites::searchByName(const QString&amp; englishName) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!hintFader || StelApp::getInstance().getCore()-&gt;getCurrentLocati
on().planetName != earth-&gt;getEnglishName() || !isValidRangeDates())</td><td> </td><td class="right">       if (!hintFader || StelApp::getInstance().getCore()-&gt;getCurrentLocati
on().planetName != earth-&gt;getEnglishName() || !isValidRangeDates())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 322</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 319</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString objw = englishName.toUpper();</td><td> </td><td class="right">       QString objw = englishName.toUpper();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelObjectP result = searchByNoradNumber(objw);</td><td> </td><td class="right">       StelObjectP result = searchByNoradNumber(objw);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (result)</td><td> </td><td class="right">       if (result)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return result;</td><td> </td><td class="right">               return result;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach(const SatelliteP&amp; sat, satellites)</td><td> </td><td class="right">       foreach(const SatelliteP&amp; sat, satellites)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (sat-&gt;initialized &amp;&amp; sat-&gt;displayed)</td><td> </td><td class="right">               if (sat-&gt;initialized &amp;&amp; sat-&gt;displayed)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       if (sat-&gt;getEnglishName().toUpper() == <span class="delete">englishName</span>)</td><td> </td><td class="rblock">                       if (sat-&gt;getEnglishName().toUpper() == <span class="insert">objw</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               return qSharedPointerCast&lt;StelObject&gt;(sat);</td><td> </td><td class="right">                               return qSharedPointerCast&lt;StelObject&gt;(sat);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return NULL;</td><td> </td><td class="right">       return NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelObjectP Satellites::searchByNoradNumber(const QString &amp;noradNumber) con
st</td><td> </td><td class="right">StelObjectP Satellites::searchByNoradNumber(const QString &amp;noradNumber) con
st</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!hintFader || StelApp::getInstance().getCore()-&gt;getCurrentLocati
on().planetName != earth-&gt;getEnglishName() || !isValidRangeDates())</td><td> </td><td class="right">       if (!hintFader || StelApp::getInstance().getCore()-&gt;getCurrentLocati
on().planetName != earth-&gt;getEnglishName() || !isValidRangeDates())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 517</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 514</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::restoreDefaultCatalog()</td><td> </td><td class="right">void Satellites::restoreDefaultCatalog()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (QFileInfo(catalogPath).exists())</td><td> </td><td class="right">       if (QFileInfo(catalogPath).exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               backupCatalog(true);</td><td> </td><td class="right">               backupCatalog(true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile src(":/satellites/satellites.json");</td><td> </td><td class="right">       QFile src(":/satellites/satellites.json");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!src.copy(catalogPath))</td><td> </td><td class="right">       if (!src.copy(catalogPath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::restoreDefaultJsonFile cannot cop
y json resource to " +</span> QDir::toNativeSeparators(catalogPath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] cannot copy json resource to " +
</span> QDir::toNativeSeparators(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">Satellites::init copied default satellites.json
 to </span>" &lt;&lt; QDir::toNativeSeparators(catalogPath);</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[Satellites] copied default satellites.json to 
</span>" &lt;&lt; QDir::toNativeSeparators(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // The resource is read only, and the new file inherits this
...  make sure the new file</td><td> </td><td class="right">               // The resource is read only, and the new file inherits this
...  make sure the new file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // is writable by the Stellarium process so that updates can
 be done.</td><td> </td><td class="right">               // is writable by the Stellarium process so that updates can
 be done.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile dest(catalogPath);</td><td> </td><td class="right">               QFile dest(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               dest.setPermissions(dest.permissions() | QFile::WriteOwner);</td><td> </td><td class="right">               dest.setPermissions(dest.permissions() | QFile::WriteOwner);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Make sure that in the case where an online update has pre
viously been done, but</td><td> </td><td class="right">               // Make sure that in the case where an online update has pre
viously been done, but</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // the json file has been manually removed, that an update i
s schreduled in a timely</td><td> </td><td class="right">               // the json file has been manually removed, that an update i
s schreduled in a timely</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // manner</td><td> </td><td class="right">               // manner</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelApp::getInstance().getSettings()-&gt;remove("Satellites/las
t_update");</td><td> </td><td class="right">               StelApp::getInstance().getSettings()-&gt;remove("Satellites/las
t_update");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               lastUpdate = QDateTime::fromString("2015-05-01T12:00:00", Qt
::ISODate);</td><td> </td><td class="right">               lastUpdate = QDateTime::fromString("2015-05-01T12:00:00", Qt
::ISODate);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::restoreDefaultQSMagFile()</td><td> </td><td class="right">void Satellites::restoreDefaultQSMagFile()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile src(":/satellites/qs.mag");</td><td> </td><td class="right">       QFile src(":/satellites/qs.mag");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!src.copy(qsMagFilePath))</td><td> </td><td class="right">       if (!src.copy(qsMagFilePath))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::restoreDefaultQSMagFile cannot co
py qs.mag resource to "</span> + QDir::toNativeSeparators(qsMagFilePath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] cannot copy qs.mag resource to "
</span> + QDir::toNativeSeparators(qsMagFilePath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">Satellites::init copied default qs.mag to " &lt;&lt; 
QDir</span>::toNativeSeparators(qsMagFilePath);</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[Satellites] copied default qs.mag to " &lt;&lt; QDir
</span>::toNativeSeparators(qsMagFilePath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // The resource is read only, and the new file inherits this
...  make sure the new file</td><td> </td><td class="right">               // The resource is read only, and the new file inherits this
...  make sure the new file</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // is writable by the Stellarium process so that updates can
 be done.</td><td> </td><td class="right">               // is writable by the Stellarium process so that updates can
 be done.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile dest(qsMagFilePath);</td><td> </td><td class="right">               QFile dest(qsMagFilePath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               dest.setPermissions(dest.permissions() | QFile::WriteOwner);</td><td> </td><td class="right">               dest.setPermissions(dest.permissions() | QFile::WriteOwner);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::loadSettings()</td><td> </td><td class="right">void Satellites::loadSettings()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSettings* conf = StelApp::getInstance().getSettings();</td><td> </td><td class="right">       QSettings* conf = StelApp::getInstance().getSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 675</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 672</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setDataMap(loadDataMap());</td><td> </td><td class="right">       setDataMap(loadDataMap());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">const QString Satellites::readCatalogVersion()</td><td> </td><td class="right">const QString Satellites::readCatalogVersion()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString jsonVersion("unknown");</td><td> </td><td class="right">       QString jsonVersion("unknown");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile satelliteJsonFile(catalogPath);</td><td> </td><td class="right">       QFile satelliteJsonFile(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!satelliteJsonFile.open(QIODevice::ReadOnly))</td><td> </td><td class="right">       if (!satelliteJsonFile.open(QIODevice::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::init cannot open " &lt;&lt; QDir::toNat
iveS</span>eparators(catalogPath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] cannot open " &lt;&lt; QDir::toNativeS
</span>eparators(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return jsonVersion;</td><td> </td><td class="right">               return jsonVersion;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantMap map;</td><td> </td><td class="right">       QVariantMap map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       map = StelJsonParser::parse(&amp;satelliteJsonFile).toMap();</td><td> </td><td class="right">       map = StelJsonParser::parse(&amp;satelliteJsonFile).toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (map.contains("creator"))</td><td> </td><td class="right">       if (map.contains("creator"))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString creator = map.value("creator").toString();</td><td> </td><td class="right">               QString creator = map.value("creator").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QRegExp vRx(".*(\\d+\\.\\d+\\.\\d+).*");</td><td> </td><td class="right">               QRegExp vRx(".*(\\d+\\.\\d+\\.\\d+).*");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (vRx.exactMatch(creator))</td><td> </td><td class="right">               if (vRx.exactMatch(creator))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       jsonVersion = vRx.capturedTexts().at(1);</td><td> </td><td class="right">                       jsonVersion = vRx.capturedTexts().at(1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satelliteJsonFile.close();</td><td> </td><td class="right">       satelliteJsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //qDebug() &lt;&lt; "<span class="delete">Satellites: catalog version from file:" &lt;&lt; jsonVersio
</span>n;</td><td> </td><td class="rblock">       //qDebug() &lt;&lt; "<span class="insert">[Satellites] catalog version from file:" &lt;&lt; jsonVersi
o</span>n;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return jsonVersion;</td><td> </td><td class="right">       return jsonVersion;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool Satellites::saveDataMap(const QVariantMap&amp; map, QString path)</td><td> </td><td class="right">bool Satellites::saveDataMap(const QVariantMap&amp; map, QString path)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (path.isEmpty())</td><td> </td><td class="right">       if (path.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               path = catalogPath;</td><td> </td><td class="right">               path = catalogPath;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile jsonFile(path);</td><td> </td><td class="right">       QFile jsonFile(path);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelJsonParser parser;</td><td> </td><td class="right">       StelJsonParser parser;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (jsonFile.exists())</td><td> </td><td class="right">       if (jsonFile.exists())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               jsonFile.remove();</td><td> </td><td class="right">               jsonFile.remove();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!jsonFile.open(QIODevice::WriteOnly))</td><td> </td><td class="right">       if (!jsonFile.open(QIODevice::WriteOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::saveTleMap() cannot open for writ
ing:" &lt;&lt; QDi</span>r::toNativeSeparators(path);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] cannot open for writing:" &lt;&lt; QDi
</span>r::toNativeSeparators(path);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">Satellites::saveTleMap() writing to:" &lt;&lt; QDir::
toNativeSepa</span>rators(path);</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[Satellites] writing to:" &lt;&lt; QDir::toNativeSepa
</span>rators(path);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               parser.write(map, &amp;jsonFile);</td><td> </td><td class="right">               parser.write(map, &amp;jsonFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               jsonFile.close();</td><td> </td><td class="right">               jsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return true;</td><td> </td><td class="right">               return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QVariantMap Satellites::loadDataMap(QString path)</td><td> </td><td class="right">QVariantMap Satellites::loadDataMap(QString path)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (path.isEmpty())</td><td> </td><td class="right">       if (path.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               path = catalogPath;</td><td> </td><td class="right">               path = catalogPath;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantMap map;</td><td> </td><td class="right">       QVariantMap map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile jsonFile(path);</td><td> </td><td class="right">       QFile jsonFile(path);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!jsonFile.open(QIODevice::ReadOnly))</td><td> </td><td class="right">       if (!jsonFile.open(QIODevice::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::loadTleMap cannot open " &lt;&lt; QDir:
:toNativeS</span>eparators(path);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] cannot open " &lt;&lt; QDir::toNativeS
</span>eparators(path);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               map = StelJsonParser::parse(&amp;jsonFile).toMap();</td><td> </td><td class="right">               map = StelJsonParser::parse(&amp;jsonFile).toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               jsonFile.close();</td><td> </td><td class="right">               jsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return map;</td><td> </td><td class="right">       return map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::setDataMap(const QVariantMap&amp; map)</td><td> </td><td class="right">void Satellites::setDataMap(const QVariantMap&amp; map)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 808</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 805</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (satMap["orbitColor"] == satMap["hintColor"])</td><td> </td><td class="right">               if (satMap["orbitColor"] == satMap["hintColor"])</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       satMap.remove("orbitColor");</td><td> </td><td class="right">                       satMap.remove("orbitColor");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (satMap["hintColor"].toList() == defHintCol)</td><td> </td><td class="right">               if (satMap["hintColor"].toList() == defHintCol)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       satMap.remove("hintColor");</td><td> </td><td class="right">                       satMap.remove("hintColor");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (satMap["stdMag"].toFloat() == 99.f)</td><td> </td><td class="right">               if (satMap["stdMag"].toFloat() == 99.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       satMap.remove("stdMag");</td><td> </td><td class="right">                       satMap.remove("stdMag");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">if (satMap["status"].toInt() == Satellite::StatusUnknown)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       satMap.remove("status");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               sats[sat-&gt;id] = satMap;</td><td> </td><td class="right">               sats[sat-&gt;id] = satMap;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       map["satellites"] = sats;</td><td> </td><td class="right">       map["satellites"] = sats;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return map;</td><td> </td><td class="right">       return map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::markLastUpdate()</td><td> </td><td class="right">void Satellites::markLastUpdate()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       lastUpdate = QDateTime::currentDateTime();</td><td> </td><td class="right">       lastUpdate = QDateTime::currentDateTime();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSettings* conf = StelApp::getInstance().getSettings();</td><td> </td><td class="right">       QSettings* conf = StelApp::getInstance().getSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 916</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 916</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantMap satProperties;</td><td> </td><td class="right">       QVariantMap satProperties;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satProperties.insert("name", tleData.name);</td><td> </td><td class="right">       satProperties.insert("name", tleData.name);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satProperties.insert("tle1", tleData.first);</td><td> </td><td class="right">       satProperties.insert("tle1", tleData.first);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satProperties.insert("tle2", tleData.second);</td><td> </td><td class="right">       satProperties.insert("tle2", tleData.second);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satProperties.insert("hintColor", hintColor);</td><td> </td><td class="right">       satProperties.insert("hintColor", hintColor);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //TODO: Decide if newly added satellites are visible by default --BM</td><td> </td><td class="right">       //TODO: Decide if newly added satellites are visible by default --BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satProperties.insert("visible", true);</td><td> </td><td class="right">       satProperties.insert("visible", true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       satProperties.insert("orbitVisible", false);</td><td> </td><td class="right">       satProperties.insert("orbitVisible", false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (qsMagList.contains(tleData.id))</td><td> </td><td class="right">       if (qsMagList.contains(tleData.id))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satProperties.insert("stdMag", qsMagList[tleData.id]);</td><td> </td><td class="right">               satProperties.insert("stdMag", qsMagList[tleData.id]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">if (tleData.status != Satellite::StatusUnknown)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               satProperties.insert("status", tleData.status);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SatelliteP sat(new Satellite(tleData.id, satProperties));</td><td> </td><td class="right">       SatelliteP sat(new Satellite(tleData.id, satProperties));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (sat-&gt;initialized)</td><td> </td><td class="right">       if (sat-&gt;initialized)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">Satellite added:" &lt;&lt; tleData.id &lt;&lt; tleData.name
</span>;</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[Satellites] satellite added:" &lt;&lt; tleData.id &lt;&lt;
 tleData.name</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satellites.append(sat);</td><td> </td><td class="right">               satellites.append(sat);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               sat-&gt;setNew();</td><td> </td><td class="right">               sat-&gt;setNew();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return true;</td><td> </td><td class="right">               return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return false;</td><td> </td><td class="right">       return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::add(const TleDataList&amp; newSatellites)</td><td> </td><td class="right">void Satellites::add(const TleDataList&amp; newSatellites)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (satelliteListModel)</td><td> </td><td class="right">       if (satelliteListModel)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 947</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 949</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       numAdded++;</td><td> </td><td class="right">                       numAdded++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (numAdded &gt; 0)</td><td> </td><td class="right">       if (numAdded &gt; 0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qSort(satellites);</td><td> </td><td class="right">               qSort(satellites);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (satelliteListModel)</td><td> </td><td class="right">       if (satelliteListModel)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satelliteListModel-&gt;endSatellitesChange();</td><td> </td><td class="right">               satelliteListModel-&gt;endSatellitesChange();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       qDebug() &lt;&lt; <span class="delete">"Satellites:</span> "</td><td> </td><td class="rblock">       qDebug() &lt;&lt; <span class="insert">"[Satellites]</span> "</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                        &lt;&lt; newSatellites.count() &lt;&lt; <span class="delete">"satell</span></td><td> </td><td class="rblock">                &lt;&lt; newSatellites.count() &lt;&lt; <span class="insert">"satellites</span> proposed for <span class="insert">additi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ites</span> proposed for <span class="delete">addition,</span> "</td><td> </td><td class="rblock"><span class="insert">on,</span> "</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                        &lt;&lt; numAdded &lt;&lt; " added, "</td><td> </td><td class="rblock">                &lt;&lt; numAdded &lt;&lt; " added, "</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                        &lt;&lt; satellites.count() &lt;&lt; " total <span class="delete">af</span></td><td> </td><td class="rblock">                &lt;&lt; satellites.count() &lt;&lt; " total <span class="insert">after</span> the operation.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ter</span> the operation.";</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::remove(const QStringList&amp; idList)</td><td> </td><td class="right">void Satellites::remove(const QStringList&amp; idList)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (satelliteListModel)</td><td> </td><td class="right">       if (satelliteListModel)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satelliteListModel-&gt;beginSatellitesChange();</td><td> </td><td class="right">               satelliteListModel-&gt;beginSatellitesChange();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelObjectMgr* objMgr = GETSTELMODULE(StelObjectMgr);</td><td> </td><td class="right">       StelObjectMgr* objMgr = GETSTELMODULE(StelObjectMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int numRemoved = 0;</td><td> </td><td class="right">       int numRemoved = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int i = 0; i &lt; satellites.size(); i++)</td><td> </td><td class="right">       for (int i = 0; i &lt; satellites.size(); i++)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> line 980</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> line 982</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       satellites.removeAt(i);</td><td> </td><td class="right">                       satellites.removeAt(i);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       i--; //Compensate for the change in the array's inde
xing</td><td> </td><td class="right">                       i--; //Compensate for the change in the array's inde
xing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       numRemoved++;</td><td> </td><td class="right">                       numRemoved++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // As the satellite list is kept sorted, no need for re-sorting.</td><td> </td><td class="right">       // As the satellite list is kept sorted, no need for re-sorting.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (satelliteListModel)</td><td> </td><td class="right">       if (satelliteListModel)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satelliteListModel-&gt;endSatellitesChange();</td><td> </td><td class="right">               satelliteListModel-&gt;endSatellitesChange();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       qDebug() &lt;&lt; <span class="delete">"Satellites:</span> "</td><td> </td><td class="rblock">       qDebug() &lt;&lt; <span class="insert">"[Satellites]</span> "</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                        &lt;&lt; idList.count() &lt;&lt; "satellites <span class="delete">pr</span></td><td> </td><td class="rblock">                &lt;&lt; idList.count() &lt;&lt; "satellites <span class="insert">proposed</span> for removal, "</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">oposed</span> for removal, "</td><td> </td><td class="rblock">                &lt;&lt; numRemoved &lt;&lt; " removed, "</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                        &lt;&lt; numRemoved &lt;&lt; " removed, "</td><td> </td><td class="rblock">                &lt;&lt; satellites.count() &lt;&lt; " <span class="insert">remain.";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                        &lt;&lt; satellites.count() &lt;&lt; " <span class="delete">remain."</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">int Satellites::getSecondsToUpdate(void)</td><td> </td><td class="right">int Satellites::getSecondsToUpdate(void)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QDateTime nextUpdate = lastUpdate.addSecs(updateFrequencyHours * 360
0);</td><td> </td><td class="right">       QDateTime nextUpdate = lastUpdate.addSecs(updateFrequencyHours * 360
0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return QDateTime::currentDateTime().secsTo(nextUpdate);</td><td> </td><td class="right">       return QDateTime::currentDateTime().secsTo(nextUpdate);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::setTleSources(QStringList tleSources)</td><td> </td><td class="right">void Satellites::setTleSources(QStringList tleSources)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l12" /><small>skipping to change at</small><em> line 1120</em></th><th> </th><th><a name="part-r12" /><small>skipping to change at</small><em> line 1122</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (updatesEnabled &amp;&amp; updateState != Updating</td><td> </td><td class="right">       if (updatesEnabled &amp;&amp; updateState != Updating</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">           &amp;&amp; lastUpdate.addSecs(updateFrequencyHours * 3600) &lt;= QDateTime:
:currentDateTime())</td><td> </td><td class="right">           &amp;&amp; lastUpdate.addSecs(updateFrequencyHours * 3600) &lt;= QDateTime:
:currentDateTime())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               updateFromOnlineSources();</td><td> </td><td class="right">               updateFromOnlineSources();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::updateFromOnlineSources()</td><td> </td><td class="right">void Satellites::updateFromOnlineSources()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (updateState==Satellites::Updating)</td><td> </td><td class="right">       if (updateState==Satellites::Updating)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites: Internet update already in progre
</span>ss!";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] Internet update already in progr
e</span>ss!";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; "<span class="delete">Satellites:</span> starting Internet update...";</td><td> </td><td class="rblock">               qDebug() &lt;&lt; "<span class="insert">[Satellites]</span> starting Internet update...";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Setting lastUpdate should be done only when the update is finishe
d. -BM</td><td> </td><td class="right">       // Setting lastUpdate should be done only when the update is finishe
d. -BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TODO: Perhaps tie the emptyness of updateUrls to updatesEnabled..
. --BM</td><td> </td><td class="right">       // TODO: Perhaps tie the emptyness of updateUrls to updatesEnabled..
. --BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (updateUrls.isEmpty())</td><td> </td><td class="right">       if (updateUrls.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites:</span> update failed."</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites]</span> update failed."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                          &lt;&lt; "No update sources are defined!";</td><td> </td><td class="right">                          &lt;&lt; "No update sources are defined!";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Prevent from re-entering this method on the next check:</td><td> </td><td class="right">               // Prevent from re-entering this method on the next check:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               markLastUpdate();</td><td> </td><td class="right">               markLastUpdate();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // TODO: Do something saner, such as disabling internet upda
tes,</td><td> </td><td class="right">               // TODO: Do something saner, such as disabling internet upda
tes,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // or stopping the timer. --BM</td><td> </td><td class="right">               // or stopping the timer. --BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               emit updateStateChanged(OtherError);</td><td> </td><td class="right">               emit updateStateChanged(OtherError);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               emit tleUpdateComplete(0, satellites.count(), 0, 0);</td><td> </td><td class="right">               emit tleUpdateComplete(0, satellites.count(), 0, 0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l13" /><small>skipping to change at</small><em> line 1186</em></th><th> </th><th><a name="part-r13" /><small>skipping to change at</small><em> line 1188</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       downloadMgr-&gt;get(QNetworkRequest(source.url));</td><td> </td><td class="right">                       downloadMgr-&gt;get(QNetworkRequest(source.url));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::saveDownloadedUpdate(QNetworkReply* reply)</td><td> </td><td class="right">void Satellites::saveDownloadedUpdate(QNetworkReply* reply)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // check the download worked, and save the data to file if this is t
he case.</td><td> </td><td class="right">       // check the download worked, and save the data to file if this is t
he case.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (reply-&gt;error() != QNetworkReply::NoError)</td><td> </td><td class="right">       if (reply-&gt;error() != QNetworkReply::NoError)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites:</span> FAILED to download"</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites]</span> FAILED to download"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                          &lt;&lt; reply-&gt;url().toString(QUrl::RemoveUserInfo)</td><td> </td><td class="right">                          &lt;&lt; reply-&gt;url().toString(QUrl::RemoveUserInfo)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                          &lt;&lt; "Error:" &lt;&lt; reply-&gt;errorString();</td><td> </td><td class="right">                          &lt;&lt; "Error:" &lt;&lt; reply-&gt;errorString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // download completed successfully.</td><td> </td><td class="right">               // download completed successfully.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString name = QString("tle%1.txt").arg(numberDownloadsCompl
ete);</td><td> </td><td class="right">               QString name = QString("tle%1.txt").arg(numberDownloadsCompl
ete);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString path = dataDir.absoluteFilePath(name);</td><td> </td><td class="right">               QString path = dataDir.absoluteFilePath(name);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // QFile as a child object to the plugin to ease memory mana
gement</td><td> </td><td class="right">               // QFile as a child object to the plugin to ease memory mana
gement</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QFile* tmpFile = new QFile(path, this);</td><td> </td><td class="right">               QFile* tmpFile = new QFile(path, this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l14" /><small>skipping to change at</small><em> line 1221</em></th><th> </th><th><a name="part-r14" /><small>skipping to change at</small><em> line 1223</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       updateSources[i].file = tmpFile;</td><td> </td><td class="right">                                       updateSources[i].file = tmpFile;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       tmpFile = 0;</td><td> </td><td class="right">                                       tmpFile = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       break;</td><td> </td><td class="right">                                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (tmpFile) // Something strange just happened...</td><td> </td><td class="right">                       if (tmpFile) // Something strange just happened...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               delete tmpFile; // ...so we have to clean.</td><td> </td><td class="right">                               delete tmpFile; // ...so we have to clean.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">Satellites: cannot save update file:</span>"</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[Satellites] cannot save update file:
</span>"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                  &lt;&lt; tmpFile-&gt;error()</td><td> </td><td class="right">                                  &lt;&lt; tmpFile-&gt;error()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                  &lt;&lt; tmpFile-&gt;errorString();</td><td> </td><td class="right">                                  &lt;&lt; tmpFile-&gt;errorString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       numberDownloadsComplete++;</td><td> </td><td class="right">       numberDownloadsComplete++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (progressBar)</td><td> </td><td class="right">       if (progressBar)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               progressBar-&gt;setValue(numberDownloadsComplete);</td><td> </td><td class="right">               progressBar-&gt;setValue(numberDownloadsComplete);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Check if all files have been downloaded.</td><td> </td><td class="right">       // Check if all files have been downloaded.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TODO: It's better to keep track of the network requests themselve
s. --BM</td><td> </td><td class="right">       // TODO: It's better to keep track of the network requests themselve
s. --BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l15" /><small>skipping to change at</small><em> line 1333</em></th><th> </th><th><a name="part-r15" /><small>skipping to change at</small><em> line 1335</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::updateSatellites(TleDataHash&amp; newTleSets)</td><td> </td><td class="right">void Satellites::updateSatellites(TleDataHash&amp; newTleSets)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Save the update time.</td><td> </td><td class="right">       // Save the update time.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // One of the reasons it's here is that lastUpdate is used below.</td><td> </td><td class="right">       // One of the reasons it's here is that lastUpdate is used below.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       markLastUpdate();</td><td> </td><td class="right">       markLastUpdate();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (newTleSets.isEmpty())</td><td> </td><td class="right">       if (newTleSets.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites: update files contain no TLE sets!
</span>";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] update files contain no TLE sets
!</span>";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               updateState = OtherError;</td><td> </td><td class="right">               updateState = OtherError;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               emit(updateStateChanged(updateState));</td><td> </td><td class="right">               emit(updateStateChanged(updateState));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (satelliteListModel)</td><td> </td><td class="right">       if (satelliteListModel)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satelliteListModel-&gt;beginSatellitesChange();</td><td> </td><td class="right">               satelliteListModel-&gt;beginSatellitesChange();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Right, we should now have a map of all the elements we downloaded
.  For each satellite</td><td> </td><td class="right">       // Right, we should now have a map of all the elements we downloaded
.  For each satellite</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // which this module is managing, see if it exists with an updated e
lement, and update it if so...</td><td> </td><td class="right">       // which this module is managing, see if it exists with an updated e
lement, and update it if so...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l16" /><small>skipping to change at</small><em> line 1377</em></th><th> </th><th><a name="part-r16" /><small>skipping to change at</small><em> line 1379</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (sat-&gt;tleElements.first != newTle.first ||</td><td> </td><td class="right">                       if (sat-&gt;tleElements.first != newTle.first ||</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                           sat-&gt;tleElements.second != newTle.second ||</td><td> </td><td class="right">                           sat-&gt;tleElements.second != newTle.second ||</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                           sat-&gt;name != newTle.name)</td><td> </td><td class="right">                           sat-&gt;name != newTle.name)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // We have updated TLE elements for this sat
ellite</td><td> </td><td class="right">                               // We have updated TLE elements for this sat
ellite</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               sat-&gt;setNewTleElements(newTle.first, newTle.
second);</td><td> </td><td class="right">                               sat-&gt;setNewTleElements(newTle.first, newTle.
second);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // Update the name if it has been changed in
 the source list</td><td> </td><td class="right">                               // Update the name if it has been changed in
 the source list</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               sat-&gt;name = newTle.name;</td><td> </td><td class="right">                               sat-&gt;name = newTle.name;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                               <span class="insert">// Update operational status</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               sat-&gt;status = newTle.status;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // we reset this to "now" when we started th
e update.</td><td> </td><td class="right">                               // we reset this to "now" when we started th
e update.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               sat-&gt;lastUpdated = lastUpdate;</td><td> </td><td class="right">                               sat-&gt;lastUpdated = lastUpdate;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               updatedCount++;</td><td> </td><td class="right">                               updatedCount++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (qsMagList.contains(id))</td><td> </td><td class="right">                       if (qsMagList.contains(id))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               sat-&gt;stdMag = qsMagList[id];</td><td> </td><td class="right">                               sat-&gt;stdMag = qsMagList[id];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (autoRemoveEnabled)</td><td> </td><td class="right">                       if (autoRemoveEnabled)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               toBeRemoved.append(sat-&gt;id);</td><td> </td><td class="right">                               toBeRemoved.append(sat-&gt;id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qWarning() &lt;&lt; "<span class="delete">Satellites:" &lt;&lt; sat-&gt;id &lt;&lt; sa
</span>t-&gt;name</td><td> </td><td class="rblock">                               qWarning() &lt;&lt; "<span class="insert">[Satellites]" &lt;&lt; sat-&gt;id &lt;&lt; s
a</span>t-&gt;name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                          &lt;&lt; "is missing in the update list
s.";</td><td> </td><td class="right">                                          &lt;&lt; "is missing in the update list
s.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       missingCount++;</td><td> </td><td class="right">                       missingCount++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // All satellites, who has invalid orbit should be removed.</td><td> </td><td class="right">               // All satellites, who has invalid orbit should be removed.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!sat-&gt;orbitValid)</td><td> </td><td class="right">               if (!sat-&gt;orbitValid)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       toBeRemoved.append(sat-&gt;id);</td><td> </td><td class="right">                       toBeRemoved.append(sat-&gt;id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       qWarning() &lt;&lt; "<span class="delete">Satellite</span>" &lt;&lt; sat-&gt;id &lt;&lt; sat-&gt;name</td><td> </td><td class="rblock">                       qWarning() &lt;&lt; "<span class="insert">[Satellites]</span>" &lt;&lt; sat-&gt;id &lt;&lt; sat-&gt;name</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                  &lt;&lt; "has invalid orbit and will be removed
.";</td><td> </td><td class="right">                                  &lt;&lt; "has invalid orbit and will be removed
.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       missingCount++;</td><td> </td><td class="right">                       missingCount++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Only those not in the loaded collection have remained</td><td> </td><td class="right">       // Only those not in the loaded collection have remained</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // (autoAddEnabled is not checked, because it's already in the flags
)</td><td> </td><td class="right">       // (autoAddEnabled is not checked, because it's already in the flags
)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QHash&lt;QString, TleData&gt;::const_iterator i;</td><td> </td><td class="right">       QHash&lt;QString, TleData&gt;::const_iterator i;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (i = newTleSets.begin(); i != newTleSets.end(); ++i)</td><td> </td><td class="right">       for (i = newTleSets.begin(); i != newTleSets.end(); ++i)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l17" /><small>skipping to change at</small><em> line 1421</em></th><th> </th><th><a name="part-r17" /><small>skipping to change at</small><em> line 1426</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // Add the satellite...</td><td> </td><td class="right">                       // Add the satellite...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (add(i.value()))</td><td> </td><td class="right">                       if (add(i.value()))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               addedCount++;</td><td> </td><td class="right">                               addedCount++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (addedCount)</td><td> </td><td class="right">       if (addedCount)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qSort(satellites);</td><td> </td><td class="right">               qSort(satellites);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (autoRemoveEnabled &amp;&amp; !toBeRemoved.isEmpty())</td><td> </td><td class="right">       if (autoRemoveEnabled &amp;&amp; !toBeRemoved.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites: purging objects that were not upd
</span>ated...";</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] purging objects that were not up
d</span>ated...";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               remove(toBeRemoved);</td><td> </td><td class="right">               remove(toBeRemoved);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (updatedCount &gt; 0 ||</td><td> </td><td class="right">       if (updatedCount &gt; 0 ||</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               (autoRemoveEnabled &amp;&amp; missingCount &gt; 0))</td><td> </td><td class="right">               (autoRemoveEnabled &amp;&amp; missingCount &gt; 0))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               saveDataMap(createDataMap());</td><td> </td><td class="right">               saveDataMap(createDataMap());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               updateState = CompleteUpdates;</td><td> </td><td class="right">               updateState = CompleteUpdates;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               updateState = CompleteNoUpdates;</td><td> </td><td class="right">               updateState = CompleteNoUpdates;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (satelliteListModel)</td><td> </td><td class="right">       if (satelliteListModel)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               satelliteListModel-&gt;endSatellitesChange();</td><td> </td><td class="right">               satelliteListModel-&gt;endSatellitesChange();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       qDebug() &lt;&lt; "<span class="delete">Satellites:</span> update finished."</td><td> </td><td class="rblock">       qDebug() &lt;&lt; "<span class="insert">[Satellites]</span> update finished."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                &lt;&lt; updatedCount &lt;&lt; "/" &lt;&lt; totalCount &lt;&lt; "updated,"</td><td> </td><td class="right">                &lt;&lt; updatedCount &lt;&lt; "/" &lt;&lt; totalCount &lt;&lt; "updated,"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                &lt;&lt; addedCount &lt;&lt; "added,"</td><td> </td><td class="right">                &lt;&lt; addedCount &lt;&lt; "added,"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                &lt;&lt; missingCount &lt;&lt; "missing or removed."</td><td> </td><td class="right">                &lt;&lt; missingCount &lt;&lt; "missing or removed."</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                &lt;&lt; sourceCount &lt;&lt; "source entries parsed.";</td><td> </td><td class="right">                &lt;&lt; sourceCount &lt;&lt; "source entries parsed.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       emit(updateStateChanged(updateState));</td><td> </td><td class="right">       emit(updateStateChanged(updateState));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       emit(tleUpdateComplete(updatedCount, totalCount, addedCount, missing
Count));</td><td> </td><td class="right">       emit(tleUpdateComplete(updatedCount, totalCount, addedCount, missing
Count));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::parseTleFile(QFile&amp; openFile,</td><td> </td><td class="right">void Satellites::parseTleFile(QFile&amp; openFile,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l18" /><small>skipping to change at</small><em> line 1468</em></th><th> </th><th><a name="part-r18" /><small>skipping to change at</small><em> line 1473</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       while (!openFile.atEnd())</td><td> </td><td class="right">       while (!openFile.atEnd())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString line = QString(openFile.readLine()).trimmed();</td><td> </td><td class="right">               QString line = QString(openFile.readLine()).trimmed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (line.length() &lt; 65) // this is title line</td><td> </td><td class="right">               if (line.length() &lt; 65) // this is title line</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // New entry in the list, so reset all fields</td><td> </td><td class="right">                       // New entry in the list, so reset all fields</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       lastData = TleData();</td><td> </td><td class="right">                       lastData = TleData();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       lastData.addThis = addFlagValue;</td><td> </td><td class="right">                       lastData.addThis = addFlagValue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0036" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">// The thing in square brackets after the name is ac</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tually</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // Celestrak's "status code". Parse it!</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       QStringList codes;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       codes &lt;&lt; "+" &lt;&lt; "-" &lt;&lt; "P" &lt;&lt; "B" &lt;&lt; "S" &lt;&lt; "X" &lt;&lt; "</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">D" &lt;&lt; "?";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       QRegExp statusRx("\\s*\\[(\\D{1})\\]\\s*$");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       statusRx.setMinimal(true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       if (statusRx.indexIn(line)&gt;-1)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               lastData.status = Satellite::StatusUnknown;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               switch (codes.indexOf(statusRx.capturedTexts</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">().at(1).toUpper()))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       case 0:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusOperational;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       case 1:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusNonoperational;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       case 2:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusPartiallyOperational;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       case 3:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusStandby;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       case 4:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusSpare;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       case 5:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusExtendedMission;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       case 6:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusDecayed;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       default:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               lastData.status = Satellite:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">:StatusUnknown;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //TODO: We need to think of some kind of ecaping the
se</td><td> </td><td class="right">                       //TODO: We need to think of some kind of ecaping the
se</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       //characters in the JSON parser. --BM</td><td> </td><td class="right">                       //characters in the JSON parser. --BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0037" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       <span class="delete">// The thing in square brackets after the name is ac</span></td><td> </td><td class="rblock">                       line.replace(QRegExp("\\s*\\[([^\\]])*\\]\\s*$"),"")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">tually</span></td><td> </td><td class="rblock">;  // remove <span class="insert">"status code" from name</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       // Celestrak's "status code". Parse automatically? -</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">-BM</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       line.replace(QRegExp("\\s*\\[([^\\]])*\\]\\s*$"),"")</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">;  // remove <span class="delete">things in square brackets</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       lastData.name = line;</td><td> </td><td class="right">                       lastData.name = line;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // TODO: Yet another place suitable for a standard T
LE regex. --BM</td><td> </td><td class="right">                       // TODO: Yet another place suitable for a standard T
LE regex. --BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (QRegExp("^1 .*").exactMatch(line))</td><td> </td><td class="right">                       if (QRegExp("^1 .*").exactMatch(line))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               lastData.first = line;</td><td> </td><td class="right">                               lastData.first = line;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else if (QRegExp("^2 .*").exactMatch(line))</td><td> </td><td class="right">                       else if (QRegExp("^2 .*").exactMatch(line))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               lastData.second = line;</td><td> </td><td class="right">                               lastData.second = line;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // The Satellite Catalog Number is the secon
d number</td><td> </td><td class="right">                               // The Satellite Catalog Number is the secon
d number</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // on the second line.</td><td> </td><td class="right">                               // on the second line.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               QString id = line.split(' ').at(1).trimmed()
;</td><td> </td><td class="right">                               QString id = line.split(' ').at(1).trimmed()
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (id.isEmpty())</td><td> </td><td class="right">                               if (id.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       continue;</td><td> </td><td class="right">                                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               lastData.id = id;</td><td> </td><td class="right">                               lastData.id = id;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // This is the second line and there will be
 no more,</td><td> </td><td class="right">                               // This is the second line and there will be
 no more,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // so if everything is OK, save the elements
.</td><td> </td><td class="right">                               // so if everything is OK, save the elements
.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0038" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               if (!lastData.name.isEmpty() &amp;&amp;</td><td> </td><td class="rblock">                               if (!lastData.name.isEmpty() &amp;&amp; <span class="insert">!lastData.fi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                               <span class="delete">!lastData.first.isEmpty())</span></td><td> </td><td class="rblock"><span class="insert">rst.isEmpty())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // Some satellites can be listed in 
multiple files,</td><td> </td><td class="right">                                       // Some satellites can be listed in 
multiple files,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // and only some of those files may 
be marked for adding,</td><td> </td><td class="right">                                       // and only some of those files may 
be marked for adding,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // so try to preserve the flag - if 
it's set,</td><td> </td><td class="right">                                       // so try to preserve the flag - if 
it's set,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // feel free to overwrite the existi
ng value.</td><td> </td><td class="right">                                       // feel free to overwrite the existi
ng value.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // If not, overwrite only if it's no
t in the list already.</td><td> </td><td class="right">                                       // If not, overwrite only if it's no
t in the list already.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // NOTE: Second case overwrite may n
eed to check which TLE set is newer.</td><td> </td><td class="right">                                       // NOTE: Second case overwrite may n
eed to check which TLE set is newer.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if (lastData.addThis || !tleList.con
tains(id))</td><td> </td><td class="right">                                       if (lastData.addThis || !tleList.con
tains(id))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               tleList.insert(id, lastData)
; // Overwrite if necessary</td><td> </td><td class="right">                                               tleList.insert(id, lastData)
; // Overwrite if necessary</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               }</td><td> </td><td class="right">                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               //TODO: Error warnings? --BM</td><td> </td><td class="right">                               //TODO: Error warnings? --BM</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0039" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               qDebug() &lt;&lt; "<span class="delete">Satellites: unprocessed line " 
&lt;&lt; lineNumber &lt;&lt;  " in file " &lt;&lt; QDir::toNativeSeparators(openFile.fileName
</span>());</td><td> </td><td class="rblock">                               qDebug() &lt;&lt; "<span class="insert">[Satellites] unprocessed line "
 &lt;&lt; lineNumber &lt;&lt;  " in file " &lt;&lt; QDir::toNativeSeparators(openFile.fileNam
e</span>());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Satellites::parseQSMagFile(QString qsMagFile)</td><td> </td><td class="right">void Satellites::parseQSMagFile(QString qsMagFile)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Description of file and some additional information you can find 
here:</td><td> </td><td class="right">       // Description of file and some additional information you can find 
here:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // 1) http://www.prismnet.com/~mmccants/tles/mccdesc.html</td><td> </td><td class="right">       // 1) http://www.prismnet.com/~mmccants/tles/mccdesc.html</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // 2) http://www.prismnet.com/~mmccants/tles/intrmagdef.html</td><td> </td><td class="right">       // 2) http://www.prismnet.com/~mmccants/tles/intrmagdef.html</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (qsMagFile.isEmpty())</td><td> </td><td class="right">       if (qsMagFile.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile qsmFile(qsMagFile);</td><td> </td><td class="right">       QFile qsmFile(qsMagFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!qsmFile.open(QIODevice::ReadOnly))</td><td> </td><td class="right">       if (!qsmFile.open(QIODevice::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0040" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites: oops... cannot open " &lt;&lt; QDir::to
</span>NativeSeparators(qsMagFile);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] oops... cannot open " &lt;&lt; QDir::t
o</span>NativeSeparators(qsMagFile);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qsMagList.clear();</td><td> </td><td class="right">       qsMagList.clear();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       while (!qsmFile.atEnd())</td><td> </td><td class="right">       while (!qsmFile.atEnd())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString line = QString(qsmFile.readLine());</td><td> </td><td class="right">               QString line = QString(qsmFile.readLine());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString id   = line.mid(0,5).trimmed();</td><td> </td><td class="right">               QString id   = line.mid(0,5).trimmed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString smag = line.mid(33,4).trimmed();</td><td> </td><td class="right">               QString smag = line.mid(33,4).trimmed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!smag.isEmpty())</td><td> </td><td class="right">               if (!smag.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l19" /><small>skipping to change at</small><em> line 1621</em></th><th> </th><th><a name="part-r19" /><small>skipping to change at</small><em> line 1661</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               painter.drawSprite2dMode(screenpos[0]+size/2, screenpos[1]+s
ize/2, 20, -90);</td><td> </td><td class="right">               painter.drawSprite2dMode(screenpos[0]+size/2, screenpos[1]+s
ize/2, 20, -90);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               painter.drawSprite2dMode(screenpos[0]+size/2, screenpos[1]-s
ize/2, 20, -180);</td><td> </td><td class="right">               painter.drawSprite2dMode(screenpos[0]+size/2, screenpos[1]-s
ize/2, 20, -180);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool Satellites::checkJsonFileFormat()</td><td> </td><td class="right">bool Satellites::checkJsonFileFormat()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFile jsonFile(catalogPath);</td><td> </td><td class="right">       QFile jsonFile(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!jsonFile.open(QIODevice::ReadOnly))</td><td> </td><td class="right">       if (!jsonFile.open(QIODevice::ReadOnly))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0041" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qWarning() &lt;&lt; "<span class="delete">Satellites::checkJsonFileFormat(): cannot ope
n " &lt;&lt; QDir::toNativeS</span>eparators(catalogPath);</td><td> </td><td class="rblock">               qWarning() &lt;&lt; "<span class="insert">[Satellites] cannot open " &lt;&lt; QDir::toNativeS
</span>eparators(catalogPath);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QVariantMap map;</td><td> </td><td class="right">       QVariantMap map;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       try</td><td> </td><td class="right">       try</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               map = StelJsonParser::parse(&amp;jsonFile).toMap();</td><td> </td><td class="right">               map = StelJsonParser::parse(&amp;jsonFile).toMap();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               jsonFile.close();</td><td> </td><td class="right">               jsonFile.close();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       catch (std::runtime_error&amp; e)</td><td> </td><td class="right">       catch (std::runtime_error&amp; e)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0042" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; <span class="delete">"Satellites::checkJsonFileFormat():</span> file format </td><td> </td><td class="rblock">               qDebug() &lt;&lt; <span class="insert">"[Satellites]</span> file format is wrong!";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">is wrong!";</td><td> </td><td class="rblock">               qDebug() &lt;&lt; <span class="insert">"[Satellites]</span> error:" &lt;&lt; <span class="insert">e.what();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               qDebug() &lt;&lt; <span class="delete">"Satellites::checkJsonFileFormat()</span> error:" &lt;&lt; <span class="delete">e.</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">what();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return false;</td><td> </td><td class="right">               return false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return true;</td><td> </td><td class="right">       return true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool Satellites::isValidRangeDates() const</td><td> </td><td class="right">bool Satellites::isValidRangeDates() const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool ok;</td><td> </td><td class="right">       bool ok;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l20" /><small>skipping to change at</small><em> line 1694</em></th><th> </th><th><a name="part-r20" /><small>skipping to change at</small><em> line 1734</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               double lat = pos.latitude();</td><td> </td><td class="right">                               double lat = pos.latitude();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               double lon = M_PI - pos.longitude();</td><td> </td><td class="right">                               double lon = M_PI - pos.longitude();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               double v =   sat.data()-&gt;getVMagnitude(pcore
);</td><td> </td><td class="right">                               double v =   sat.data()-&gt;getVMagnitude(pcore
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               double angle =  sat.data()-&gt;sunReflAngle;</td><td> </td><td class="right">                               double angle =  sat.data()-&gt;sunReflAngle;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (angle&gt;0 &amp;&amp; angle&lt;2)</td><td> </td><td class="right">                               if (angle&gt;0 &amp;&amp; angle&lt;2)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       if (angle&gt;angle0 &amp;&amp; (v&lt;1) &amp;&amp; lat&gt;5*M
_PI/180)</td><td> </td><td class="right">                                       if (angle&gt;angle0 &amp;&amp; (v&lt;1) &amp;&amp; lat&gt;5*M
_PI/180)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       {</td><td> </td><td class="right">                                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               IridiumFlaresPrediction flar
e;</td><td> </td><td class="right">                                               IridiumFlaresPrediction flar
e;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0043" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                               flare.datetime = StelUtils::
julianDayToISO8601String(currentJD+dt+Stel<span class="delete">Utils::getGMTShiftFromQT(currentJ
</span>D+dt)/24.f);</td><td> </td><td class="rblock">                                               flare.datetime = StelUtils::
julianDayToISO8601String(currentJD+dt+Stel<span class="insert">App::getInstance().getCore()-&gt;get
UTCOffset(currentJ</span>D+dt)/24.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               flare.satellite = sat.data()
-&gt;getEnglishName();</td><td> </td><td class="right">                                               flare.satellite = sat.data()
-&gt;getEnglishName();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               flare.azimuth   = lon;</td><td> </td><td class="right">                                               flare.azimuth   = lon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               flare.altitude  = lat;</td><td> </td><td class="right">                                               flare.altitude  = lat;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               flare.magnitude = v;</td><td> </td><td class="right">                                               flare.magnitude = v;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               predictions.append(flare);</td><td> </td><td class="right">                                               predictions.append(flare);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               dt +=0.005;</td><td> </td><td class="right">                                               dt +=0.005;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       }</td><td> </td><td class="right">                                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       angle0 = angle;</td><td> </td><td class="right">                                       angle0 = angle;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l21" /><small>skipping to change at</small><em> line 1776</em></th><th> </th><th><a name="part-r21" /><small>skipping to change at</small><em> line 1816</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       */</td><td> </td><td class="right">       */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Satellite descriptions - bright and/or famous objects</td><td> </td><td class="right">       // Satellite descriptions - bright and/or famous objects</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Just A FEW objects please! (I'm looking at you, Alex!)</td><td> </td><td class="right">       // Just A FEW objects please! (I'm looking at you, Alex!)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TRANSLATORS: Satellite description. "Hubble" is a person's name.</td><td> </td><td class="right">       // TRANSLATORS: Satellite description. "Hubble" is a person's name.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       N_("The Hubble Space Telescope");</td><td> </td><td class="right">       N_("The Hubble Space Telescope");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TRANSLATORS: Satellite description.</td><td> </td><td class="right">       // TRANSLATORS: Satellite description.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       N_("The International Space Station");</td><td> </td><td class="right">       N_("The International Space Station");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // TRANSLATORS: Satellite description.</td><td> </td><td class="right">       // TRANSLATORS: Satellite description.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       N_("China's first space station");</td><td> </td><td class="right">       N_("China's first space station");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0044" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">// TRANSLATORS: Satellite description.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("The russian space radio telescope RadioAstron");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TRANSLATORS: Satellite description.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("International Gamma-Ray Astrophysics Laboratory");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TRANSLATORS: Satellite description.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("The Gamma-Ray Observatory");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // Satellite names - a few famous objects only</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TRANSLATORS: Satellite name: International Space Station</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("ISS (ZARYA)");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TRANSLATORS: Satellite name: Hubble Space Telescope</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("HST");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TRANSLATORS: Satellite name: Spektr-R Space Observatory (or Radio</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Astron)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("SPEKTR-R");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TRANSLATORS: Satellite name: International Gamma-Ray Astrophysics</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> Laboratory (INTEGRAL)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("INTEGRAL");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // TRANSLATORS: China's first space station name</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       N_("TIANGONG 1");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 44 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>62 lines changed or deleted</i></th><th><i> </i></th><th><i>129 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
