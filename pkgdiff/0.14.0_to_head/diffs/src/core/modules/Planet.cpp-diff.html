<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-70-generic #113-Ubuntu SMP Mon Nov 16 18:34:13 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: Planet.cpp - Planet.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;Planet.cpp&nbsp;</th><th> </th><th>&nbsp;Planet.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 54</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 54</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDebug&gt;</td><td> </td><td class="right">#include &lt;QDebug&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QVarLengthArray&gt;</td><td> </td><td class="right">#include &lt;QVarLengthArray&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QOpenGLContext&gt;</td><td> </td><td class="right">#include &lt;QOpenGLContext&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QOpenGLShader&gt;</td><td> </td><td class="right">#include &lt;QOpenGLShader&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3f Planet::labelColor = Vec3f(0.4,0.4,0.8);</td><td> </td><td class="right">Vec3f Planet::labelColor = Vec3f(0.4,0.4,0.8);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Vec3f Planet::orbitColor = Vec3f(1,0.6,1);</td><td> </td><td class="right">Vec3f Planet::orbitColor = Vec3f(1,0.6,1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelTextureSP Planet::hintCircleTex;</td><td> </td><td class="right">StelTextureSP Planet::hintCircleTex;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelTextureSP Planet::texEarthShadow;</td><td> </td><td class="right">StelTextureSP Planet::texEarthShadow;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">bool Planet::permanentDrawingOrbits = false;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QOpenGLShaderProgram* Planet::planetShaderProgram=NULL;</td><td> </td><td class="right">QOpenGLShaderProgram* Planet::planetShaderProgram=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Planet::PlanetShaderVars Planet::planetShaderVars;</td><td> </td><td class="right">Planet::PlanetShaderVars Planet::planetShaderVars;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QOpenGLShaderProgram* Planet::ringPlanetShaderProgram=NULL;</td><td> </td><td class="right">QOpenGLShaderProgram* Planet::ringPlanetShaderProgram=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Planet::RingPlanetShaderVars Planet::ringPlanetShaderVars;</td><td> </td><td class="right">Planet::RingPlanetShaderVars Planet::ringPlanetShaderVars;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QOpenGLShaderProgram* Planet::moonShaderProgram=NULL;</td><td> </td><td class="right">QOpenGLShaderProgram* Planet::moonShaderProgram=NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Planet::MoonShaderVars Planet::moonShaderVars;</td><td> </td><td class="right">Planet::MoonShaderVars Planet::moonShaderVars;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QMap&lt;Planet::PlanetType, QString&gt; Planet::pTypeMap;</td><td> </td><td class="right">QMap&lt;Planet::PlanetType, QString&gt; Planet::pTypeMap;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QMap&lt;Planet::ApparentMagnitudeAlgorithm, QString&gt; Planet::vMagAlgorithmMap;</td><td> </td><td class="right">QMap&lt;Planet::ApparentMagnitudeAlgorithm, QString&gt; Planet::vMagAlgorithmMap;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 202</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 204</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return nameI18;</td><td> </td><td class="right">       return nameI18;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Return the information string "ready to print" :)</td><td> </td><td class="right">// Return the information string "ready to print" :)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QString Planet::getInfoString(const StelCore* core, const InfoStringGroup&amp; 
flags) const</td><td> </td><td class="right">QString Planet::getInfoString(const StelCore* core, const InfoStringGroup&amp; 
flags) const</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString str;</td><td> </td><td class="right">       QString str;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QTextStream oss(&amp;str);</td><td> </td><td class="right">       QTextStream oss(&amp;str);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double az_app, alt_app;</td><td> </td><td class="right">       double az_app, alt_app;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelUtils::rectToSphe(&amp;az_app,&amp;alt_app,getAltAzPosApparent(core));</td><td> </td><td class="right">       StelUtils::rectToSphe(&amp;az_app,&amp;alt_app,getAltAzPosApparent(core));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       bool withDecimalDegree = StelApp::getInstance().getFlagShowDecimalDe
grees();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_UNUSED(az_app);</td><td> </td><td class="right">       Q_UNUSED(az_app);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;Name)</td><td> </td><td class="right">       if (flags&amp;Name)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss &lt;&lt; "&lt;h2&gt;" &lt;&lt; getNameI18n();  // UI translation can diffe
r from sky translation</td><td> </td><td class="right">               oss &lt;&lt; "&lt;h2&gt;" &lt;&lt; getNameI18n();  // UI translation can diffe
r from sky translation</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss.setRealNumberNotation(QTextStream::FixedNotation);</td><td> </td><td class="right">               oss.setRealNumberNotation(QTextStream::FixedNotation);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss.setRealNumberPrecision(1);</td><td> </td><td class="right">               oss.setRealNumberPrecision(1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (sphereScale != 1.f)</td><td> </td><td class="right">               if (sphereScale != 1.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       oss &lt;&lt; QString::fromUtf8(" (\xC3\x97") &lt;&lt; sphereScal
e &lt;&lt; ")";</td><td> </td><td class="right">                       oss &lt;&lt; QString::fromUtf8(" (\xC3\x97") &lt;&lt; sphereScal
e &lt;&lt; ")";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss &lt;&lt; "&lt;/h2&gt;";</td><td> </td><td class="right">               oss &lt;&lt; "&lt;/h2&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 275</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 278</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss &lt;&lt; "&lt;br&gt;";</td><td> </td><td class="right">               oss &lt;&lt; "&lt;br&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;Size)</td><td> </td><td class="right">       if (flags&amp;Size)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double angularSize = 2.*getAngularSize(core)*M_PI/180.;</td><td> </td><td class="right">               double angularSize = 2.*getAngularSize(core)*M_PI/180.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (rings)</td><td> </td><td class="right">               if (rings)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       double withoutRings = 2.*getSpheroidAngularSize(core
)*M_PI/180.;</td><td> </td><td class="right">                       double withoutRings = 2.*getSpheroidAngularSize(core
)*M_PI/180.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; q_("Apparent diameter: %1, with <span class="delete">rings:</span> %2")</td><td> </td><td class="rblock">                       <span class="insert">if (withDecimalDegree)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                              <span class="delete">.arg(StelUtils::radToDmsStr(withoutRings, tru</span></td><td> </td><td class="rblock">                               oss &lt;&lt; q_("Apparent diameter: %1, with <span class="insert">rings</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e),</span></td><td> </td><td class="rblock"><span class="insert">:</span> %2")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                                   StelUtils::radToDmsStr(angularSize, true</span></td><td> </td><td class="rblock">                                      <span class="insert">.arg(StelUtils::radToDecDegStr(withou</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">));</span></td><td> </td><td class="rblock"><span class="insert">tRings,4,false,true),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                           StelUtils::radToDecDegStr(angula</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rSize,4,false,true));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               oss &lt;&lt; q_("Apparent diameter: %1, with rings</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">: %2")</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                      .arg(StelUtils::radToDmsStr(withoutRi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ngs, true),</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                           StelUtils::radToDmsStr(angularSi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ze, true));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; q_("Apparent diameter: <span class="delete">%1").arg(StelUtils::ra</span></td><td> </td><td class="rblock">                       <span class="insert">if (withDecimalDegree)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">dToDmsStr(angularSize,</span> true));</td><td> </td><td class="rblock">                               oss &lt;&lt; q_("Apparent diameter: <span class="insert">%1").arg(StelU</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tils::radToDecDegStr(angularSize,5,false,true));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               oss &lt;&lt; q_("Apparent diameter: %1").arg(StelU</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">tils::radToDmsStr(angularSize,</span> true));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               oss &lt;&lt; "&lt;br&gt;";</td><td> </td><td class="right">               oss &lt;&lt; "&lt;br&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double siderealPeriod = getSiderealPeriod();</td><td> </td><td class="right">       double siderealPeriod = getSiderealPeriod();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double siderealDay = getSiderealDay();</td><td> </td><td class="right">       double siderealDay = getSiderealDay();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flags&amp;Extra)</td><td> </td><td class="right">       if (flags&amp;Extra)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // This is a string you can activate for debugging. It shows
 the distance between observer and center of the body you are standing on.</td><td> </td><td class="right">               // This is a string you can activate for debugging. It shows
 the distance between observer and center of the body you are standing on.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // May be helpful for debugging critical parallax correction
s for eclipses.</td><td> </td><td class="right">               // May be helpful for debugging critical parallax correction
s for eclipses.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 325</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 336</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       StelUtils::radToDecDeg(elongation, sign, deg);</td><td> </td><td class="right">                       StelUtils::radToDecDeg(elongation, sign, deg);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (deg&gt;=357.5 &amp;&amp; deg&lt;=2.5)</td><td> </td><td class="right">                       if (deg&gt;=357.5 &amp;&amp; deg&lt;=2.5)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               phase = q_("New Moon");</td><td> </td><td class="right">                               phase = q_("New Moon");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (deg&gt;=87.5 &amp;&amp; deg&lt;=92.5)</td><td> </td><td class="right">                       if (deg&gt;=87.5 &amp;&amp; deg&lt;=92.5)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               phase = q_("Last Quarter");</td><td> </td><td class="right">                               phase = q_("Last Quarter");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (deg&gt;=177.5 &amp;&amp; deg&lt;=182.5)</td><td> </td><td class="right">                       if (deg&gt;=177.5 &amp;&amp; deg&lt;=182.5)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               phase = q_("Full Moon");</td><td> </td><td class="right">                               phase = q_("Full Moon");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (deg&gt;=267.5 &amp;&amp; deg&lt;=272.5)</td><td> </td><td class="right">                       if (deg&gt;=267.5 &amp;&amp; deg&lt;=272.5)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               phase = q_("First Quarter");</td><td> </td><td class="right">                               phase = q_("First Quarter");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; QString(q_("Phase Angle: <span class="delete">%1")).arg(StelUtils:</span></td><td> </td><td class="rblock">                       <span class="insert">if (withDecimalDegree)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">:radToDmsStr(getPhaseAngle(observerHelioPos)))</span> &lt;&lt; "&lt;br&gt;";</td><td> </td><td class="rblock"><span class="insert">                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       oss &lt;&lt; QString(q_("Elongation: <span class="delete">%1")).arg(StelUtils::</span></td><td> </td><td class="rblock">                               oss &lt;&lt; QString(q_("Phase Angle: <span class="insert">%1")).arg(St</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">radToDmsStr(elongation))</span> &lt;&lt; "&lt;br&gt;";</td><td> </td><td class="rblock"><span class="insert">elUtils::radToDecDegStr(getPhaseAngle(observerHelioPos),4,false,true)) &lt;&lt; "</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">&lt;br&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               oss &lt;&lt; QString(q_("Elongation: %1")).arg(Ste</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">lUtils::radToDecDegStr(elongation,4,false,true)) &lt;&lt; "&lt;br&gt;";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               oss &lt;&lt; QString(q_("Phase Angle: %1")).arg(St</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">elUtils::radToDmsStr(getPhaseAngle(observerHelioPos)))</span> &lt;&lt; "&lt;br&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                               oss &lt;&lt; QString(q_("Elongation: <span class="insert">%1")).arg(Ste</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">lUtils::radToDmsStr(elongation))</span> &lt;&lt; "&lt;br&gt;";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (englishName=="Moon" &amp;&amp; !phase.isEmpty())</td><td> </td><td class="right">                       if (englishName=="Moon" &amp;&amp; !phase.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if (qRound(deg)==180.f || qRound(deg)==90.f 
|| qRound(deg)==270.f || qRound(deg)==0.f)</td><td> </td><td class="right">                               if (qRound(deg)==180.f || qRound(deg)==90.f 
|| qRound(deg)==270.f || qRound(deg)==0.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       phase = QString("%1 (&lt;b&gt;%2&lt;/b&gt;)").ar
g(getPhase(observerHelioPos), 0, 'f', 2).arg(phase);</td><td> </td><td class="right">                                       phase = QString("%1 (&lt;b&gt;%2&lt;/b&gt;)").ar
g(getPhase(observerHelioPos), 0, 'f', 2).arg(phase);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               else</td><td> </td><td class="right">                               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       phase = QString("%1 (%2)").arg(getPh
ase(observerHelioPos), 0, 'f', 2).arg(phase);</td><td> </td><td class="right">                                       phase = QString("%1 (%2)").arg(getPh
ase(observerHelioPos), 0, 'f', 2).arg(phase);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               phase = QString("%1").arg(getPhase(observerH
elioPos), 0, 'f', 2);</td><td> </td><td class="right">                               phase = QString("%1").arg(getPhase(observerH
elioPos), 0, 'f', 2);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 502</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 521</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       res.append(planet.data());</td><td> </td><td class="right">                       res.append(planet.data());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (willCastShadow(this, parent.data()))</td><td> </td><td class="right">       if (willCastShadow(this, parent.data()))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               res.append(parent.data());</td><td> </td><td class="right">               res.append(parent.data());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return res;</td><td> </td><td class="right">       return res;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Planet::computePosition(const double dateJDE)</td><td> </td><td class="right">void Planet::computePosition(const double dateJDE)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       // Make sure the parent position is computed for the <span class="delete">dateJD, otherwi</span></td><td> </td><td class="rblock">       // Make sure the parent position is computed for the <span class="insert">dateJDE, otherw</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">se</span></td><td> </td><td class="rblock"><span class="insert">ise</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       // getHeliocentricPos() would return <span class="delete">incorect</span> values.</td><td> </td><td class="rblock">       // getHeliocentricPos() would return <span class="insert">incorrect</span> values.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (parent)</td><td> </td><td class="right">       if (parent)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               parent-&gt;computePositionWithoutOrbits(dateJDE);</td><td> </td><td class="right">               parent-&gt;computePositionWithoutOrbits(dateJDE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (orbitFader.getInterstate()&gt;0.000001 &amp;&amp; deltaOrbitJDE &gt; 0 &amp;&amp; (fab
s(lastOrbitJDE-dateJDE)&gt;deltaOrbitJDE || !orbitCached))</td><td> </td><td class="right">       if (orbitFader.getInterstate()&gt;0.000001 &amp;&amp; deltaOrbitJDE &gt; 0 &amp;&amp; (fab
s(lastOrbitJDE-dateJDE)&gt;deltaOrbitJDE || !orbitCached))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelCore *core=StelApp::getInstance().getCore();</td><td> </td><td class="right">               StelCore *core=StelApp::getInstance().getCore();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double calc_date;</td><td> </td><td class="right">               double calc_date;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // int delta_points = (int)(0.5 + (date - lastOrbitJD)/date_
increment);</td><td> </td><td class="right">               // int delta_points = (int)(0.5 + (date - lastOrbitJD)/date_
increment);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               int delta_points;</td><td> </td><td class="right">               int delta_points;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 525</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 544</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if( dateJDE &gt; lastOrbitJDE )</td><td> </td><td class="right">               if( dateJDE &gt; lastOrbitJDE )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       delta_points = (int)(0.5 + (dateJDE - lastOrbitJDE)/
deltaOrbitJDE);</td><td> </td><td class="right">                       delta_points = (int)(0.5 + (dateJDE - lastOrbitJDE)/
deltaOrbitJDE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       delta_points = (int)(-0.5 + (dateJDE - lastOrbitJDE)
/deltaOrbitJDE);</td><td> </td><td class="right">                       delta_points = (int)(-0.5 + (dateJDE - lastOrbitJDE)
/deltaOrbitJDE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               double new_date = lastOrbitJDE + delta_points*deltaOrbitJDE;</td><td> </td><td class="right">               double new_date = lastOrbitJDE + delta_points*deltaOrbitJDE;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               // qDebug( "Updating orbit coordinates for %s (delta %f) (%d
 points)\n", getEnglishName().toUtf8().data(), deltaOrbitJD<span class="delete">, delta_points)</span>;</td><td> </td><td class="rblock">               // qDebug( "Updating orbit coordinates for %s (delta %f) (%d
 points)\n", getEnglishName().toUtf8().data(), deltaOrbitJD<span class="insert">E, delta_points)
</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if( delta_points &gt; 0 &amp;&amp; delta_points &lt; ORBIT_SEGMENTS &amp;&amp; orb
itCached)</td><td> </td><td class="right">               if( delta_points &gt; 0 &amp;&amp; delta_points &lt; ORBIT_SEGMENTS &amp;&amp; orb
itCached)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       for( int d=0; d&lt;ORBIT_SEGMENTS; d++ )</td><td> </td><td class="right">                       for( int d=0; d&lt;ORBIT_SEGMENTS; d++ )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               if(d + delta_points &gt;= ORBIT_SEGMENTS )</td><td> </td><td class="right">                               if(d + delta_points &gt;= ORBIT_SEGMENTS )</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       // calculate new points</td><td> </td><td class="right">                                       // calculate new points</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       calc_date = new_date + (d-ORBIT_SEGM
ENTS/2)*deltaOrbitJDE;</td><td> </td><td class="right">                                       calc_date = new_date + (d-ORBIT_SEGM
ENTS/2)*deltaOrbitJDE;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 1158</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 1177</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       draw3dModel(core, transfo, 1024, true);</td><td> </td><td class="right">                       draw3dModel(core, transfo, 1024, true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               return;</td><td> </td><td class="right">               return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Compute the 2D position and check if in the screen</td><td> </td><td class="right">       // Compute the 2D position and check if in the screen</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const StelProjectorP prj = core-&gt;getProjection(transfo);</td><td> </td><td class="right">       const StelProjectorP prj = core-&gt;getProjection(transfo);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float screenSz = getAngularSize(core)*M_PI/180.*prj-&gt;getPixelPerRadA
tCenter();</td><td> </td><td class="right">       float screenSz = getAngularSize(core)*M_PI/180.*prj-&gt;getPixelPerRadA
tCenter();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float viewport_left = prj-&gt;getViewportPosX();</td><td> </td><td class="right">       float viewport_left = prj-&gt;getViewportPosX();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float viewport_bottom = prj-&gt;getViewportPosY();</td><td> </td><td class="right">       float viewport_bottom = prj-&gt;getViewportPosY();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(prj-&gt;project(Vec3d(0),</span> screenPos)</td><td> </td><td class="rblock">       if <span class="insert">((prj-&gt;project(Vec3d(0),</span> screenPos)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           &amp;&amp; screenPos[1]&gt;viewport_bottom - screenSz &amp;&amp; screenPos[1] &lt; <span class="delete">vie</span></td><td> </td><td class="rblock">            &amp;&amp; screenPos[1]&gt;viewport_bottom - screenSz &amp;&amp; screenPos[1] &lt; <span class="insert">vi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">wport_bottom</span> + prj-&gt;getViewportHeight()+screenSz</td><td> </td><td class="rblock"><span class="insert">ewport_bottom</span> + prj-&gt;getViewportHeight()+screenSz</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">           &amp;&amp; screenPos[0]&gt;viewport_left - screenSz &amp;&amp; screenPos[0] &lt; <span class="delete">viewp</span></td><td> </td><td class="rblock">            &amp;&amp; screenPos[0]&gt;viewport_left - screenSz &amp;&amp; screenPos[0] &lt; <span class="insert">view</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ort_left</span> + prj-&gt;getViewportWidth() + screenSz)</td><td> </td><td class="rblock"><span class="insert">port_left</span> + prj-&gt;getViewportWidth() + screenSz)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">            <span class="insert">|| permanentDrawingOrbits)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Draw the name, and the circle if it's not too close from 
the body it's turning around</td><td> </td><td class="right">               // Draw the name, and the circle if it's not too close from 
the body it's turning around</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // this prevents name overlapping (e.g. for Jupiter's satell
ites)</td><td> </td><td class="right">               // this prevents name overlapping (e.g. for Jupiter's satell
ites)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               float ang_dist = 300.f*atan(getEclipticPos().length()/getEqu
inoxEquatorialPos(core).length())/core-&gt;getMovementMgr()-&gt;getCurrentFov();</td><td> </td><td class="right">               float ang_dist = 300.f*atan(getEclipticPos().length()/getEqu
inoxEquatorialPos(core).length())/core-&gt;getMovementMgr()-&gt;getCurrentFov();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (ang_dist==0.f)</td><td> </td><td class="right">               if (ang_dist==0.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ang_dist = 1.f; // if ang_dist == 0, the Planet is s
un..</td><td> </td><td class="right">                       ang_dist = 1.f; // if ang_dist == 0, the Planet is s
un..</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // by putting here, only draw orbit if Planet is visible for
 clarity</td><td> </td><td class="right">               // by putting here, only draw orbit if Planet is visible for
 clarity</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               drawOrbit(core);  // TODO - fade in here also...</td><td> </td><td class="right">               drawOrbit(core);  // TODO - fade in here also...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 8 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>20 lines changed or deleted</i></th><th><i> </i></th><th><i>48 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
