<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-73-generic #116-Ubuntu SMP Fri Dec 4 15:31:30 UTC 2015 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: OBJ.cpp - OBJ.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;OBJ.cpp&nbsp;</th><th> </th><th>&nbsp;OBJ.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 316</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 316</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qint64 secondPassTime = timer.restart();</td><td> </td><td class="right">       qint64 secondPassTime = timer.restart();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Find bounding extrema</td><td> </td><td class="right">       //Find bounding extrema</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       findBounds();</td><td> </td><td class="right">       findBounds();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qint64 boundTime = timer.restart();</td><td> </td><td class="right">       qint64 boundTime = timer.restart();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Create vertex normals if specified or required</td><td> </td><td class="right">       //Create vertex normals if specified or required</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if(rebuildNormals)</td><td> </td><td class="rblock">       if(rebuildNormals<span class="insert"> || !hasNormals()</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               generateNormals();</td><td> </td><td class="right">               generateNormals();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">else</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               if(!hasNormals())</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">                       generateNormals();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Create tangents</td><td> </td><td class="right">       //Create tangents</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       generateTangents();</td><td> </td><td class="right">       generateTangents();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qint64 normalTime = timer.elapsed();</td><td> </td><td class="right">       qint64 normalTime = timer.elapsed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //Loaded</td><td> </td><td class="right">       //Loaded</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDebug() &lt;&lt; "[OBJ] Loaded OBJ successfully: " &lt;&lt; qtFile-&gt;fileName();</td><td> </td><td class="right">       qDebug() &lt;&lt; "[OBJ] Loaded OBJ successfully: " &lt;&lt; qtFile-&gt;fileName();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDebug() &lt;&lt; "[OBJ] Triangles#: " &lt;&lt; m_numberOfTriangles;</td><td> </td><td class="right">       qDebug() &lt;&lt; "[OBJ] Triangles#: " &lt;&lt; m_numberOfTriangles;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDebug() &lt;&lt; "[OBJ] Vertices#: " &lt;&lt; m_numberOfVertexCoords&lt;&lt;" unique 
/ "&lt;&lt; m_vertexArray.size()&lt;&lt;" total";</td><td> </td><td class="right">       qDebug() &lt;&lt; "[OBJ] Vertices#: " &lt;&lt; m_numberOfVertexCoords&lt;&lt;" unique 
/ "&lt;&lt; m_vertexArray.size()&lt;&lt;" total";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 557</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 552</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void OBJ::generateNormals()</td><td> </td><td class="right">void OBJ::generateNormals()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const unsigned int *pTriangle = 0;</td><td> </td><td class="right">       const unsigned int *pTriangle = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vertex *pVertex0 = 0;</td><td> </td><td class="right">       Vertex *pVertex0 = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vertex *pVertex1 = 0;</td><td> </td><td class="right">       Vertex *pVertex1 = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vertex *pVertex2 = 0;</td><td> </td><td class="right">       Vertex *pVertex2 = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float edge1[3] = {0.0f, 0.0f, 0.0f};</td><td> </td><td class="right">       float edge1[3] = {0.0f, 0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float edge2[3] = {0.0f, 0.0f, 0.0f};</td><td> </td><td class="right">       float edge2[3] = {0.0f, 0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float normal[3] = {0.0f, 0.0f, 0.0f};</td><td> </td><td class="right">       float normal[3] = {0.0f, 0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       float length = 0.0f;</td><td> </td><td class="rblock">       float <span class="insert">inv</span>length = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int totalVertices = getNumberOfVertices();</td><td> </td><td class="right">       int totalVertices = getNumberOfVertices();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int totalTriangles = getNumberOfTriangles();</td><td> </td><td class="right">       int totalTriangles = getNumberOfTriangles();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Initialize all the vertex normals.</td><td> </td><td class="right">       // Initialize all the vertex normals.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int i=0; i&lt;totalVertices; ++i)</td><td> </td><td class="right">       for (int i=0; i&lt;totalVertices; ++i)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0 = &amp;m_vertexArray[i];</td><td> </td><td class="right">               pVertex0 = &amp;m_vertexArray[i];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;normal[0] = 0.0f;</td><td> </td><td class="right">               pVertex0-&gt;normal[0] = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;normal[1] = 0.0f;</td><td> </td><td class="right">               pVertex0-&gt;normal[1] = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;normal[2] = 0.0f;</td><td> </td><td class="right">               pVertex0-&gt;normal[2] = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 612</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 607</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex2-&gt;normal[0] += normal[0];</td><td> </td><td class="right">               pVertex2-&gt;normal[0] += normal[0];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex2-&gt;normal[1] += normal[1];</td><td> </td><td class="right">               pVertex2-&gt;normal[1] += normal[1];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex2-&gt;normal[2] += normal[2];</td><td> </td><td class="right">               pVertex2-&gt;normal[2] += normal[2];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Normalize the vertex normals.</td><td> </td><td class="right">       // Normalize the vertex normals.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int i=0; i&lt;totalVertices; ++i)</td><td> </td><td class="right">       for (int i=0; i&lt;totalVertices; ++i)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0 = &amp;m_vertexArray[i];</td><td> </td><td class="right">               pVertex0 = &amp;m_vertexArray[i];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">length</span> = 1.0f / <span class="delete">sqrtf(pVertex0-&gt;normal[0]*pVertex0-&gt;normal[0</span></td><td> </td><td class="rblock">               <span class="insert">invlength</span> = 1.0f / <span class="insert">sqrt(pVertex0-&gt;normal[0]*pVertex0-&gt;normal</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">]</span> +</td><td> </td><td class="rblock"><span class="insert">[0]</span> +</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                     <span class="delete">pVertex0-&gt;normal[1]*pVertex0-&gt;normal[1</span></td><td> </td><td class="rblock">                                       <span class="insert">pVertex0-&gt;normal[1]*pVertex0-&gt;normal</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">]</span> +</td><td> </td><td class="rblock"><span class="insert">[1]</span> +</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                     <span class="delete">pVertex0-&gt;normal[2]*pVertex0-&gt;normal[2</span></td><td> </td><td class="rblock">                                       <span class="insert">pVertex0-&gt;normal[2]*pVertex0-&gt;normal</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">]);</span></td><td> </td><td class="rblock"><span class="insert">[2]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               pVertex0-&gt;normal[0] *= <span class="delete">length;</span></td><td> </td><td class="rblock">               pVertex0-&gt;normal[0] *= <span class="insert">invlength;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               pVertex0-&gt;normal[1] *= <span class="delete">length;</span></td><td> </td><td class="rblock">               pVertex0-&gt;normal[1] *= <span class="insert">invlength;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               pVertex0-&gt;normal[2] *= <span class="delete">length;</span></td><td> </td><td class="rblock">               pVertex0-&gt;normal[2] *= <span class="insert">invlength;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       m_hasNormals = true;</td><td> </td><td class="right">       m_hasNormals = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void OBJ::generateTangents()</td><td> </td><td class="right">void OBJ::generateTangents()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const unsigned int *pTriangle = 0;</td><td> </td><td class="right">       const unsigned int *pTriangle = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vertex *pVertex0 = 0;</td><td> </td><td class="right">       Vertex *pVertex0 = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vertex *pVertex1 = 0;</td><td> </td><td class="right">       Vertex *pVertex1 = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vertex *pVertex2 = 0;</td><td> </td><td class="right">       Vertex *pVertex2 = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float edge1[3] = {0.0f, 0.0f, 0.0f};</td><td> </td><td class="right">       float edge1[3] = {0.0f, 0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float edge2[3] = {0.0f, 0.0f, 0.0f};</td><td> </td><td class="right">       float edge2[3] = {0.0f, 0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float texEdge1[2] = {0.0f, 0.0f};</td><td> </td><td class="right">       float texEdge1[2] = {0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float texEdge2[2] = {0.0f, 0.0f};</td><td> </td><td class="right">       float texEdge2[2] = {0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float tangent[3] = {0.0f, 0.0f, 0.0f};</td><td> </td><td class="right">       float tangent[3] = {0.0f, 0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float bitangent[3] = {0.0f, 0.0f, 0.0f};</td><td> </td><td class="right">       float bitangent[3] = {0.0f, 0.0f, 0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float det = 0.0f;</td><td> </td><td class="right">       float det = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float nDotT = 0.0f;</td><td> </td><td class="right">       float nDotT = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float bDotB = 0.0f;</td><td> </td><td class="right">       float bDotB = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       float length = 0.0f;</td><td> </td><td class="rblock">       float <span class="insert">inv</span>length = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int totalVertices = getNumberOfVertices();</td><td> </td><td class="right">       int totalVertices = getNumberOfVertices();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int totalTriangles = getNumberOfTriangles();</td><td> </td><td class="right">       int totalTriangles = getNumberOfTriangles();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Initialize all the vertex tangents and bitangents.</td><td> </td><td class="right">       // Initialize all the vertex tangents and bitangents.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int i=0; i&lt;totalVertices; ++i)</td><td> </td><td class="right">       for (int i=0; i&lt;totalVertices; ++i)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0 = &amp;m_vertexArray[i];</td><td> </td><td class="right">               pVertex0 = &amp;m_vertexArray[i];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;tangent[0] = 0.0f;</td><td> </td><td class="right">               pVertex0-&gt;tangent[0] = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;tangent[1] = 0.0f;</td><td> </td><td class="right">               pVertex0-&gt;tangent[1] = 0.0f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 749</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 744</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               nDotT = pVertex0-&gt;normal[0]*pVertex0-&gt;tangent[0] +</td><td> </td><td class="right">               nDotT = pVertex0-&gt;normal[0]*pVertex0-&gt;tangent[0] +</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       pVertex0-&gt;normal[1]*pVertex0-&gt;tangent[1] +</td><td> </td><td class="right">                       pVertex0-&gt;normal[1]*pVertex0-&gt;tangent[1] +</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       pVertex0-&gt;normal[2]*pVertex0-&gt;tangent[2];</td><td> </td><td class="right">                       pVertex0-&gt;normal[2]*pVertex0-&gt;tangent[2];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;tangent[0] -= pVertex0-&gt;normal[0]*nDotT;</td><td> </td><td class="right">               pVertex0-&gt;tangent[0] -= pVertex0-&gt;normal[0]*nDotT;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;tangent[1] -= pVertex0-&gt;normal[1]*nDotT;</td><td> </td><td class="right">               pVertex0-&gt;tangent[1] -= pVertex0-&gt;normal[1]*nDotT;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               pVertex0-&gt;tangent[2] -= pVertex0-&gt;normal[2]*nDotT;</td><td> </td><td class="right">               pVertex0-&gt;tangent[2] -= pVertex0-&gt;normal[2]*nDotT;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Normalize the tangent.</td><td> </td><td class="right">               // Normalize the tangent.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               <span class="delete">length = 1.0f / sqrtf(pVertex0-&gt;tangent[0]*pVertex0-&gt;tangent
</span>[0] +</td><td> </td><td class="rblock">               <span class="insert">invlength = 1.0f / sqrtf(pVertex0-&gt;tangent[0]*pVertex0-&gt;tang
ent</span>[0] +</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                     pVertex0-&gt;tangent[1]*pVertex0-&gt;tangent
[1] +</td><td> </td><td class="right">                                     pVertex0-&gt;tangent[1]*pVertex0-&gt;tangent
[1] +</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                     pVertex0-&gt;tangent[2]*pVertex0-&gt;tangent
[2]);</td><td> </td><td class="right">                                     pVertex0-&gt;tangent[2]*pVertex0-&gt;tangent
[2]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               pVertex0-&gt;tangent[0] *= <span class="delete">length;</span></td><td> </td><td class="rblock">               pVertex0-&gt;tangent[0] *= <span class="insert">invlength;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               pVertex0-&gt;tangent[1] *= <span class="delete">length;</span></td><td> </td><td class="rblock">               pVertex0-&gt;tangent[1] *= <span class="insert">invlength;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               pVertex0-&gt;tangent[2] *= <span class="delete">length;</span></td><td> </td><td class="rblock">               pVertex0-&gt;tangent[2] *= <span class="insert">invlength;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Calculate the handedness of the local tangent space.</td><td> </td><td class="right">               // Calculate the handedness of the local tangent space.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // The bitangent vector is the cross product between the tri
angle face</td><td> </td><td class="right">               // The bitangent vector is the cross product between the tri
angle face</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // normal vector and the calculated tangent vector. The resu
lting</td><td> </td><td class="right">               // normal vector and the calculated tangent vector. The resu
lting</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // bitangent vector should be the same as the bitangent vect
or</td><td> </td><td class="right">               // bitangent vector should be the same as the bitangent vect
or</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // calculated from the set of linear equations above. If the
y point in</td><td> </td><td class="right">               // calculated from the set of linear equations above. If the
y point in</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // different directions then we need to invert the cross pro
duct</td><td> </td><td class="right">               // different directions then we need to invert the cross pro
duct</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // calculated bitangent vector. We store this scalar multipl
ier in the</td><td> </td><td class="right">               // calculated bitangent vector. We store this scalar multipl
ier in the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // tangent vector's 'w' component so that the correct bitang
ent vector</td><td> </td><td class="right">               // tangent vector's 'w' component so that the correct bitang
ent vector</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // can be generated in the normal mapping shader's vertex sh
ader.</td><td> </td><td class="right">               // can be generated in the normal mapping shader's vertex sh
ader.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 930</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 925</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       AttributeVector attributeArray(m_numberOfTriangles);</td><td> </td><td class="right">       AttributeVector attributeArray(m_numberOfTriangles);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       PosVector vertexCoords(m_numberOfVertexCoords);</td><td> </td><td class="right">       PosVector vertexCoords(m_numberOfVertexCoords);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       VF2Vector textureCoords(m_numberOfTextureCoords);</td><td> </td><td class="right">       VF2Vector textureCoords(m_numberOfTextureCoords);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       VF3Vector normals(m_numberOfNormals);</td><td> </td><td class="right">       VF3Vector normals(m_numberOfNormals);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       VertCacheT vertexCache;</td><td> </td><td class="right">       VertCacheT vertexCache;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #define ADD_ATTRIB addFaceAttrib(attributeArray,numTriangles,activeM
aterial,activeObject);</td><td> </td><td class="right">       #define ADD_ATTRIB addFaceAttrib(attributeArray,numTriangles,activeM
aterial,activeObject);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       float fTmp[3] = {0.0f};</td><td> </td><td class="right">       float fTmp[3] = {0.0f};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double dTmp[3] = {0.0};</td><td> </td><td class="right">       double dTmp[3] = {0.0};</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Vec3f tmpNrm;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       while (fscanf(pFile, "%s", buffer) != EOF)</td><td> </td><td class="right">       while (fscanf(pFile, "%s", buffer) != EOF)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               switch (buffer[0])</td><td> </td><td class="right">               switch (buffer[0])</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       case 'f': //! v, v//vn, v/vt, or v/vt/vn.</td><td> </td><td class="right">                       case 'f': //! v, v//vn, v/vt, or v/vt/vn.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               v[0]  = v[1]  = v[2]  = 0;</td><td> </td><td class="right">                               v[0]  = v[1]  = v[2]  = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               vt[0] = vt[1] = vt[2] = 0;</td><td> </td><td class="right">                               vt[0] = vt[1] = vt[2] = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               vn[0] = vn[1] = vn[2] = 0;</td><td> </td><td class="right">                               vn[0] = vn[1] = vn[2] = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 1114</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 1110</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               break;</td><td> </td><td class="right">                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       case 'v': //! v, vn, or vt.</td><td> </td><td class="right">                       case 'v': //! v, vn, or vt.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               switch (buffer[1])</td><td> </td><td class="right">                               switch (buffer[1])</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               {</td><td> </td><td class="right">                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       case '\0': //! v</td><td> </td><td class="right">                                       case '\0': //! v</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               fscanf(pFile, "%lf %lf %lf",
 &amp;dTmp[0], &amp;dTmp[1], &amp;dTmp[2]);</td><td> </td><td class="right">                                               fscanf(pFile, "%lf %lf %lf",
 &amp;dTmp[0], &amp;dTmp[1], &amp;dTmp[2]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               switch(order)</td><td> </td><td class="right">                                               switch(order)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               {</td><td> </td><td class="right">                                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                       <span class="insert">case XYZ:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               vertexCoords</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">[numVertices] = VPos(dTmp[0],dTmp[1],dTmp[2]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                       case XZY:</td><td> </td><td class="right">                                                       case XZY:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               vertexCoords
[numVertices] = VPos(dTmp[0],-dTmp[2],dTmp[1]);</td><td> </td><td class="right">                                                               vertexCoords
[numVertices] = VPos(dTmp[0],-dTmp[2],dTmp[1]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               break;</td><td> </td><td class="right">                                                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock">                                                       <span class="insert">case YXZ:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                       default: <span class="delete">//! XYZ</span></td><td> </td><td class="rblock"><span class="insert">                                                               vertexCoords</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">[numVertices] = VPos(dTmp[1],dTmp[0],dTmp[2]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                       case YZX:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               vertexCoords</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">[numVertices] = VPos(dTmp[1],dTmp[2],dTmp[0]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                       case ZXY:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               vertexCoords</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">[numVertices] = VPos(dTmp[2],dTmp[0],dTmp[1]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                       case ZYX:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               vertexCoords</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">[numVertices] = VPos(dTmp[2],dTmp[1],dTmp[0]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                       default:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                               <span class="insert">Q_ASSERT(0);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               qDebug() &lt;&lt; </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">"OBJ::importSecondPass() vertex order not implemented. assuming XYZ.";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               vertexCoords
[numVertices] = VPos(dTmp[0],dTmp[1],dTmp[2]);</td><td> </td><td class="right">                                                               vertexCoords
[numVertices] = VPos(dTmp[0],dTmp[1],dTmp[2]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               break;</td><td> </td><td class="right">                                                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               }</td><td> </td><td class="right">                                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               ++numVertices;</td><td> </td><td class="right">                                               ++numVertices;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               break;</td><td> </td><td class="right">                                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       case 'n': //! vn</td><td> </td><td class="right">                                       case 'n': //! vn</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               fscanf(pFile, "%f %f %f", &amp;f
Tmp[0], &amp;fTmp[1], &amp;fTmp[2]);</td><td> </td><td class="right">                                               fscanf(pFile, "%f %f %f", &amp;f
Tmp[0], &amp;fTmp[1], &amp;fTmp[2]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               switch(order)</td><td> </td><td class="right">                                               switch(order)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               {</td><td> </td><td class="right">                                               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                       <span class="insert">// Only the first tw</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">o are known in practice.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                       case XYZ:</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               tmpNrm.set(f</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Tmp[0],fTmp[1],fTmp[2]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               break;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                       case XZY:</td><td> </td><td class="right">                                                       case XZY:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                               <span class="delete">normals[numN
ormals] = Vec3f(f</span>Tmp[0], -fTmp[2], fTmp[1]);</td><td> </td><td class="rblock">                                                               <span class="insert">tmpNrm.set(f
</span>Tmp[0], -fTmp[2], fTmp[1]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               break;</td><td> </td><td class="right">                                                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock">                                                       default: <span class="insert">// all othe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                       default: <span class="delete">//!</span> XYZ</td><td> </td><td class="rblock"><span class="insert">rs: complain, but process as</span> XYZ</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                               <span class="delete">normals[numN</span></td><td> </td><td class="rblock">                                                               <span class="insert">qDebug() &lt;&lt; </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ormals] = Vec3f(fTmp[0],fTmp[1],fTmp[2]);</span></td><td> </td><td class="rblock"><span class="insert">"OBJ::importSecondPass() vertex order for normals not implemented. assuming</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"> XYZ.";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                               tmpNrm.set(f</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Tmp[0],fTmp[1],fTmp[2]);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                               break;</td><td> </td><td class="right">                                                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               }</td><td> </td><td class="right">                                               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                               <span class="insert">tmpNrm.normalize();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                               normals[numNormals] = tmpNrm</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               ++numNormals;</td><td> </td><td class="right">                                               ++numNormals;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               break;</td><td> </td><td class="right">                                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       case 't': //! vt</td><td> </td><td class="right">                                       case 't': //! vt</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               fscanf(pFile, "%f %f", &amp;fTmp
[0], &amp;fTmp[1]);</td><td> </td><td class="right">                                               fscanf(pFile, "%f %f", &amp;fTmp
[0], &amp;fTmp[1]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               textureCoords[numTexCoords] 
= Vec2f(fTmp[0],fTmp[1]);</td><td> </td><td class="right">                                               textureCoords[numTexCoords] 
= Vec2f(fTmp[0],fTmp[1]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               ++numTexCoords;</td><td> </td><td class="right">                                               ++numTexCoords;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               break;</td><td> </td><td class="right">                                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       default:</td><td> </td><td class="right">                                       default:</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 14 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>29 lines changed or deleted</i></th><th><i> </i></th><th><i>59 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
