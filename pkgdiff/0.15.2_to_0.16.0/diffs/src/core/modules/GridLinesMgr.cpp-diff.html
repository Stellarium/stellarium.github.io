<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.home 4.4.0-80-generic #101-Ubuntu SMP Thu Jun 8 15:35:06 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.1.3, API: 1.1 (GNU MPFR 3.1.4, GNU MP 6.1.0) --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: GridLinesMgr.cpp - GridLinesMgr.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;GridLinesMgr.cpp&nbsp;</th><th> </th><th>&nbsp;GridLinesMgr.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 27</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 27</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Foundation, Inc., 51 Franklin Street, Suite 500, Boston, MA  02110-1335,
 USA.</td><td> </td><td class="right"> * Foundation, Inc., 51 Franklin Street, Suite 500, Boston, MA  02110-1335,
 USA.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> */</td><td> </td><td class="right"> */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "GridLinesMgr.hpp"</td><td> </td><td class="right">#include "GridLinesMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelApp.hpp"</td><td> </td><td class="right">#include "StelApp.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelUtils.hpp"</td><td> </td><td class="right">#include "StelUtils.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTranslator.hpp"</td><td> </td><td class="right">#include "StelTranslator.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelProjector.hpp"</td><td> </td><td class="right">#include "StelProjector.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelFader.hpp"</td><td> </td><td class="right">#include "StelFader.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "Planet.hpp"</td><td> </td><td class="right">#include "Planet.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include "SolarSystem.hpp"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelLocaleMgr.hpp"</td><td> </td><td class="right">#include "StelLocaleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelModuleMgr.hpp"</td><td> </td><td class="right">#include "StelModuleMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelCore.hpp"</td><td> </td><td class="right">#include "StelCore.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelPainter.hpp"</td><td> </td><td class="right">#include "StelPainter.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelSkyDrawer.hpp"</td><td> </td><td class="right">#include "StelSkyDrawer.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTextureMgr.hpp"</td><td> </td><td class="right">#include "StelTextureMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelFileMgr.hpp"</td><td> </td><td class="right">#include "StelFileMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "precession.h"</td><td> </td><td class="right">#include "precession.h"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;set&gt;</td><td> </td><td class="right">#include &lt;set&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 144</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 145</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setColor(const Vec3f&amp; c) {color = c;}</td><td> </td><td class="right">       void setColor(const Vec3f&amp; c) {color = c;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const Vec3f&amp; getColor() {return color;}</td><td> </td><td class="right">       const Vec3f&amp; getColor() {return color;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void update(double deltaTime) {fader.update((int)(deltaTime*1000));}</td><td> </td><td class="right">       void update(double deltaTime) {fader.update((int)(deltaTime*1000));}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setFadeDuration(float duration) {fader.setDuration((int)(durati
on*1000.f));}</td><td> </td><td class="right">       void setFadeDuration(float duration) {fader.setDuration((int)(durati
on*1000.f));}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setDisplayed(const bool displayed){fader = displayed;}</td><td> </td><td class="right">       void setDisplayed(const bool displayed){fader = displayed;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool isDisplayed(void) const {return fader;}</td><td> </td><td class="right">       bool isDisplayed(void) const {return fader;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setFontSize(double newSize);</td><td> </td><td class="right">       void setFontSize(double newSize);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Re-translates the label.</td><td> </td><td class="right">       //! Re-translates the label.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void updateLabel();</td><td> </td><td class="right">       void updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">private:</td><td> </td><td class="right">private:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QSharedPointer&lt;Planet&gt; earth, sun;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SKY_LINE_TYPE line_type;</td><td> </td><td class="right">       SKY_LINE_TYPE line_type;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3f color;</td><td> </td><td class="right">       Vec3f color;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelCore::FrameType frameType;</td><td> </td><td class="right">       StelCore::FrameType frameType;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LinearFader fader;</td><td> </td><td class="right">       LinearFader fader;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QFont font;</td><td> </td><td class="right">       QFont font;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString label;</td><td> </td><td class="right">       QString label;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// rms added color as parameter</td><td> </td><td class="right">// rms added color as parameter</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SkyGrid::SkyGrid(StelCore::FrameType frame) : color(0.2,0.2,0.2), frameType
(frame)</td><td> </td><td class="right">SkyGrid::SkyGrid(StelCore::FrameType frame) : color(0.2,0.2,0.2), frameType
(frame)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 446</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 448</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!SphericalCap::intersectionPoints(viewPortSphericalCap, 
meridianSphericalCap, p1, p2))</td><td> </td><td class="right">               if (!SphericalCap::intersectionPoints(viewPortSphericalCap, 
meridianSphericalCap, p1, p2))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (viewPortSphericalCap.d&lt;meridianSphericalCap.d &amp;&amp;
 viewPortSphericalCap.contains(meridianSphericalCap.n))</td><td> </td><td class="right">                       if (viewPortSphericalCap.d&lt;meridianSphericalCap.d &amp;&amp;
 viewPortSphericalCap.contains(meridianSphericalCap.n))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               // The meridian is fully included in the vie
wport, draw it in 3 sub-arcs to avoid length &gt; 180.</td><td> </td><td class="right">                               // The meridian is fully included in the vie
wport, draw it in 3 sub-arcs to avoid length &gt; 180.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               const Mat4d&amp; rotLon120 = Mat4d::rotation(mer
idianSphericalCap.n, 120.*M_PI/180.);</td><td> </td><td class="right">                               const Mat4d&amp; rotLon120 = Mat4d::rotation(mer
idianSphericalCap.n, 120.*M_PI/180.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               Vec3d rotFpt=fpt;</td><td> </td><td class="right">                               Vec3d rotFpt=fpt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               rotFpt.transfo4d(rotLon120);</td><td> </td><td class="right">                               rotFpt.transfo4d(rotLon120);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               Vec3d rotFpt2=rotFpt;</td><td> </td><td class="right">                               Vec3d rotFpt2=rotFpt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               rotFpt2.transfo4d(rotLon120);</td><td> </td><td class="right">                               rotFpt2.transfo4d(rotLon120);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               sPainter.drawGreatCircleArc(fpt, rotFpt, <span class="delete">NUL</span></td><td> </td><td class="rblock">                               sPainter.drawGreatCircleArc(fpt, rotFpt, <span class="insert">Q_N</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">L,</span> viewportEdgeIntersectCallback, &amp;userData);</td><td> </td><td class="rblock"><span class="insert">ULLPTR,</span> viewportEdgeIntersectCallback, &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               sPainter.drawGreatCircleArc(rotFpt, rotFpt2,</td><td> </td><td class="rblock">                               sPainter.drawGreatCircleArc(rotFpt, rotFpt2,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> <span class="delete">NULL,</span> viewportEdgeIntersectCallback, &amp;userData);</td><td> </td><td class="rblock"> <span class="insert">Q_NULLPTR,</span> viewportEdgeIntersectCallback, &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                               sPainter.drawGreatCircleArc(rotFpt2, fpt, <span class="delete">NU</span></td><td> </td><td class="rblock">                               sPainter.drawGreatCircleArc(rotFpt2, fpt, <span class="insert">Q_</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">LL,</span> viewportEdgeIntersectCallback, &amp;userData);</td><td> </td><td class="rblock"><span class="insert">NULLPTR,</span> viewportEdgeIntersectCallback, &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               fpt.transfo4d(rotLon);</td><td> </td><td class="right">                               fpt.transfo4d(rotLon);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               continue;</td><td> </td><td class="right">                               continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               break;</td><td> </td><td class="right">                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d middlePoint = p1+p2;</td><td> </td><td class="right">               Vec3d middlePoint = p1+p2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               middlePoint.normalize();</td><td> </td><td class="right">               middlePoint.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!viewPortSphericalCap.contains(middlePoint))</td><td> </td><td class="right">               if (!viewPortSphericalCap.contains(middlePoint))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       middlePoint*=-1.;</td><td> </td><td class="right">                       middlePoint*=-1.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Draw the arc in 2 sub-arcs to avoid lengths &gt; 180 deg</td><td> </td><td class="right">               // Draw the arc in 2 sub-arcs to avoid lengths &gt; 180 deg</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               sPainter.drawGreatCircleArc(p1, middlePoint, <span class="delete">NULL, viewportE</span></td><td> </td><td class="rblock">               sPainter.drawGreatCircleArc(p1, middlePoint, <span class="insert">Q_NULLPTR, view</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">dgeIntersectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">portEdgeIntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               sPainter.drawGreatCircleArc(p2, middlePoint, <span class="delete">NULL, viewportE</span></td><td> </td><td class="rblock">               sPainter.drawGreatCircleArc(p2, middlePoint, <span class="insert">Q_NULLPTR, view</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">dgeIntersectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">portEdgeIntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               fpt.transfo4d(rotLon);</td><td> </td><td class="right">               fpt.transfo4d(rotLon);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (i!=maxNbIter)</td><td> </td><td class="right">       if (i!=maxNbIter)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               rotLon = Mat4d::zrotation(-gridStepMeridianRad);</td><td> </td><td class="right">               rotLon = Mat4d::zrotation(-gridStepMeridianRad);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               fpt = firstPoint;</td><td> </td><td class="right">               fpt = firstPoint;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               fpt.transfo4d(rotLon);</td><td> </td><td class="right">               fpt.transfo4d(rotLon);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               for (int j=0; j&lt;maxNbIter-i; ++j)</td><td> </td><td class="right">               for (int j=0; j&lt;maxNbIter-i; ++j)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 488</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 490</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       meridianSphericalCap.n = fpt^Vec3d(0,0,1);</td><td> </td><td class="right">                       meridianSphericalCap.n = fpt^Vec3d(0,0,1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       meridianSphericalCap.n.normalize();</td><td> </td><td class="right">                       meridianSphericalCap.n.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (!SphericalCap::intersectionPoints(viewPortSpheri
calCap, meridianSphericalCap, p1, p2))</td><td> </td><td class="right">                       if (!SphericalCap::intersectionPoints(viewPortSpheri
calCap, meridianSphericalCap, p1, p2))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               break;</td><td> </td><td class="right">                               break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       Vec3d middlePoint = p1+p2;</td><td> </td><td class="right">                       Vec3d middlePoint = p1+p2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       middlePoint.normalize();</td><td> </td><td class="right">                       middlePoint.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (!viewPortSphericalCap.contains(middlePoint))</td><td> </td><td class="right">                       if (!viewPortSphericalCap.contains(middlePoint))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               middlePoint*=-1;</td><td> </td><td class="right">                               middlePoint*=-1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       sPainter.drawGreatCircleArc(p1, middlePoint, <span class="delete">NULL, v</span></td><td> </td><td class="rblock">                       sPainter.drawGreatCircleArc(p1, middlePoint, <span class="insert">Q_NULLP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">iewportEdgeIntersectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">TR, viewportEdgeIntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       sPainter.drawGreatCircleArc(p2, middlePoint, <span class="delete">NULL, v</span></td><td> </td><td class="rblock">                       sPainter.drawGreatCircleArc(p2, middlePoint, <span class="insert">Q_NULLP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">iewportEdgeIntersectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">TR, viewportEdgeIntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       fpt.transfo4d(rotLon);</td><td> </td><td class="right">                       fpt.transfo4d(rotLon);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       /////////////////////////////////////////////////</td><td> </td><td class="right">       /////////////////////////////////////////////////</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Draw all the parallels (small circles)</td><td> </td><td class="right">       // Draw all the parallels (small circles)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       SphericalCap parallelSphericalCap(Vec3d(0,0,1), 0);</td><td> </td><td class="right">       SphericalCap parallelSphericalCap(Vec3d(0,0,1), 0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       rotLon = Mat4d::rotation(firstPoint^Vec3d(0,0,1), gridStepParallelRa
d);</td><td> </td><td class="right">       rotLon = Mat4d::rotation(firstPoint^Vec3d(0,0,1), gridStepParallelRa
d);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       fpt = firstPoint;</td><td> </td><td class="right">       fpt = firstPoint;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 616</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 618</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sPainter.setLineSmooth(false);</td><td> </td><td class="right">       sPainter.setLineSmooth(false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SkyLine::SkyLine(SKY_LINE_TYPE _line_type) : line_type(_line_type), color(0
.f, 0.f, 1.f)</td><td> </td><td class="right">SkyLine::SkyLine(SKY_LINE_TYPE _line_type) : line_type(_line_type), color(0
.f, 0.f, 1.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Font size is 14</td><td> </td><td class="right">       // Font size is 14</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       font.setPixelSize(StelApp::getInstance().getBaseFontSize()+1);</td><td> </td><td class="right">       font.setPixelSize(StelApp::getInstance().getBaseFontSize()+1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">earth = GETSTELMODULE(SolarSystem)-&gt;getEarth();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       sun = GETSTELMODULE(SolarSystem)-&gt;getSun();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       updateLabel();</td><td> </td><td class="right">       updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">SkyLine::~SkyLine()</td><td> </td><td class="right">SkyLine::~SkyLine()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void SkyLine::setFontSize(double newFontSize)</td><td> </td><td class="right">void SkyLine::setFontSize(double newFontSize)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       font.setPixelSize(newFontSize);</td><td> </td><td class="right">       font.setPixelSize(newFontSize);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 670</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 675</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case GALACTICEQUATOR:</td><td> </td><td class="right">               case GALACTICEQUATOR:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       frameType = StelCore::FrameGalactic;</td><td> </td><td class="right">                       frameType = StelCore::FrameGalactic;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("Galactic Equator");</td><td> </td><td class="right">                       label = q_("Galactic Equator");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case SUPERGALACTICEQUATOR:</td><td> </td><td class="right">               case SUPERGALACTICEQUATOR:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       frameType = StelCore::FrameSupergalactic;</td><td> </td><td class="right">                       frameType = StelCore::FrameSupergalactic;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("Supergalactic Equator");</td><td> </td><td class="right">                       label = q_("Supergalactic Equator");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case LONGITUDE:</td><td> </td><td class="right">               case LONGITUDE:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       frameType = StelCore::FrameObservercentricEcliptic<span class="delete">J2
000</span>;</td><td> </td><td class="rblock">                       frameType = StelCore::FrameObservercentricEcliptic<span class="insert">Of
Date</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // TRANSLATORS: Full term is "opposition/conjunction
 longitude"</td><td> </td><td class="right">                       // TRANSLATORS: Full term is "opposition/conjunction
 longitude"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("O./C. longitude");</td><td> </td><td class="right">                       label = q_("O./C. longitude");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case PRIME_VERTICAL:</td><td> </td><td class="right">               case PRIME_VERTICAL:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       frameType=StelCore::FrameAltAz;</td><td> </td><td class="right">                       frameType=StelCore::FrameAltAz;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("Prime Vertical");</td><td> </td><td class="right">                       label = q_("Prime Vertical");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               case COLURE_1:</td><td> </td><td class="right">               case COLURE_1:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       frameType=StelCore::FrameEquinoxEqu;</td><td> </td><td class="right">                       frameType=StelCore::FrameEquinoxEqu;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       label = q_("Equinoctial Colure");</td><td> </td><td class="right">                       label = q_("Equinoctial Colure");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 807</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 812</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               meridianSphericalCap.n.set(0,1,0);</td><td> </td><td class="right">               meridianSphericalCap.n.set(0,1,0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if ((line_type==PRIME_VERTICAL) || (line_type==COLURE_2))</td><td> </td><td class="right">       if ((line_type==PRIME_VERTICAL) || (line_type==COLURE_2))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               meridianSphericalCap.n.set(1,0,0);</td><td> </td><td class="right">               meridianSphericalCap.n.set(1,0,0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               fpt.set(0,0,1);</td><td> </td><td class="right">               fpt.set(0,0,1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (line_type==LONGITUDE)</td><td> </td><td class="right">       if (line_type==LONGITUDE)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               Vec3d coord;</td><td> </td><td class="right">               Vec3d coord;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               double <span class="delete">lambda, beta;</span></td><td> </td><td class="rblock">               double <span class="insert">eclJDE = earth-&gt;getRotObliquity(core-&gt;getJDE());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               StelUtils::rectToSphe(&amp;lambda, &amp;beta, core-&gt;getCurrentPlanet</span></td><td> </td><td class="rblock"><span class="insert">               double ra_equ, dec_equ, lambdaJDE, betaJDE;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">()-&gt;getHeliocentricEclipticPos());</span></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               StelUtils::spheToRect(lambda</span> + M_PI/2., 0., coord);</td><td> </td><td class="rblock"><span class="insert">               StelUtils::rectToSphe(&amp;ra_equ,&amp;dec_equ, sun-&gt;getEquinoxEquat</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">orialPos(core));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               StelUtils::equToEcl(ra_equ, dec_equ, eclJDE, &amp;lambdaJDE, &amp;be</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">taJDE);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               if (lambdaJDE&lt;0) lambdaJDE+=2.0*M_PI;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               StelUtils::spheToRect(lambdaJDE</span> + M_PI/2., 0., coord);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               meridianSphericalCap.n.set(coord[0],coord[1],coord[2]);</td><td> </td><td class="right">               meridianSphericalCap.n.set(coord[0],coord[1],coord[2]);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               fpt.set(0,0,1);</td><td> </td><td class="right">               fpt.set(0,0,1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d p1, p2;</td><td> </td><td class="right">       Vec3d p1, p2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!SphericalCap::intersectionPoints(viewPortSphericalCap, meridian
SphericalCap, p1, p2))</td><td> </td><td class="right">       if (!SphericalCap::intersectionPoints(viewPortSphericalCap, meridian
SphericalCap, p1, p2))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if ((viewPortSphericalCap.d&lt;meridianSphericalCap.d &amp;&amp; viewPo
rtSphericalCap.contains(meridianSphericalCap.n))</td><td> </td><td class="right">               if ((viewPortSphericalCap.d&lt;meridianSphericalCap.d &amp;&amp; viewPo
rtSphericalCap.contains(meridianSphericalCap.n))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       || (viewPortSphericalCap.d&lt;-meridianSphericalCap.d &amp;
&amp; viewPortSphericalCap.contains(-meridianSphericalCap.n)))</td><td> </td><td class="right">                       || (viewPortSphericalCap.d&lt;-meridianSphericalCap.d &amp;
&amp; viewPortSphericalCap.contains(-meridianSphericalCap.n)))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // The meridian is fully included in the viewport, d
raw it in 3 sub-arcs to avoid length &gt; 180.</td><td> </td><td class="right">                       // The meridian is fully included in the viewport, d
raw it in 3 sub-arcs to avoid length &gt; 180.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       const Mat4d&amp; rotLon120 = Mat4d::rotation(meridianSph
ericalCap.n, 120.*M_PI/180.);</td><td> </td><td class="right">                       const Mat4d&amp; rotLon120 = Mat4d::rotation(meridianSph
ericalCap.n, 120.*M_PI/180.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       Vec3d rotFpt=fpt;</td><td> </td><td class="right">                       Vec3d rotFpt=fpt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       rotFpt.transfo4d(rotLon120);</td><td> </td><td class="right">                       rotFpt.transfo4d(rotLon120);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       Vec3d rotFpt2=rotFpt;</td><td> </td><td class="right">                       Vec3d rotFpt2=rotFpt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       rotFpt2.transfo4d(rotLon120);</td><td> </td><td class="right">                       rotFpt2.transfo4d(rotLon120);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       sPainter.drawGreatCircleArc(fpt, rotFpt, <span class="delete">NULL, viewp</span></td><td> </td><td class="rblock">                       sPainter.drawGreatCircleArc(fpt, rotFpt, <span class="insert">Q_NULLPTR, </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ortEdgeIntersectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">viewportEdgeIntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       sPainter.drawGreatCircleArc(rotFpt, rotFpt2, <span class="delete">NULL, v</span></td><td> </td><td class="rblock">                       sPainter.drawGreatCircleArc(rotFpt, rotFpt2, <span class="insert">Q_NULLP</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">iewportEdgeIntersectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">TR, viewportEdgeIntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       sPainter.drawGreatCircleArc(rotFpt2, fpt, <span class="delete">NULL, view</span></td><td> </td><td class="rblock">                       sPainter.drawGreatCircleArc(rotFpt2, fpt, <span class="insert">Q_NULLPTR,</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">portEdgeIntersectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert"> viewportEdgeIntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               else</td><td> </td><td class="right">               else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       return;</td><td> </td><td class="right">                       return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d middlePoint = p1+p2;</td><td> </td><td class="right">       Vec3d middlePoint = p1+p2;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       middlePoint.normalize();</td><td> </td><td class="right">       middlePoint.normalize();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (!viewPortSphericalCap.contains(middlePoint))</td><td> </td><td class="right">       if (!viewPortSphericalCap.contains(middlePoint))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               middlePoint*=-1.;</td><td> </td><td class="right">               middlePoint*=-1.;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Draw the arc in 2 sub-arcs to avoid lengths &gt; 180 deg</td><td> </td><td class="right">       // Draw the arc in 2 sub-arcs to avoid lengths &gt; 180 deg</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       sPainter.drawGreatCircleArc(p1, middlePoint, <span class="delete">NULL, viewportEdgeInter</span></td><td> </td><td class="rblock">       sPainter.drawGreatCircleArc(p1, middlePoint, <span class="insert">Q_NULLPTR, viewportEdge</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">sectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">IntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       sPainter.drawGreatCircleArc(p2, middlePoint, <span class="delete">NULL, viewportEdgeInter</span></td><td> </td><td class="rblock">       sPainter.drawGreatCircleArc(p2, middlePoint, <span class="insert">Q_NULLPTR, viewportEdge</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">sectCallback,</span> &amp;userData);</td><td> </td><td class="rblock"><span class="insert">IntersectCallback,</span> &amp;userData);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sPainter.setLineSmooth(false);</td><td> </td><td class="right">       sPainter.setLineSmooth(false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       sPainter.setBlending(false);</td><td> </td><td class="right">       sPainter.setBlending(false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//     // Johannes: use a big radius as a dirty workaround for the bug that
 the</td><td> </td><td class="right">//     // Johannes: use a big radius as a dirty workaround for the bug that
 the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//     // ecliptic line is not drawn around the observer, but around the su
n:</td><td> </td><td class="right">//     // ecliptic line is not drawn around the observer, but around the su
n:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//     const Vec3d vv(1000000,0,0);</td><td> </td><td class="right">//     const Vec3d vv(1000000,0,0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 1043</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 1053</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       sPainter.drawSprite2dMode(Vec3d(0,-1,0), 5.f);</td><td> </td><td class="right">                       sPainter.drawSprite2dMode(Vec3d(0,-1,0), 5.f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       sPainter.drawText(Vec3d(0,-1,0), southernLabel, 0, s
hift, shift, false);</td><td> </td><td class="right">                       sPainter.drawText(Vec3d(0,-1,0), southernLabel, 0, s
hift, shift, false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               default:</td><td> </td><td class="right">               default:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       Q_ASSERT(0);</td><td> </td><td class="right">                       Q_ASSERT(0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">GridLinesMgr::GridLinesMgr()</td><td> </td><td class="right">GridLinesMgr::GridLinesMgr()</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       : gridlinesDisplayed(true)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setObjectName("GridLinesMgr");</td><td> </td><td class="right">       setObjectName("GridLinesMgr");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                                                           </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equGrid = new SkyGrid(StelCore::FrameEquinoxEqu);</td><td> </td><td class="right">       equGrid = new SkyGrid(StelCore::FrameEquinoxEqu);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equJ2000Grid = new SkyGrid(StelCore::FrameJ2000);</td><td> </td><td class="right">       equJ2000Grid = new SkyGrid(StelCore::FrameJ2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclJ2000Grid = new SkyGrid(StelCore::FrameObservercentricEclipticJ20
00);</td><td> </td><td class="right">       eclJ2000Grid = new SkyGrid(StelCore::FrameObservercentricEclipticJ20
00);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclGrid = new SkyGrid(StelCore::FrameObservercentricEclipticOfDate);</td><td> </td><td class="right">       eclGrid = new SkyGrid(StelCore::FrameObservercentricEclipticOfDate);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticGrid = new SkyGrid(StelCore::FrameGalactic);</td><td> </td><td class="right">       galacticGrid = new SkyGrid(StelCore::FrameGalactic);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticGrid = new SkyGrid(StelCore::FrameSupergalactic);</td><td> </td><td class="right">       supergalacticGrid = new SkyGrid(StelCore::FrameSupergalactic);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       aziGrid = new SkyGrid(StelCore::FrameAltAz);</td><td> </td><td class="right">       aziGrid = new SkyGrid(StelCore::FrameAltAz);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorLine = new SkyLine(SkyLine::EQUATOR_OF_DATE);</td><td> </td><td class="right">       equatorLine = new SkyLine(SkyLine::EQUATOR_OF_DATE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorJ2000Line = new SkyLine(SkyLine::EQUATOR_J2000);</td><td> </td><td class="right">       equatorJ2000Line = new SkyLine(SkyLine::EQUATOR_J2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticJ2000Line = new SkyLine(SkyLine::ECLIPTIC_J2000); // previou
s eclipticLine</td><td> </td><td class="right">       eclipticJ2000Line = new SkyLine(SkyLine::ECLIPTIC_J2000); // previou
s eclipticLine</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 1079</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 1091</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       celestialPoles = new SkyPoint(SkyPoint::CELESTIALPOLES_OF_DATE);</td><td> </td><td class="right">       celestialPoles = new SkyPoint(SkyPoint::CELESTIALPOLES_OF_DATE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       zenithNadir = new SkyPoint(SkyPoint::ZENITH_NADIR);</td><td> </td><td class="right">       zenithNadir = new SkyPoint(SkyPoint::ZENITH_NADIR);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticJ2000Poles = new SkyPoint(SkyPoint::ECLIPTICPOLES_J2000);</td><td> </td><td class="right">       eclipticJ2000Poles = new SkyPoint(SkyPoint::ECLIPTICPOLES_J2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticPoles = new SkyPoint(SkyPoint::ECLIPTICPOLES_OF_DATE);</td><td> </td><td class="right">       eclipticPoles = new SkyPoint(SkyPoint::ECLIPTICPOLES_OF_DATE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticPoles = new SkyPoint(SkyPoint::GALACTICPOLES);</td><td> </td><td class="right">       galacticPoles = new SkyPoint(SkyPoint::GALACTICPOLES);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticPoles = new SkyPoint(SkyPoint::SUPERGALACTICPOLES);</td><td> </td><td class="right">       supergalacticPoles = new SkyPoint(SkyPoint::SUPERGALACTICPOLES);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equinoxJ2000Points = new SkyPoint(SkyPoint::EQUINOXES_J2000);</td><td> </td><td class="right">       equinoxJ2000Points = new SkyPoint(SkyPoint::EQUINOXES_J2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equinoxPoints = new SkyPoint(SkyPoint::EQUINOXES_OF_DATE);</td><td> </td><td class="right">       equinoxPoints = new SkyPoint(SkyPoint::EQUINOXES_OF_DATE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       solsticeJ2000Points = new SkyPoint(SkyPoint::SOLSTICES_J2000);</td><td> </td><td class="right">       solsticeJ2000Points = new SkyPoint(SkyPoint::SOLSTICES_J2000);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       solsticePoints = new SkyPoint(SkyPoint::SOLSTICES_OF_DATE);</td><td> </td><td class="right">       solsticePoints = new SkyPoint(SkyPoint::SOLSTICES_OF_DATE);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">earth = GETSTELMODULE(SolarSystem)-&gt;getEarth();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(GETSTELMODULE(SolarSystem), SIGNAL(solarSystemDataReloaded()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">), this, SLOT(connectEarthFromSolarSystem()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">GridLinesMgr::~GridLinesMgr()</td><td> </td><td class="right">GridLinesMgr::~GridLinesMgr()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete equGrid;</td><td> </td><td class="right">       delete equGrid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete equJ2000Grid;</td><td> </td><td class="right">       delete equJ2000Grid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete eclJ2000Grid;</td><td> </td><td class="right">       delete eclJ2000Grid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete eclGrid;</td><td> </td><td class="right">       delete eclGrid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete galacticGrid;</td><td> </td><td class="right">       delete galacticGrid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete supergalacticGrid;</td><td> </td><td class="right">       delete supergalacticGrid;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 1141</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 1156</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QSettings* conf = StelApp::getInstance().getSettings();</td><td> </td><td class="right">       QSettings* conf = StelApp::getInstance().getSettings();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(conf);</td><td> </td><td class="right">       Q_ASSERT(conf);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Upgrade config keys</td><td> </td><td class="right">       // Upgrade config keys</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (conf-&gt;contains("color/longitude_color"))</td><td> </td><td class="right">       if (conf-&gt;contains("color/longitude_color"))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               conf-&gt;setValue("color/oc_longitude_color", conf-&gt;value("colo
r/longitude_color", "0.2,0.4,0.4").toString());</td><td> </td><td class="right">               conf-&gt;setValue("color/oc_longitude_color", conf-&gt;value("colo
r/longitude_color", "0.2,0.4,0.4").toString());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               conf-&gt;remove("color/longitude_color");</td><td> </td><td class="right">               conf-&gt;remove("color/longitude_color");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       setFlagGridlines(conf-&gt;value("viewing/flag_gridlines", true).toBool(
));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagAzimuthalGrid(conf-&gt;value("viewing/flag_azimuthal_grid").toBo
ol());</td><td> </td><td class="right">       setFlagAzimuthalGrid(conf-&gt;value("viewing/flag_azimuthal_grid").toBo
ol());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEquatorGrid(conf-&gt;value("viewing/flag_equatorial_grid").toBoo
l());</td><td> </td><td class="right">       setFlagEquatorGrid(conf-&gt;value("viewing/flag_equatorial_grid").toBoo
l());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEquatorJ2000Grid(conf-&gt;value("viewing/flag_equatorial_J2000_g
rid").toBool());</td><td> </td><td class="right">       setFlagEquatorJ2000Grid(conf-&gt;value("viewing/flag_equatorial_J2000_g
rid").toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEclipticJ2000Grid(conf-&gt;value("viewing/flag_ecliptic_J2000_gr
id").toBool());</td><td> </td><td class="right">       setFlagEclipticJ2000Grid(conf-&gt;value("viewing/flag_ecliptic_J2000_gr
id").toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEclipticGrid(conf-&gt;value("viewing/flag_ecliptic_grid").toBool
());</td><td> </td><td class="right">       setFlagEclipticGrid(conf-&gt;value("viewing/flag_ecliptic_grid").toBool
());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagGalacticGrid(conf-&gt;value("viewing/flag_galactic_grid").toBool
());</td><td> </td><td class="right">       setFlagGalacticGrid(conf-&gt;value("viewing/flag_galactic_grid").toBool
());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagSupergalacticGrid(conf-&gt;value("viewing/flag_supergalactic_gri
d").toBool());</td><td> </td><td class="right">       setFlagSupergalacticGrid(conf-&gt;value("viewing/flag_supergalactic_gri
d").toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEquatorLine(conf-&gt;value("viewing/flag_equator_line").toBool()
);</td><td> </td><td class="right">       setFlagEquatorLine(conf-&gt;value("viewing/flag_equator_line").toBool()
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEquatorJ2000Line(conf-&gt;value("viewing/flag_equator_J2000_line
").toBool());</td><td> </td><td class="right">       setFlagEquatorJ2000Line(conf-&gt;value("viewing/flag_equator_J2000_line
").toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setFlagEclipticLine(conf-&gt;value("viewing/flag_ecliptic_line").toBool
());</td><td> </td><td class="right">       setFlagEclipticLine(conf-&gt;value("viewing/flag_ecliptic_line").toBool
());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> line 1211</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> line 1227</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorSupergalacticPoles(StelUtils::strToVec3f(conf-&gt;value("color/
supergalactic_poles_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorSupergalacticPoles(StelUtils::strToVec3f(conf-&gt;value("color/
supergalactic_poles_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorEquinoxJ2000Points(StelUtils::strToVec3f(conf-&gt;value("color/
equinox_J2000_points_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorEquinoxJ2000Points(StelUtils::strToVec3f(conf-&gt;value("color/
equinox_J2000_points_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorEquinoxPoints(StelUtils::strToVec3f(conf-&gt;value("color/equin
ox_points_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorEquinoxPoints(StelUtils::strToVec3f(conf-&gt;value("color/equin
ox_points_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorSolsticeJ2000Points(StelUtils::strToVec3f(conf-&gt;value("color
/solstice_J2000_points_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorSolsticeJ2000Points(StelUtils::strToVec3f(conf-&gt;value("color
/solstice_J2000_points_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setColorSolsticePoints(StelUtils::strToVec3f(conf-&gt;value("color/sols
tice_points_color", defaultColor).toString()));</td><td> </td><td class="right">       setColorSolsticePoints(StelUtils::strToVec3f(conf-&gt;value("color/sols
tice_points_color", defaultColor).toString()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelApp&amp; app = StelApp::getInstance();</td><td> </td><td class="right">       StelApp&amp; app = StelApp::getInstance();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(&amp;app, SIGNAL(languageChanged()), this, SLOT(updateLineLabels
()));</td><td> </td><td class="right">       connect(&amp;app, SIGNAL(languageChanged()), this, SLOT(updateLineLabels
()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString displayGroup = N_("Display Options");</td><td> </td><td class="right">       QString displayGroup = N_("Display Options");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       addAction("actionShow_Gridlines", displayGroup, N_("Grids and lines"
), "gridlinesDisplayed");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Equatorial_Grid", displayGroup, N_("Equatorial
 grid"), "equatorGridDisplayed", "E");</td><td> </td><td class="right">       addAction("actionShow_Equatorial_Grid", displayGroup, N_("Equatorial
 grid"), "equatorGridDisplayed", "E");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Azimuthal_Grid", displayGroup, N_("Azimuthal g
rid"), "azimuthalGridDisplayed", "Z");</td><td> </td><td class="right">       addAction("actionShow_Azimuthal_Grid", displayGroup, N_("Azimuthal g
rid"), "azimuthalGridDisplayed", "Z");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Ecliptic_Line", displayGroup, N_("Ecliptic lin
e"), "eclipticLineDisplayed", ",");</td><td> </td><td class="right">       addAction("actionShow_Ecliptic_Line", displayGroup, N_("Ecliptic lin
e"), "eclipticLineDisplayed", ",");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Ecliptic_J2000_Line", displayGroup, N_("Eclipt
ic J2000 line"), "eclipticJ2000LineDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Ecliptic_J2000_Line", displayGroup, N_("Eclipt
ic J2000 line"), "eclipticJ2000LineDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Equator_Line", displayGroup, N_("Equator line"
), "equatorLineDisplayed", ".");</td><td> </td><td class="right">       addAction("actionShow_Equator_Line", displayGroup, N_("Equator line"
), "equatorLineDisplayed", ".");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Equator_J2000_Line", displayGroup, N_("Equator
 J2000 line"), "equatorJ2000LineDisplayed"); // or with Hotkey??</td><td> </td><td class="right">       addAction("actionShow_Equator_J2000_Line", displayGroup, N_("Equator
 J2000 line"), "equatorJ2000LineDisplayed"); // or with Hotkey??</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Meridian_Line", displayGroup, N_("Meridian lin
e"), "meridianLineDisplayed", ";");</td><td> </td><td class="right">       addAction("actionShow_Meridian_Line", displayGroup, N_("Meridian lin
e"), "meridianLineDisplayed", ";");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Horizon_Line", displayGroup, N_("Horizon line"
), "horizonLineDisplayed", "H");</td><td> </td><td class="right">       addAction("actionShow_Horizon_Line", displayGroup, N_("Horizon line"
), "horizonLineDisplayed", "H");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Equatorial_J2000_Grid", displayGroup, N_("Equa
torial J2000 grid"), "equatorJ2000GridDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Equatorial_J2000_Grid", displayGroup, N_("Equa
torial J2000 grid"), "equatorJ2000GridDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Ecliptic_J2000_Grid", displayGroup, N_("Eclipt
ic J2000 grid"), "eclipticJ2000GridDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Ecliptic_J2000_Grid", displayGroup, N_("Eclipt
ic J2000 grid"), "eclipticJ2000GridDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l12" /><small>skipping to change at</small><em> line 1244</em></th><th> </th><th><a name="part-r12" /><small>skipping to change at</small><em> line 1261</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Ecliptic_J2000_Poles", displayGroup, N_("Eclip
tic J2000 poles"), "eclipticJ2000PolesDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Ecliptic_J2000_Poles", displayGroup, N_("Eclip
tic J2000 poles"), "eclipticJ2000PolesDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Ecliptic_Poles", displayGroup, N_("Ecliptic po
les"), "eclipticPolesDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Ecliptic_Poles", displayGroup, N_("Ecliptic po
les"), "eclipticPolesDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Galactic_Poles", displayGroup, N_("Galactic po
les"), "galacticPolesDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Galactic_Poles", displayGroup, N_("Galactic po
les"), "galacticPolesDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Supergalactic_Poles", displayGroup, N_("Superg
alactic poles"), "supergalacticPolesDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Supergalactic_Poles", displayGroup, N_("Superg
alactic poles"), "supergalacticPolesDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Equinox_J2000_Points", displayGroup, N_("Equin
ox J2000 points"), "equinoxJ2000PointsDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Equinox_J2000_Points", displayGroup, N_("Equin
ox J2000 points"), "equinoxJ2000PointsDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Equinox_Points", displayGroup, N_("Equinox poi
nts"), "equinoxPointsDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Equinox_Points", displayGroup, N_("Equinox poi
nts"), "equinoxPointsDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Solstice_J2000_Points", displayGroup, N_("Sols
tice J2000 points"), "solsticeJ2000PointsDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Solstice_J2000_Points", displayGroup, N_("Sols
tice J2000 points"), "solsticeJ2000PointsDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       addAction("actionShow_Solstice_Points", displayGroup, N_("Solstice p
oints"), "solsticePointsDisplayed");</td><td> </td><td class="right">       addAction("actionShow_Solstice_Points", displayGroup, N_("Solstice p
oints"), "solsticePointsDisplayed");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void GridLinesMgr::connectEarthFromSolarSystem()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       earth = GETSTELMODULE(SolarSystem)-&gt;getEarth();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::update(double deltaTime)</td><td> </td><td class="right">void GridLinesMgr::update(double deltaTime)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Update faders</td><td> </td><td class="right">       // Update faders</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       equGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equJ2000Grid-&gt;update(deltaTime);</td><td> </td><td class="right">       equJ2000Grid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclJ2000Grid-&gt;update(deltaTime);</td><td> </td><td class="right">       eclJ2000Grid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       eclGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       galacticGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       supergalacticGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       aziGrid-&gt;update(deltaTime);</td><td> </td><td class="right">       aziGrid-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l13" /><small>skipping to change at</small><em> line 1285</em></th><th> </th><th><a name="part-r13" /><small>skipping to change at</small><em> line 1307</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticPoles-&gt;update(deltaTime);</td><td> </td><td class="right">       galacticPoles-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticPoles-&gt;update(deltaTime);</td><td> </td><td class="right">       supergalacticPoles-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equinoxJ2000Points-&gt;update(deltaTime);</td><td> </td><td class="right">       equinoxJ2000Points-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equinoxPoints-&gt;update(deltaTime);</td><td> </td><td class="right">       equinoxPoints-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       solsticeJ2000Points-&gt;update(deltaTime);</td><td> </td><td class="right">       solsticeJ2000Points-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       solsticePoints-&gt;update(deltaTime);</td><td> </td><td class="right">       solsticePoints-&gt;update(deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::draw(StelCore* core)</td><td> </td><td class="right">void GridLinesMgr::draw(StelCore* core)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">if (!gridlinesDisplayed)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               return;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticGrid-&gt;draw(core);</td><td> </td><td class="right">       galacticGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticGrid-&gt;draw(core);</td><td> </td><td class="right">       supergalacticGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclJ2000Grid-&gt;draw(core);</td><td> </td><td class="right">       eclJ2000Grid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // While ecliptic of J2000 may be helpful to get a feeling of the Z=
0 plane of VSOP87,</td><td> </td><td class="right">       // While ecliptic of J2000 may be helpful to get a feeling of the Z=
0 plane of VSOP87,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // ecliptic of date is related to Earth and does not make much sense
 for the other planets.</td><td> </td><td class="right">       // ecliptic of date is related to Earth and does not make much sense
 for the other planets.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Of course, orbital plane of respective planet would be better, bu
t is not implemented.</td><td> </td><td class="right">       // Of course, orbital plane of respective planet would be better, bu
t is not implemented.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       if <span class="delete">(core-&gt;getCurrentPlanet()-&gt;getEnglishName()=="Earth")</span></td><td> </td><td class="rblock">       if <span class="insert">(core-&gt;getCurrentPlanet()==earth)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               eclGrid-&gt;draw(core);</td><td> </td><td class="right">               eclGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               <span class="insert">eclipticLine-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               precessionCircleN-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               precessionCircleS-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               colureLine_1-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               colureLine_2-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               eclipticPoles-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               equinoxPoints-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               solsticePoints-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               longitudeLine-&gt;draw(core);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equJ2000Grid-&gt;draw(core);</td><td> </td><td class="right">       equJ2000Grid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equGrid-&gt;draw(core);</td><td> </td><td class="right">       equGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       aziGrid-&gt;draw(core);</td><td> </td><td class="right">       aziGrid-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Lines after grids, to be able to e.g. draw equators in different 
color!</td><td> </td><td class="right">       // Lines after grids, to be able to e.g. draw equators in different 
color!</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticEquatorLine-&gt;draw(core);</td><td> </td><td class="right">       galacticEquatorLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticEquatorLine-&gt;draw(core);</td><td> </td><td class="right">       supergalacticEquatorLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticJ2000Line-&gt;draw(core);</td><td> </td><td class="right">       eclipticJ2000Line-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">if (core-&gt;getCurrentPlanet()-&gt;getEnglishName()=="Earth")</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       {</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               eclipticLine-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               precessionCircleN-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               precessionCircleS-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               colureLine_1-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">               colureLine_2-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       longitudeLine-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorJ2000Line-&gt;draw(core);</td><td> </td><td class="right">       equatorJ2000Line-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorLine-&gt;draw(core);</td><td> </td><td class="right">       equatorLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       meridianLine-&gt;draw(core);</td><td> </td><td class="right">       meridianLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       horizonLine-&gt;draw(core);</td><td> </td><td class="right">       horizonLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       primeVerticalLine-&gt;draw(core);</td><td> </td><td class="right">       primeVerticalLine-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       circumpolarCircleN-&gt;draw(core);</td><td> </td><td class="right">       circumpolarCircleN-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       circumpolarCircleS-&gt;draw(core);</td><td> </td><td class="right">       circumpolarCircleS-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       celestialJ2000Poles-&gt;draw(core);</td><td> </td><td class="right">       celestialJ2000Poles-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       celestialPoles-&gt;draw(core);</td><td> </td><td class="right">       celestialPoles-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       zenithNadir-&gt;draw(core);</td><td> </td><td class="right">       zenithNadir-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticJ2000Poles-&gt;draw(core);</td><td> </td><td class="right">       eclipticJ2000Poles-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       eclipticPoles-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticPoles-&gt;draw(core);</td><td> </td><td class="right">       galacticPoles-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticPoles-&gt;draw(core);</td><td> </td><td class="right">       supergalacticPoles-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equinoxJ2000Points-&gt;draw(core);</td><td> </td><td class="right">       equinoxJ2000Points-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       equinoxPoints-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       solsticeJ2000Points-&gt;draw(core);</td><td> </td><td class="right">       solsticeJ2000Points-&gt;draw(core);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       solsticePoints-&gt;draw(core);</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::updateLineLabels()</td><td> </td><td class="right">void GridLinesMgr::updateLineLabels()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorJ2000Line-&gt;updateLabel();</td><td> </td><td class="right">       equatorJ2000Line-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equatorLine-&gt;updateLabel();</td><td> </td><td class="right">       equatorLine-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticLine-&gt;updateLabel();</td><td> </td><td class="right">       eclipticLine-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticJ2000Line-&gt;updateLabel();</td><td> </td><td class="right">       eclipticJ2000Line-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       precessionCircleN-&gt;updateLabel();</td><td> </td><td class="right">       precessionCircleN-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       precessionCircleS-&gt;updateLabel();</td><td> </td><td class="right">       precessionCircleS-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l14" /><small>skipping to change at</small><em> line 1360</em></th><th> </th><th><a name="part-r14" /><small>skipping to change at</small><em> line 1385</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticJ2000Poles-&gt;updateLabel();</td><td> </td><td class="right">       eclipticJ2000Poles-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       eclipticPoles-&gt;updateLabel();</td><td> </td><td class="right">       eclipticPoles-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       galacticPoles-&gt;updateLabel();</td><td> </td><td class="right">       galacticPoles-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       supergalacticPoles-&gt;updateLabel();</td><td> </td><td class="right">       supergalacticPoles-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equinoxJ2000Points-&gt;updateLabel();</td><td> </td><td class="right">       equinoxJ2000Points-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       equinoxPoints-&gt;updateLabel();</td><td> </td><td class="right">       equinoxPoints-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       solsticeJ2000Points-&gt;updateLabel();</td><td> </td><td class="right">       solsticeJ2000Points-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       solsticePoints-&gt;updateLabel();</td><td> </td><td class="right">       solsticePoints-&gt;updateLabel();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">//! Setter ("master switch") for displaying any grid/line.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void GridLinesMgr::setFlagGridlines(const bool displayed)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if(displayed != gridlinesDisplayed) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               gridlinesDisplayed=displayed;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               emit gridlinesDisplayedChanged(displayed);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">//! Accessor ("master switch") for displaying any grid/line.</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">bool GridLinesMgr::getFlagGridlines(void) const</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return gridlinesDisplayed;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Set flag for displaying Azimuthal Grid</td><td> </td><td class="right">//! Set flag for displaying Azimuthal Grid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void GridLinesMgr::setFlagAzimuthalGrid(const bool displayed)</td><td> </td><td class="right">void GridLinesMgr::setFlagAzimuthalGrid(const bool displayed)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(displayed != aziGrid-&gt;isDisplayed()) {</td><td> </td><td class="right">       if(displayed != aziGrid-&gt;isDisplayed()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               aziGrid-&gt;setDisplayed(displayed);</td><td> </td><td class="right">               aziGrid-&gt;setDisplayed(displayed);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               emit azimuthalGridDisplayedChanged(displayed);</td><td> </td><td class="right">               emit azimuthalGridDisplayedChanged(displayed);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Get flag for displaying Azimuthal Grid</td><td> </td><td class="right">//! Get flag for displaying Azimuthal Grid</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool GridLinesMgr::getFlagAzimuthalGrid(void) const</td><td> </td><td class="right">bool GridLinesMgr::getFlagAzimuthalGrid(void) const</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 24 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>42 lines changed or deleted</i></th><th><i> </i></th><th><i>83 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
