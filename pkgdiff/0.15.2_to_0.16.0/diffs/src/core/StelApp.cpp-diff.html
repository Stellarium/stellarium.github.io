<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.home 4.4.0-80-generic #101-Ubuntu SMP Thu Jun 8 15:35:06 UTC 2017 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.1.3, API: 1.1 (GNU MPFR 3.1.4, GNU MP 6.1.0) --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.2 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: StelApp.cpp - StelApp.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;StelApp.cpp&nbsp;</th><th> </th><th>&nbsp;StelApp.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 28</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 28</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> */</td><td> </td><td class="right"> */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelApp.hpp"</td><td> </td><td class="right">#include "StelApp.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelCore.hpp"</td><td> </td><td class="right">#include "StelCore.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelMainView.hpp"</td><td> </td><td class="right">#include "StelMainView.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelUtils.hpp"</td><td> </td><td class="right">#include "StelUtils.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelTextureMgr.hpp"</td><td> </td><td class="right">#include "StelTextureMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StelObjectMgr.hpp"</td><td> </td><td class="right">#include "StelObjectMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "ConstellationMgr.hpp"</td><td> </td><td class="right">#include "ConstellationMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#include "AsterismMgr.hpp"</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "NebulaMgr.hpp"</td><td> </td><td class="right">#include "NebulaMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "LandscapeMgr.hpp"</td><td> </td><td class="right">#include "LandscapeMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "CustomObjectMgr.hpp"</td><td> </td><td class="right">#include "CustomObjectMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "GridLinesMgr.hpp"</td><td> </td><td class="right">#include "GridLinesMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "MilkyWay.hpp"</td><td> </td><td class="right">#include "MilkyWay.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "ZodiacalLight.hpp"</td><td> </td><td class="right">#include "ZodiacalLight.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "LabelMgr.hpp"</td><td> </td><td class="right">#include "LabelMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "SolarSystem.hpp"</td><td> </td><td class="right">#include "SolarSystem.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "SporadicMeteorMgr.hpp"</td><td> </td><td class="right">#include "SporadicMeteorMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "StarMgr.hpp"</td><td> </td><td class="right">#include "StarMgr.hpp"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 188</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 189</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef USE_STATIC_PLUGIN_REMOTECONTROL</td><td> </td><td class="right">#ifdef USE_STATIC_PLUGIN_REMOTECONTROL</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Q_IMPORT_PLUGIN(RemoteControlStelPluginInterface)</td><td> </td><td class="right">Q_IMPORT_PLUGIN(RemoteControlStelPluginInterface)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef USE_STATIC_PLUGIN_REMOTESYNC</td><td> </td><td class="right">#ifdef USE_STATIC_PLUGIN_REMOTESYNC</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">Q_IMPORT_PLUGIN(RemoteSyncStelPluginInterface)</td><td> </td><td class="right">Q_IMPORT_PLUGIN(RemoteSyncStelPluginInterface)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Initialize static variables</td><td> </td><td class="right">// Initialize static variables</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">StelApp* StelApp::singleton = <span class="delete">NULL</span>;</td><td> </td><td class="rblock">StelApp* StelApp::singleton = <span class="insert">Q_NULLPTR</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">qint64 StelApp::startMSecs = 0;</td><td> </td><td class="right">qint64 StelApp::startMSecs = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">float StelApp::animationScale = 1.f;</td><td> </td><td class="right">float StelApp::animationScale = 1.f;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::initStatic()</td><td> </td><td class="right">void StelApp::initStatic()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelApp::startMSecs = QDateTime::currentMSecsSinceEpoch();</td><td> </td><td class="right">       StelApp::startMSecs = QDateTime::currentMSecsSinceEpoch();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::deinitStatic()</td><td> </td><td class="right">void StelApp::deinitStatic()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelApp::startMSecs = 0;</td><td> </td><td class="right">       StelApp::startMSecs = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/*************************************************************************</td><td> </td><td class="right">/*************************************************************************</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> Create and initialize the main Stellarium application.</td><td> </td><td class="right"> Create and initialize the main Stellarium application.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">*************************************************************************/</td><td> </td><td class="right">*************************************************************************/</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelApp::StelApp(StelMainView *parent)</td><td> </td><td class="right">StelApp::StelApp(StelMainView *parent)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       : QObject(parent)</td><td> </td><td class="right">       : QObject(parent)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , mainWin(parent)</td><td> </td><td class="right">       , mainWin(parent)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">core(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">core(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">moduleMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">moduleMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">localeMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">localeMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">skyCultureMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">skyCultureMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">actionMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">actionMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">propMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">propMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">textureMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">textureMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">stelObjectMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">stelObjectMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">planetLocationMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">planetLocationMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">networkAccessManager(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">networkAccessManager(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">audioMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">audioMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">videoMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">videoMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">skyImageMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">skyImageMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifndef DISABLE_SCRIPTING</td><td> </td><td class="right">#ifndef DISABLE_SCRIPTING</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">scriptAPIProxy(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">scriptAPIProxy(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">scriptMgr(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">scriptMgr(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , stelGui(<span class="delete">NULL</span>)</td><td> </td><td class="rblock">       , stelGui(<span class="insert">Q_NULLPTR</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , devicePixelsPerPixel(1.f)</td><td> </td><td class="right">       , devicePixelsPerPixel(1.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , globalScalingRatio(1.f)</td><td> </td><td class="right">       , globalScalingRatio(1.f)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , fps(0)</td><td> </td><td class="right">       , fps(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , frame(0)</td><td> </td><td class="right">       , frame(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , frameTimeAccum(0.)</td><td> </td><td class="right">       , frameTimeAccum(0.)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , flagNightVision(false)</td><td> </td><td class="right">       , flagNightVision(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , confSettings(<span class="delete">NULL</span>)</td><td> </td><td class="rblock">       , confSettings(<span class="insert">Q_NULLPTR</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , initialized(false)</td><td> </td><td class="right">       , initialized(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , saveProjW(-1)</td><td> </td><td class="right">       , saveProjW(-1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , saveProjH(-1)</td><td> </td><td class="right">       , saveProjH(-1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , nbDownloadedFiles(0)</td><td> </td><td class="right">       , nbDownloadedFiles(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , totalDownloadedSize(0)</td><td> </td><td class="right">       , totalDownloadedSize(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , nbUsedCache(0)</td><td> </td><td class="right">       , nbUsedCache(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , totalUsedCacheSize(0)</td><td> </td><td class="right">       , totalUsedCacheSize(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , baseFontSize(13)</td><td> </td><td class="right">       , baseFontSize(13)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">renderBuffer(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">renderBuffer(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , <span class="delete">viewportEffect(NULL)</span></td><td> </td><td class="rblock">       , <span class="insert">viewportEffect(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       , gl(Q_NULLPTR)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , flagShowDecimalDegrees(false)</td><td> </td><td class="right">       , flagShowDecimalDegrees(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , flagUseAzimuthFromSouth(false)</td><td> </td><td class="right">       , flagUseAzimuthFromSouth(false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #ifdef ENABLE_SPOUT</td><td> </td><td class="right">       #ifdef ENABLE_SPOUT</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       , spoutSender(<span class="delete">NULL</span>)</td><td> </td><td class="rblock">       , spoutSender(<span class="insert">Q_NULLPTR</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       #endif</td><td> </td><td class="right">       #endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       , currentFbo(0)</td><td> </td><td class="right">       , currentFbo(0)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setObjectName("StelApp");</td><td> </td><td class="right">       setObjectName("StelApp");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Can't create 2 StelApp instances</td><td> </td><td class="right">       // Can't create 2 StelApp instances</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(!singleton);</td><td> </td><td class="right">       Q_ASSERT(!singleton);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       singleton = this;</td><td> </td><td class="right">       singleton = this;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       moduleMgr = new StelModuleMgr();</td><td> </td><td class="right">       moduleMgr = new StelModuleMgr();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 279</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 281</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">StelApp::~StelApp()</td><td> </td><td class="right">StelApp::~StelApp()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDebug() &lt;&lt; qPrintable(QString("Downloaded %1 files (%2 kbytes) in a
 session of %3 sec (average of %4 kB/s + %5 files from cache (%6 kB)).").ar
g(nbDownloadedFiles).arg(totalDownloadedSize/1024).arg(getTotalRunTime()).a
rg((double)(totalDownloadedSize/1024)/getTotalRunTime()).arg(nbUsedCache).a
rg(totalUsedCacheSize/1024));</td><td> </td><td class="right">       qDebug() &lt;&lt; qPrintable(QString("Downloaded %1 files (%2 kbytes) in a
 session of %3 sec (average of %4 kB/s + %5 files from cache (%6 kB)).").ar
g(nbDownloadedFiles).arg(totalDownloadedSize/1024).arg(getTotalRunTime()).a
rg((double)(totalDownloadedSize/1024)/getTotalRunTime()).arg(nbUsedCache).a
rg(totalUsedCacheSize/1024));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       stelObjectMgr-&gt;unSelect();</td><td> </td><td class="right">       stelObjectMgr-&gt;unSelect();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       moduleMgr-&gt;unloadModule("StelVideoMgr", false);  // We need to delet
e it afterward</td><td> </td><td class="right">       moduleMgr-&gt;unloadModule("StelVideoMgr", false);  // We need to delet
e it afterward</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       moduleMgr-&gt;unloadModule("StelSkyLayerMgr", false);  // We need to de
lete it afterward</td><td> </td><td class="right">       moduleMgr-&gt;unloadModule("StelSkyLayerMgr", false);  // We need to de
lete it afterward</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       moduleMgr-&gt;unloadModule("StelObjectMgr", false);// We need to delete
 it afterward</td><td> </td><td class="right">       moduleMgr-&gt;unloadModule("StelObjectMgr", false);// We need to delete
 it afterward</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelModuleMgr* tmp = moduleMgr;</td><td> </td><td class="right">       StelModuleMgr* tmp = moduleMgr;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       moduleMgr = new StelModuleMgr(); // Create a secondary instance to a
void crashes at other deinit</td><td> </td><td class="right">       moduleMgr = new StelModuleMgr(); // Create a secondary instance to a
void crashes at other deinit</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete tmp; <span class="delete">tmp=NULL;</span></td><td> </td><td class="rblock">       delete tmp; <span class="insert">tmp=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete skyImageMgr; <span class="delete">skyImageMgr=NULL;</span></td><td> </td><td class="rblock">       delete skyImageMgr; <span class="insert">skyImageMgr=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete core; <span class="delete">core=NULL;</span></td><td> </td><td class="rblock">       delete core; <span class="insert">core=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete skyCultureMgr; <span class="delete">skyCultureMgr=NULL;</span></td><td> </td><td class="rblock">       delete skyCultureMgr; <span class="insert">skyCultureMgr=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete localeMgr; <span class="delete">localeMgr=NULL;</span></td><td> </td><td class="rblock">       delete localeMgr; <span class="insert">localeMgr=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete audioMgr; <span class="delete">audioMgr=NULL;</span></td><td> </td><td class="rblock">       delete audioMgr; <span class="insert">audioMgr=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete videoMgr; <span class="delete">videoMgr=NULL;</span></td><td> </td><td class="rblock">       delete videoMgr; <span class="insert">videoMgr=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete stelObjectMgr; <span class="delete">stelObjectMgr=NULL;</span> // Delete the module by <span class="delete">ha</span></td><td> </td><td class="rblock">       delete stelObjectMgr; <span class="insert">stelObjectMgr=Q_NULLPTR;</span> // Delete the module </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">nd</span> afterward</td><td> </td><td class="rblock">by <span class="insert">hand</span> afterward</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete textureMgr; <span class="delete">textureMgr=NULL;</span></td><td> </td><td class="rblock">       delete textureMgr; <span class="insert">textureMgr=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete planetLocationMgr; <span class="delete">planetLocationMgr=NULL;</span></td><td> </td><td class="rblock">       delete planetLocationMgr; <span class="insert">planetLocationMgr=Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete moduleMgr; <span class="delete">moduleMgr=NULL;</span> // Delete the secondary <span class="delete">instance</span></td><td> </td><td class="rblock">       delete moduleMgr; <span class="insert">moduleMgr=Q_NULLPTR;</span> // Delete the secondary <span class="insert">insta</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete actionMgr; actionMgr = <span class="delete">NULL;</span></td><td> </td><td class="rblock"><span class="insert">nce</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       delete propMgr; propMgr = <span class="delete">NULL;</span></td><td> </td><td class="rblock">       delete actionMgr; actionMgr = <span class="insert">Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       delete propMgr; propMgr = <span class="insert">Q_NULLPTR;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(singleton);</td><td> </td><td class="right">       Q_ASSERT(singleton);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       singleton = <span class="delete">NULL</span>;</td><td> </td><td class="rblock">       singleton = <span class="insert">Q_NULLPTR</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::setupNetworkProxy()</td><td> </td><td class="right">void StelApp::setupNetworkProxy()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString proxyHost = confSettings-&gt;value("proxy/host_name").toString(
);</td><td> </td><td class="right">       QString proxyHost = confSettings-&gt;value("proxy/host_name").toString(
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString proxyPort = confSettings-&gt;value("proxy/port").toString();</td><td> </td><td class="right">       QString proxyPort = confSettings-&gt;value("proxy/port").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString proxyUser = confSettings-&gt;value("proxy/user").toString();</td><td> </td><td class="right">       QString proxyUser = confSettings-&gt;value("proxy/user").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString proxyPass = confSettings-&gt;value("proxy/password").toString()
;</td><td> </td><td class="right">       QString proxyPass = confSettings-&gt;value("proxy/password").toString()
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString proxyType = confSettings-&gt;value("proxy/type").toString();</td><td> </td><td class="right">       QString proxyType = confSettings-&gt;value("proxy/type").toString();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 392</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 394</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Use a queued slot call to start the script only once the main qAp
p event loop is running...</td><td> </td><td class="right">       // Use a queued slot call to start the script only once the main qAp
p event loop is running...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QMetaObject::invokeMethod(scriptMgr,</td><td> </td><td class="right">       QMetaObject::invokeMethod(scriptMgr,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                 "runScript",</td><td> </td><td class="right">                                 "runScript",</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                 Qt::QueuedConnection,</td><td> </td><td class="right">                                 Qt::QueuedConnection,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                 Q_ARG(QString, startupScript));</td><td> </td><td class="right">                                 Q_ARG(QString, startupScript));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#else</td><td> </td><td class="right">#else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::initScriptMgr() {}</td><td> </td><td class="right">void StelApp::initScriptMgr() {}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">QStringList StelApp::getCommandlineArguments()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return qApp-&gt;property("stelCommandLine").toStringList();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::init(QSettings* conf)</td><td> </td><td class="right">void StelApp::init(QSettings* conf)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       gl = QOpenGLContext::currentContext()-&gt;functions();</td><td> </td><td class="right">       gl = QOpenGLContext::currentContext()-&gt;functions();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       confSettings = conf;</td><td> </td><td class="right">       confSettings = conf;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       devicePixelsPerPixel = QOpenGLContext::currentContext()-&gt;screen()-&gt;d
evicePixelRatio();</td><td> </td><td class="right">       devicePixelsPerPixel = QOpenGLContext::currentContext()-&gt;screen()-&gt;d
evicePixelRatio();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setBaseFontSize(confSettings-&gt;value("gui/base_font_size", 13).toInt(
));</td><td> </td><td class="right">       setBaseFontSize(confSettings-&gt;value("gui/base_font_size", 13).toInt(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       core = new StelCore();</td><td> </td><td class="right">       core = new StelCore();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (saveProjW!=-1 &amp;&amp; saveProjH!=-1)</td><td> </td><td class="right">       if (saveProjW!=-1 &amp;&amp; saveProjH!=-1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               core-&gt;windowHasBeenResized(0, 0, saveProjW, saveProjH);</td><td> </td><td class="right">               core-&gt;windowHasBeenResized(0, 0, saveProjW, saveProjH);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Initialize AFTER creation of openGL context</td><td> </td><td class="right">       // Initialize AFTER creation of openGL context</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       textureMgr = new StelTextureMgr();</td><td> </td><td class="right">       textureMgr = new StelTextureMgr();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       textureMgr-&gt;init();</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       networkAccessManager = new QNetworkAccessManager(this);</td><td> </td><td class="right">       networkAccessManager = new QNetworkAccessManager(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Activate http cache if Qt version &gt;= 4.5</td><td> </td><td class="right">       // Activate http cache if Qt version &gt;= 4.5</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QNetworkDiskCache* cache = new QNetworkDiskCache(networkAccessManage
r);</td><td> </td><td class="right">       QNetworkDiskCache* cache = new QNetworkDiskCache(networkAccessManage
r);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //make maximum cache size configurable (in MB)</td><td> </td><td class="right">       //make maximum cache size configurable (in MB)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //the default Qt value (50 MB) is quite low, especially for DSS</td><td> </td><td class="right">       //the default Qt value (50 MB) is quite low, especially for DSS</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       cache-&gt;setMaximumCacheSize(confSettings-&gt;value("main/network_cache_s
ize",300).toInt() * 1024 * 1024);</td><td> </td><td class="right">       cache-&gt;setMaximumCacheSize(confSettings-&gt;value("main/network_cache_s
ize",300).toInt() * 1024 * 1024);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString cachePath = StelFileMgr::getCacheDir();</td><td> </td><td class="right">       QString cachePath = StelFileMgr::getCacheDir();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDebug() &lt;&lt; "Cache directory is: " &lt;&lt; QDir::toNativeSeparators(cache
Path);</td><td> </td><td class="right">       qDebug() &lt;&lt; "Cache directory is: " &lt;&lt; QDir::toNativeSeparators(cache
Path);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 483</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 489</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Init audio manager</td><td> </td><td class="right">       // Init audio manager</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       audioMgr = new StelAudioMgr();</td><td> </td><td class="right">       audioMgr = new StelAudioMgr();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Init video manager</td><td> </td><td class="right">       // Init video manager</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       videoMgr = new StelVideoMgr();</td><td> </td><td class="right">       videoMgr = new StelVideoMgr();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       videoMgr-&gt;init();</td><td> </td><td class="right">       videoMgr-&gt;init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       getModuleMgr().registerModule(videoMgr);</td><td> </td><td class="right">       getModuleMgr().registerModule(videoMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Constellations</td><td> </td><td class="right">       // Constellations</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       ConstellationMgr* <span class="delete">asterisms</span> = new ConstellationMgr(hip_stars);</td><td> </td><td class="rblock">       ConstellationMgr* <span class="insert">constellations</span> = new ConstellationMgr(hip_stars);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">constellations-&gt;init();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       getModuleMgr().registerModule(constellations);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       // Asterisms</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       AsterismMgr* asterisms = new AsterismMgr(hip_stars);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       asterisms-&gt;init();</td><td> </td><td class="right">       asterisms-&gt;init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       getModuleMgr().registerModule(asterisms);</td><td> </td><td class="right">       getModuleMgr().registerModule(asterisms);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Landscape, atmosphere &amp; cardinal points section</td><td> </td><td class="right">       // Landscape, atmosphere &amp; cardinal points section</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       LandscapeMgr* landscape = new LandscapeMgr();</td><td> </td><td class="right">       LandscapeMgr* landscape = new LandscapeMgr();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       landscape-&gt;init();</td><td> </td><td class="right">       landscape-&gt;init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       getModuleMgr().registerModule(landscape);</td><td> </td><td class="right">       getModuleMgr().registerModule(landscape);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       GridLinesMgr* gridLines = new GridLinesMgr();</td><td> </td><td class="right">       GridLinesMgr* gridLines = new GridLinesMgr();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       gridLines-&gt;init();</td><td> </td><td class="right">       gridLines-&gt;init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 590</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 601</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Load and initialize external modules (plugins)</td><td> </td><td class="right">// Load and initialize external modules (plugins)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::initPlugIns()</td><td> </td><td class="right">void StelApp::initPlugIns()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Load dynamically all the modules found in the modules/ directorie
s</td><td> </td><td class="right">       // Load dynamically all the modules found in the modules/ directorie
s</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // which are configured to be loaded at startup</td><td> </td><td class="right">       // which are configured to be loaded at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (StelModuleMgr::PluginDescriptor i, moduleMgr-&gt;getPluginsLis
t())</td><td> </td><td class="right">       foreach (StelModuleMgr::PluginDescriptor i, moduleMgr-&gt;getPluginsLis
t())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (i.loadAtStartup==false)</td><td> </td><td class="right">               if (i.loadAtStartup==false)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       continue;</td><td> </td><td class="right">                       continue;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelModule* m = moduleMgr-&gt;loadPlugin(i.info.id);</td><td> </td><td class="right">               StelModule* m = moduleMgr-&gt;loadPlugin(i.info.id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               if (m!=<span class="delete">NULL</span>)</td><td> </td><td class="rblock">               if (m!=<span class="insert">Q_NULLPTR</span>)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       moduleMgr-&gt;registerModule(m, true);</td><td> </td><td class="right">                       moduleMgr-&gt;registerModule(m, true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">//load extensions after the module is registered</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       moduleMgr-&gt;loadExtensions(i.info.id);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       m-&gt;init();</td><td> </td><td class="right">                       m-&gt;init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::deinit()</td><td> </td><td class="right">void StelApp::deinit()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef         ENABLE_SPOUT</td><td> </td><td class="right">#ifdef         ENABLE_SPOUT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       delete spoutSender;</td><td> </td><td class="right">       delete spoutSender;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       spoutSender = Q_NULLPTR;</td><td> </td><td class="right">       spoutSender = Q_NULLPTR;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 724</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 737</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               core-&gt;windowHasBeenResized(rect.x(), rect.y(), rect.width(),
 rect.height());</td><td> </td><td class="right">               core-&gt;windowHasBeenResized(rect.x(), rect.y(), rect.width(),
 rect.height());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               saveProjW = rect.width();</td><td> </td><td class="right">               saveProjW = rect.width();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               saveProjH = rect.height();</td><td> </td><td class="right">               saveProjH = rect.height();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (renderBuffer)</td><td> </td><td class="right">       if (renderBuffer)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ensureGLContextCurrent();</td><td> </td><td class="right">               ensureGLContextCurrent();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete renderBuffer;</td><td> </td><td class="right">               delete renderBuffer;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               renderBuffer = <span class="delete">NULL</span>;</td><td> </td><td class="rblock">               renderBuffer = <span class="insert">Q_NULLPTR</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef ENABLE_SPOUT</td><td> </td><td class="right">#ifdef ENABLE_SPOUT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (spoutSender)</td><td> </td><td class="right">       if (spoutSender)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               spoutSender-&gt;resize(rect.width(),rect.height());</td><td> </td><td class="right">               spoutSender-&gt;resize(rect.width(),rect.height());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Handle mouse clics</td><td> </td><td class="right">// Handle mouse clics</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::handleClick(QMouseEvent* inputEvent)</td><td> </td><td class="right">void StelApp::handleClick(QMouseEvent* inputEvent)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 920</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 933</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void StelApp::setViewportEffect(const QString&amp; name)</td><td> </td><td class="right">void StelApp::setViewportEffect(const QString&amp; name)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (name == getViewportEffect()) return;</td><td> </td><td class="right">       if (name == getViewportEffect()) return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (renderBuffer)</td><td> </td><td class="right">       if (renderBuffer)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ensureGLContextCurrent();</td><td> </td><td class="right">               ensureGLContextCurrent();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete renderBuffer;</td><td> </td><td class="right">               delete renderBuffer;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               renderBuffer = <span class="delete">NULL</span>;</td><td> </td><td class="rblock">               renderBuffer = <span class="insert">Q_NULLPTR</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (viewportEffect)</td><td> </td><td class="right">       if (viewportEffect)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete viewportEffect;</td><td> </td><td class="right">               delete viewportEffect;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               viewportEffect = <span class="delete">NULL</span>;</td><td> </td><td class="rblock">               viewportEffect = <span class="insert">Q_NULLPTR</span>;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (name == "none") return;</td><td> </td><td class="right">       if (name == "none") return;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       StelProjector::StelProjectorParams params = core-&gt;getCurrentStelProj
ectorParams();</td><td> </td><td class="right">       StelProjector::StelProjectorParams params = core-&gt;getCurrentStelProj
ectorParams();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int w = params.viewportXywh[2];</td><td> </td><td class="right">       int w = params.viewportXywh[2];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int h = params.viewportXywh[3];</td><td> </td><td class="right">       int h = params.viewportXywh[3];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (name == "sphericMirrorDistorter")</td><td> </td><td class="right">       if (name == "sphericMirrorDistorter")</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               viewportEffect = new StelViewportDistorterFisheyeToSphericMi
rror(w, h);</td><td> </td><td class="right">               viewportEffect = new StelViewportDistorterFisheyeToSphericMi
rror(w, h);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 18 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>42 lines changed or deleted</i></th><th><i> </i></th><th><i>56 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
