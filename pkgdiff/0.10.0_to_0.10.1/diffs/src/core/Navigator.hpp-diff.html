<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: Navigator.hpp - StelNavigator.hpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;Navigator.hpp&nbsp;</th><th> </th><th>&nbsp;StelNavigator.hpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 20</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 20</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * This program is distributed in the hope that it will be useful,</td><td> </td><td class="right"> * This program is distributed in the hope that it will be useful,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td> </td><td class="right"> * but WITHOUT ANY WARRANTY; without even the implied warranty of</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td> </td><td class="right"> * MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.  See the</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * GNU General Public License for more details.</td><td> </td><td class="right"> * GNU General Public License for more details.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> *</td><td> </td><td class="right"> *</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * You should have received a copy of the GNU General Public License</td><td> </td><td class="right"> * You should have received a copy of the GNU General Public License</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * along with this program; if not, write to the Free Software</td><td> </td><td class="right"> * along with this program; if not, write to the Free Software</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td> </td><td class="right"> * Foundation, Inc., 59 Temple Place - Suite 330, Boston, MA  02111-1307, U
SA.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"> */</td><td> </td><td class="right"> */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">#ifndef <span class="delete">_NAVIGATOR_HPP_</span></td><td> </td><td class="rblock">#ifndef <span class="insert">_STELNAVIGATOR_HPP_</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">#define <span class="delete">_NAVIGATOR_HPP_</span></td><td> </td><td class="rblock">#define <span class="insert">_STELNAVIGATOR_HPP_</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">#include "<span class="delete">vecmath.h</span>"</td><td> </td><td class="rblock">#include "<span class="insert">VecMath.hpp</span>"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include "fixx11h.h"</td><td> </td><td class="right">#include "fixx11h.h"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QObject&gt;</td><td> </td><td class="right">#include &lt;QObject&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QString&gt;</td><td> </td><td class="right">#include &lt;QString&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QTime&gt;</td><td> </td><td class="right">#include &lt;QTime&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#include &lt;QDateTime&gt;</td><td> </td><td class="right">#include &lt;QDateTime&gt;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">// Conversion in standar Julian time format</td><td> </td><td class="right">// Conversion in standar Julian time format</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_SECOND 0.000011574074074074074074</td><td> </td><td class="right">#define JD_SECOND 0.000011574074074074074074</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_MINUTE 0.00069444444444444444444</td><td> </td><td class="right">#define JD_MINUTE 0.00069444444444444444444</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_HOUR   0.041666666666666666666</td><td> </td><td class="right">#define JD_HOUR   0.041666666666666666666</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#define JD_DAY    1.</td><td> </td><td class="right">#define JD_DAY    1.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">extern const Mat4d matJ2000ToVsop87;</span></td><td> </td><td class="rblock">class <span class="insert">StelObserver;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">extern const Mat4d matVsop87ToJ2000;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">class <span class="delete">Observer;</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class StelObject;</td><td> </td><td class="right">class StelObject;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">class LoadingBar;</td><td> </td><td class="rblock">class <span class="insert">Stel</span>LoadingBar;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">class Planet;</td><td> </td><td class="right">class Planet;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">class Location;</td><td> </td><td class="rblock">class <span class="insert">Stel</span>Location;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">//! @class Navigator</td><td> </td><td class="rblock">//! @class <span class="insert">Stel</span>Navigator</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Manages a navigation context.  This includes:</td><td> </td><td class="right">//! Manages a navigation context.  This includes:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - date/time</td><td> </td><td class="right">//! - date/time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - viewing direction/fov</td><td> </td><td class="right">//! - viewing direction/fov</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - observer position</td><td> </td><td class="right">//! - observer position</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! - coordinate changes</td><td> </td><td class="right">//! - coordinate changes</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">class Navigator : public QObject</td><td> </td><td class="rblock">class <span class="insert">Stel</span>Navigator : public QObject</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Q_OBJECT<span class="delete">;</span></td><td> </td><td class="rblock">       Q_OBJECT</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public:</td><td> </td><td class="right">public:</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       enum ViewingModeType</td><td> </td><td class="right">       enum ViewingModeType</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ViewHorizon,</td><td> </td><td class="right">               ViewHorizon,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ViewEquator</td><td> </td><td class="right">               ViewEquator</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       };</td><td> </td><td class="right">       };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Possible mount modes</td><td> </td><td class="right">       //! Possible mount modes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       enum MountMode { MountAltAzimuthal, MountEquatorial };</td><td> </td><td class="right">       enum MountMode { MountAltAzimuthal, MountEquatorial };</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Create and initialise to default a navigation context</td><td> </td><td class="right">       // Create and initialise to default a navigation context</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">Navigator();</span></td><td> </td><td class="rblock">       <span class="insert">StelNavigator();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       ~Navigator();</span></td><td> </td><td class="rblock"><span class="insert">       ~StelNavigator();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void init();</td><td> </td><td class="right">       void init();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void updateTime(double deltaTime);</td><td> </td><td class="right">       void updateTime(double deltaTime);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void updateTransformMatrices(void);</td><td> </td><td class="right">       void updateTransformMatrices(void);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set current mount type</td><td> </td><td class="right">       //! Set current mount type</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setMountMode(MountMode m) {setViewingMode((m==MountAltAzimuthal
) ? <span class="delete">Navigator::ViewHorizon : </span>Navigator::ViewEquator);}</td><td> </td><td class="rblock">       void setMountMode(MountMode m) {setViewingMode((m==MountAltAzimuthal
) ? <span class="insert">StelNavigator::ViewHorizon : Stel</span>Navigator::ViewEquator);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get current mount type</td><td> </td><td class="right">       //! Get current mount type</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       MountMode getMountMode(void) {return ((getViewingMode()==<span class="delete">Navigator::
</span>ViewHorizon) ? MountAltAzimuthal : MountEquatorial);}</td><td> </td><td class="rblock">       MountMode getMountMode(void) {return ((getViewingMode()==<span class="insert">StelNavigat
or::</span>ViewHorizon) ? MountAltAzimuthal : MountEquatorial);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get vision direction</td><td> </td><td class="right">       //! Get vision direction</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Vec3d&amp; <span class="delete">getEquVision(void)</span> const {return <span class="delete">equVision;}</span></td><td> </td><td class="rblock">       const Vec3d&amp; <span class="insert">getEquinoxEquVisionDirection(void)</span> const {return <span class="insert">earthE</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Vec3d&amp; <span class="delete">getJ2000EquVision(void)</span> const {return <span class="delete">J2000EquVision;}</span></td><td> </td><td class="rblock"><span class="insert">quVisionDirection;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Vec3d&amp; <span class="delete">getLocalVision(void)</span> const {return <span class="delete">localVision;}</span></td><td> </td><td class="rblock">       const Vec3d&amp; <span class="insert">getJ2000EquVisionDirection(void)</span> const {return <span class="insert">J2000Equ</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void <span class="delete">setLocalVision(const</span> Vec3d&amp; _pos);</td><td> </td><td class="rblock"><span class="insert">VisionDirection;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void <span class="delete">setEquVision(const</span> Vec3d&amp; _pos);</td><td> </td><td class="rblock">       const Vec3d&amp; <span class="insert">getAltAzVisionDirection(void)</span> const {return <span class="insert">altAzVision</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void <span class="delete">setJ2000EquVision(const</span> Vec3d&amp; _pos);</td><td> </td><td class="rblock"><span class="insert">Direction;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       void <span class="insert">setAltAzVisionDirection(const</span> Vec3d&amp; _pos);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       void <span class="insert">setEquinoxEquVisionDirection(const</span> Vec3d&amp; _pos);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       void <span class="insert">setJ2000EquVisionDirection(const</span> Vec3d&amp; _pos);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the informations on the current location</td><td> </td><td class="right">       //! Get the informations on the current location</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const <span class="delete">Location&amp;</span> getCurrentLocation() const;</td><td> </td><td class="rblock">       const <span class="insert">StelLocation&amp;</span> getCurrentLocation() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Smoothly move the observer to the given location</td><td> </td><td class="right">       //! Smoothly move the observer to the given location</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! @param target the target location</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param duration direction of view move duration in s</td><td> </td><td class="right">       //! @param duration direction of view move duration in s</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @param durationIfPlanetChange direction of view + planet travel 
move duration in s.</td><td> </td><td class="right">       //! @param durationIfPlanetChange direction of view + planet travel 
move duration in s.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! This is used only if the destination planet is different from th
e starting one.</td><td> </td><td class="right">       //! This is used only if the destination planet is different from th
e starting one.</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void moveObserverTo(const <span class="delete">Location&amp; target, double duration=1., doub
</span>le durationIfPlanetChange=1.);</td><td> </td><td class="rblock">       void moveObserverTo(const <span class="insert">StelLocation&amp; target, double duration=1., 
doub</span>le durationIfPlanetChange=1.);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the sideral time shifted by the observer longitude</td><td> </td><td class="right">       //! Get the sideral time shifted by the observer longitude</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! @return the locale sideral time in radian</td><td> </td><td class="right">       //! @return the locale sideral time in radian</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getLocalSideralTime() const;</td><td> </td><td class="right">       double getLocalSideralTime() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const Planet *getHomePlanet(void) const;</td><td> </td><td class="right">       const Planet *getHomePlanet(void) const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Return the observer heliocentric position</td><td> </td><td class="rblock">       //! Return the observer heliocentric <span class="insert">ecliptic</span> position</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">getObserverHelioPos(void)</span> const;</td><td> </td><td class="rblock">       Vec3d <span class="insert">getObserverHeliocentricEclipticPos(void)</span> const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                                                                           </td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       <span class="delete">//! Transform vector from local coordinate to equatorial</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       Vec3d localToEarthEqu(const Vec3d&amp; v) const { return matLocalToEarth</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">Equ*v; }</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Transform vector from <span class="delete">equatorial</span> coordinate to <span class="delete">local</span></td><td> </td><td class="rblock">       //! Transform vector from <span class="insert">altazimuthal</span> coordinate to <span class="insert">equatorial</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">earthEquToLocal(const</span> Vec3d&amp; v) const { return <span class="delete">matEarthEquToLo</span></td><td> </td><td class="rblock">       Vec3d <span class="insert">altAzToEquinoxEqu(const</span> Vec3d&amp; v) const { return <span class="insert">matAltAzToEqu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">cal*v;</span> }</td><td> </td><td class="rblock"><span class="insert">inoxEqu*v;</span> }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">earthEquToJ2000(const</span> Vec3d&amp; v) const { return <span class="delete">matEarthEquToJ2</span></td><td> </td><td class="rblock">       <span class="insert">//! Transform vector from equatorial coordinate to altazimuthal</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">000*v;</span> }</td><td> </td><td class="rblock">       Vec3d <span class="insert">equinoxEquToAltAz(const</span> Vec3d&amp; v) const { return <span class="insert">matEquinoxEqu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">j2000ToEarthEqu(const</span> Vec3d&amp; v) const { return <span class="delete">matJ2000ToEarth</span></td><td> </td><td class="rblock"><span class="insert">ToAltAz*v;</span> }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">Equ*v;</span> }</td><td> </td><td class="rblock">       Vec3d <span class="insert">equinoxEquToJ2000(const</span> Vec3d&amp; v) const { return <span class="insert">matEquinoxEqu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">j2000ToLocal(const</span> Vec3d&amp; v) const { return <span class="delete">matJ2000ToLocal*v;</span></td><td> </td><td class="rblock"><span class="insert">ToJ2000*v;</span> }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> }</td><td> </td><td class="rblock">       Vec3d <span class="insert">j2000ToEquinoxEqu(const</span> Vec3d&amp; v) const { return <span class="insert">matJ2000ToEqu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">inoxEqu*v; }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Vec3d j2000ToAltAz(const Vec3d&amp; v) const { return matJ2000ToAltAz*v;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"> }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Transform vector from heliocentric coordinate to <span class="delete">local</span></td><td> </td><td class="rblock">       //! Transform vector from heliocentric <span class="insert">ecliptic</span> coordinate to <span class="insert">altazi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">helioToLocal(const</span> Vec3d&amp; v) const { return <span class="delete">matHelioToLocal*v;</span></td><td> </td><td class="rblock"><span class="insert">muthal</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"> }</td><td> </td><td class="rblock">       Vec3d <span class="insert">heliocentricEclipticToAltAz(const</span> Vec3d&amp; v) const { return <span class="insert">mat</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">HeliocentricEclipticToAltAz*v;</span> }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Transform <span class="delete">vector</span> from heliocentric coordinate to <span class="delete">earth equatoria</span></td><td> </td><td class="rblock">       //! Transform from heliocentric coordinate to <span class="insert">equatorial at current </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">l,</span></td><td> </td><td class="rblock"><span class="insert">equinox (for the planet where the observer stands)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       //! only needed in meteor.cpp</span></td><td> </td><td class="rblock">       Vec3d <span class="insert">heliocentricEclipticToEquinoxEqu(const</span> Vec3d&amp; v) const { <span class="insert">retur</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">helioToEarthEqu(const</span> Vec3d&amp; v) const { <span class="delete">return matHelioToEarth</span></td><td> </td><td class="rblock"><span class="insert">n matHeliocentricEclipticToEquinoxEqu*v;</span> }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">Equ*v;</span> }</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Transform vector from heliocentric coordinate to false equatoria
l : equatorial</td><td> </td><td class="right">       //! Transform vector from heliocentric coordinate to false equatoria
l : equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! coordinate but centered on the observer position (usefull for ob
jects close to earth)</td><td> </td><td class="right">       //! coordinate but centered on the observer position (usefull for ob
jects close to earth)</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d helio<span class="delete">ToEarthPosEqu(const Vec3d&amp; v) const { return matLocalToEa
rthEqu*matHelioToLocal</span>*v; }</td><td> </td><td class="rblock">       Vec3d helio<span class="insert">centricEclipticToEarthPosEquinoxEqu(const Vec3d&amp; v) const
 { return matAltAzToEquinoxEqu*matHeliocentricEclipticToAltAz</span>*v; }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! <span class="delete">Return</span> the modelview matrix for <span class="delete">some coordinate systems</span></td><td> </td><td class="rblock">       //! <span class="insert">Get</span> the modelview matrix for <span class="insert">heliocentric ecliptic (Vsop87) draw</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const <span class="delete">Mat4d&amp; getHelioToEyeMat(void)</span> const {return <span class="delete">matHelioToEye;}</span></td><td> </td><td class="rblock"><span class="insert">ing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const <span class="delete">Mat4d&amp; getEarthEquToEyeMat(void)</span> const {return <span class="delete">matEarthEquToEy</span></td><td> </td><td class="rblock">       const <span class="insert">Mat4d getHeliocentricEclipticModelViewMat(void)</span> const {return </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e;}</span></td><td> </td><td class="rblock"><span class="insert">matAltAzModelView*matHeliocentricEclipticToAltAz;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const Mat4d&amp; <span class="delete">getLocalToEyeMat(void)</span> const {return <span class="delete">matLocalToEye;}</span></td><td> </td><td class="rblock"><span class="insert">       //! Get the modelview matrix for observer-centric ecliptic (Vsop87) </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       const <span class="delete">Mat4d&amp; getJ2000ToEyeMat(void)</span> const {return <span class="delete">matJ2000ToEye;}</span></td><td> </td><td class="rblock"><span class="insert">drawing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       const Mat4d getObservercentricEclipticModelViewMat(void) const {retu</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rn matAltAzModelView*matJ2000ToAltAz*matVsop87ToJ2000;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Get the modelview matrix for observer-centric equatorial at equi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">nox drawing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       const <span class="insert">Mat4d getEquinoxEquModelViewMat(void)</span> const {return <span class="insert">matAltAzMo</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">delView*matEquinoxEquToAltAz;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Get the modelview matrix for observer-centric altazimuthal drawi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ng</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       const Mat4d&amp; <span class="insert">getAltAzModelViewMat(void)</span> const {return <span class="insert">matAltAzModelV</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">iew;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Get the modelview matrix for observer-centric J2000 equatorial d</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rawing</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       const <span class="insert">Mat4d getJ2000ModelViewMat(void)</span> const {return <span class="insert">matAltAzModelVi</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ew*matEquinoxEquToAltAz*matJ2000ToEquinoxEqu;}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setViewingMode(ViewingModeType viewMode);</td><td> </td><td class="right">       void setViewingMode(ViewingModeType viewMode);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ViewingModeType getViewingMode(void) const {return viewingMode;}</td><td> </td><td class="right">       ViewingModeType getViewingMode(void) const {return viewingMode;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0023" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Return the inital viewing direction in altazimutal coordinates</td><td> </td><td class="rblock">       //! Return the inital viewing direction in altazimut<span class="insert">h</span>al coordinates</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const Vec3d&amp; getInitViewingDirection() {return initViewPos;}</td><td> </td><td class="right">       const Vec3d&amp; getInitViewingDirection() {return initViewPos;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the preset sky time in JD</td><td> </td><td class="right">       //! Return the preset sky time in JD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getPresetSkyTime() const {return presetSkyTime;}</td><td> </td><td class="right">       double getPresetSkyTime() const {return presetSkyTime;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the preset sky time from a JD</td><td> </td><td class="right">       //! Set the preset sky time from a JD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setPresetSkyTime(double d) {presetSkyTime=d;}</td><td> </td><td class="right">       void setPresetSkyTime(double d) {presetSkyTime=d;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Return the startup mode, can be preset|Preset or anything else</td><td> </td><td class="right">       //! Return the startup mode, can be preset|Preset or anything else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getStartupTimeMode() {return startupTimeMode;}</td><td> </td><td class="right">       QString getStartupTimeMode() {return startupTimeMode;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setStartupTimeMode(const QString&amp; s);</td><td> </td><td class="right">       void setStartupTimeMode(const QString&amp; s);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0024" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! <span class="delete">Update the modelview matrices</span></td><td> </td><td class="rblock">       //! <span class="insert">Rotation matrix from equatorial J2000 to ecliptic (Vsop87)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       void updateModelViewMat(void);</span></td><td> </td><td class="rblock"><span class="insert">       static const Mat4d matJ2000ToVsop87;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       //! Rotation matrix from ecliptic (Vsop87) to equatorial J2000</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       static const Mat4d matVsop87ToJ2000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">public slots:</td><td> </td><td class="right">public slots:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0025" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Toggle current mount mode between equatorial and altazimutal</td><td> </td><td class="rblock">       //! Toggle current mount mode between equatorial and altazimut<span class="insert">h</span>al</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void toggleMountMode() {if (getMountMode()==MountAltAzimuthal) setMo
untMode(MountEquatorial); else setMountMode(MountAltAzimuthal);}</td><td> </td><td class="right">       void toggleMountMode() {if (getMountMode()==MountAltAzimuthal) setMo
untMode(MountEquatorial); else setMountMode(MountAltAzimuthal);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0026" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       //! Define whether we should use equatorial mount or altazimutal</td><td> </td><td class="rblock">       //! Define whether we should use equatorial mount or altazimut<span class="insert">h</span>al</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setEquatorialMount(bool b) {setMountMode(b ? MountEquatorial : 
MountAltAzimuthal);}</td><td> </td><td class="right">       void setEquatorialMount(bool b) {setMountMode(b ? MountEquatorial : 
MountAltAzimuthal);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the current date in Julian Day</td><td> </td><td class="right">       //! Set the current date in Julian Day</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setJDay(double JD) {JDay=JD;}</td><td> </td><td class="right">       void setJDay(double JD) {JDay=JD;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the current date in Julian Day</td><td> </td><td class="right">       //! Get the current date in Julian Day</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double getJDay() const {return JDay;}</td><td> </td><td class="right">       double getJDay() const {return JDay;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set time speed in JDay/sec</td><td> </td><td class="right">       //! Set time speed in JDay/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0027" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setTime<span class="delete">Speed</span>(double ts) {timeSpeed=ts;}</td><td> </td><td class="rblock">       void setTime<span class="insert">Rate</span>(double ts) {timeSpeed=ts;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get time speed in JDay/sec</td><td> </td><td class="right">       //! Get time speed in JDay/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0028" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double getTime<span class="delete">Speed</span>() const {return timeSpeed;}</td><td> </td><td class="rblock">       double getTime<span class="insert">Rate</span>() const {return timeSpeed;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Increase the time speed</td><td> </td><td class="right">       //! Increase the time speed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void increaseTimeSpeed();</td><td> </td><td class="right">       void increaseTimeSpeed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Decrease the time speed</td><td> </td><td class="right">       //! Decrease the time speed</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void decreaseTimeSpeed();</td><td> </td><td class="right">       void decreaseTimeSpeed();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0029" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//! Set time speed to 0, i.e. freeze the passage of simulation time</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void setZeroTimeSpeed() {setTimeRate(0);}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set real time speed, i.e. 1 sec/sec</td><td> </td><td class="right">       //! Set real time speed, i.e. 1 sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0030" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       void setRealTimeSpeed() {setTime<span class="delete">Speed</span>(JD_SECOND);}</td><td> </td><td class="rblock">       void setRealTimeSpeed() {setTime<span class="insert">Rate</span>(JD_SECOND);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get whether it is real time speed, i.e. 1 sec/sec</td><td> </td><td class="right">       //! Get whether it is real time speed, i.e. 1 sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool getRealTimeSpeed() const {return (fabs(timeSpeed-JD_SECOND)&lt;0.0
000001);}</td><td> </td><td class="right">       bool getRealTimeSpeed() const {return (fabs(timeSpeed-JD_SECOND)&lt;0.0
000001);}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set stellarium time to current real world time</td><td> </td><td class="right">       //! Set stellarium time to current real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setTimeNow();</td><td> </td><td class="right">       void setTimeNow();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the time to some value, leaving the day the same.</td><td> </td><td class="right">       //! Set the time to some value, leaving the day the same.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setTodayTime(const QTime&amp; target);</td><td> </td><td class="right">       void setTodayTime(const QTime&amp; target);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get wether the current stellarium time is the real world time</td><td> </td><td class="right">       //! Get wether the current stellarium time is the real world time</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool getIsTimeNow() const;</td><td> </td><td class="right">       bool getIsTimeNow() const;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 241</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 247</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Get the location used by default at startup</td><td> </td><td class="right">       //! Get the location used by default at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString getDefaultLocationID() const {return defaultLocationID;}</td><td> </td><td class="right">       QString getDefaultLocationID() const {return defaultLocationID;}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Set the location to use by default at startup</td><td> </td><td class="right">       //! Set the location to use by default at startup</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setDefaultLocationID(const QString&amp; id);</td><td> </td><td class="right">       void setDefaultLocationID(const QString&amp; id);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Sets the initial direction of view to the current altitude and a
zimuth.</td><td> </td><td class="right">       //! Sets the initial direction of view to the current altitude and a
zimuth.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //! Note: Updates the configuration file.</td><td> </td><td class="right">       //! Note: Updates the configuration file.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       void setInitViewDirectionToCurrent(void);</td><td> </td><td class="right">       void setInitViewDirectionToCurrent(void);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">private:</td><td> </td><td class="right">private:</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0031" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">//! Update the modelview matrices</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       void updateModelViewMat(void);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Matrices used for every coordinate transfo</td><td> </td><td class="right">       // Matrices used for every coordinate transfo</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0032" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matHelioToLocal;</span>    // Transform from <span class="delete">Heliocentric</span> to <span class="delete">Observer</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matHeliocentricEclipticToAltAz;</span>   // Transform from <span class="insert">heliocentr</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"> local</span> coordinate</td><td> </td><td class="rblock"><span class="insert">ic ecliptic (Vsop87)</span> to <span class="insert">observer-centric altazimuthal</span> coordinate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matLocalToHelio;</span>    // Transform from <span class="delete">Observer local coordinat</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matAltAzToHeliocentricEcliptic;</span>   // Transform from <span class="insert">observer-c</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e</span> to <span class="delete">Heliocentric</span></td><td> </td><td class="rblock"><span class="insert">entric altazimuthal coordinate</span> to <span class="insert">heliocentric ecliptic (Vsop87)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matLocalToEarthEqu;</span> // Transform from <span class="delete">Observer local coordinat</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matAltAzToEquinoxEqu;</span>                             // Transform</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e</span> to Earth Equatorial</td><td> </td><td class="rblock"> from <span class="insert">observer-centric altazimuthal coordinate</span> to Earth Equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matEarthEquToLocal;</span> // Transform from <span class="delete">Observer local coordinat</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matEquinoxEquToAltAz;</span>                             // Transform</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">e</span> to Earth Equatorial</td><td> </td><td class="rblock"> from <span class="insert">observer-centric altazimuthal coordinate</span> to Earth Equatorial</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matHelioToEarthEqu; //</span> Transform from <span class="delete">Heliocentric</span> to earth <span class="delete">eq</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matHeliocentricEclipticToEquinoxEqu;//</span> Transform from <span class="insert">heliocen</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">uatorial</span> coordinate</td><td> </td><td class="rblock"><span class="insert">tric ecliptic (Vsop87)</span> to earth <span class="insert">equatorial</span> coordinate</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matEarthEquToJ2000;</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matEquinoxEquToJ2000;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       Mat4d matJ2000ToEarthEqu;</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matJ2000ToEquinoxEqu;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       Mat4d matJ2000ToLocal;</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matJ2000ToAltAz;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete"></span></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">       Mat4d matLocalToEye;      // Modelview matrix for observer local dra</span></td><td> </td><td class="rblock">       Mat4d <span class="insert">matAltAzModelView;</span>                                        // <span class="insert">M</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">wing</span></td><td> </td><td class="rblock"><span class="insert">odelview</span> matrix for <span class="insert">observer-centric altazimuthal</span> drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matEarthEquToEye;   // Modelview matrix for geocentric equator</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">ial drawing</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matJ2000ToEye;      // precessed version</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Mat4d <span class="delete">matHelioToEye;</span>      // <span class="delete">Modelview</span> matrix for <span class="delete">heliocentric equat</span></td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">orial</span> drawing</td><td> </td><td class="rblock"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Vision variables</td><td> </td><td class="right">       // Vision variables</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0033" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       // Viewing direction in <span class="delete">local</span> and equatorial coordinates</td><td> </td><td class="rblock">       // Viewing direction in <span class="insert">altazimuthal</span> and equatorial coordinates</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Vec3d <span class="delete">localVision, equVision, J2000EquVision;</span></td><td> </td><td class="rblock">       Vec3d <span class="insert">altAzVisionDirection, earthEquVisionDirection, J2000EquVisionD</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">irection;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Time variable</td><td> </td><td class="right">       // Time variable</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double timeSpeed;        // Positive : forward, Negative : Backward,
 1 = 1sec/sec</td><td> </td><td class="right">       double timeSpeed;        // Positive : forward, Negative : Backward,
 1 = 1sec/sec</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double JDay;              // Curent time in Julian day</td><td> </td><td class="right">       double JDay;              // Curent time in Julian day</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       double presetSkyTime;</td><td> </td><td class="right">       double presetSkyTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QTime initTodayTime;</td><td> </td><td class="right">       QTime initTodayTime;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString startupTimeMode;</td><td> </td><td class="right">       QString startupTimeMode;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The ID of the default startup location</td><td> </td><td class="right">       // The ID of the default startup location</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QString defaultLocationID;</td><td> </td><td class="right">       QString defaultLocationID;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Position variables</td><td> </td><td class="right">       // Position variables</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0034" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       Observer* position;</td><td> </td><td class="rblock">       <span class="insert">Stel</span>Observer* position;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Vec3d initViewPos;        // Default viewing direction</td><td> </td><td class="right">       Vec3d initViewPos;        // Default viewing direction</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // defines if view corrects for horizon, or uses equatorial coordina
tes</td><td> </td><td class="right">       // defines if view corrects for horizon, or uses equatorial coordina
tes</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ViewingModeType viewingMode;</td><td> </td><td class="right">       ViewingModeType viewingMode;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">};</td><td> </td><td class="right">};</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0035" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">#endif // _NAVIGATOR_HPP_</td><td> </td><td class="rblock">#endif // _<span class="insert">STEL</span>NAVIGATOR_HPP_</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 35 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>86 lines changed or deleted</i></th><th><i> </i></th><th><i>104 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
