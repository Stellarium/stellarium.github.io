<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"> 
<!-- Generated by rfcdiff 1.41: rfcdiff  --> 
<!-- <!DOCTYPE html PUBLIC "-//W3C//DTD HTML 4.01 Transitional" > -->
<!-- System: Linux fomalhaut.local 3.13.0-38-generic #65-Ubuntu SMP Thu Oct 9 11:36:50 UTC 2014 x86_64 x86_64 x86_64 GNU/Linux --> 
<!-- Using awk: /usr/bin/gawk: GNU Awk 4.0.1 --> 
<!-- Using diff: /usr/bin/diff: diff (GNU diffutils) 3.3 --> 
<!-- Using wdiff: /usr/bin/wdiff: wdiff (GNU wdiff) 1.2.1 --> 
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en"> 
<head> 
  <meta http-equiv="Content-Type" content="text/html; charset=iso-8859-1" /> 
  <meta http-equiv="Content-Style-Type" content="text/css" /> 
  <title>Diff: Oculars.cpp - Oculars.cpp</title> 
  <style type="text/css"> 
    body    { font-size:16px; margin: 0.4ex; margin-right: auto; } 
    tr      { } 
    td      { white-space: pre; font-family: Consolas, "DejaVu Sans Mono", "Droid Sans Mono", Monaco, Monospace; vertical-align: top; font-size: 0.86em;} 
    th      { font-size: 0.86em; } 
    .small  { font-size: 0.6em; font-style: italic; font-family: Verdana, Helvetica, sans-serif; } 
    .left   { background-color: #EEE; } 
    .right  { background-color: #FFF; } 
    .diff   { background-color: #CCF; } 
    .lblock { background-color: #BFB; } 
    .rblock { background-color: #FF8; } 
    .insert { background-color: #8FF; } 
    .delete { background-color: #ACF; } 
    .void   { background-color: #FFB; } 
    .cont   { background-color: #EEE; } 
    .linebr { background-color: #AAA; } 
    .lineno { color: red; background-color: #FFF; font-size: 0.7em; text-align: right; padding: 0 2px; } 
    .elipsis{ background-color: #AAA; } 
    .left .cont { background-color: #DDD; } 
    .right .cont { background-color: #EEE; } 
    .lblock .cont { background-color: #9D9; } 
    .rblock .cont { background-color: #DD6; } 
    .insert .cont { background-color: #0DD; } 
    .delete .cont { background-color: #8AD; } 
    .stats, .stats td, .stats th { background-color: #EEE; padding: 2px 0; } 
  </style> 
</head> 
<body > 
  <table border="0" cellpadding="0" cellspacing="0"> 
  <tr bgcolor="orange"><th></th><th>&nbsp;Oculars.cpp&nbsp;</th><th> </th><th>&nbsp;Oculars.cpp&nbsp;</th><th></th></tr> 
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l1" /><small>skipping to change at</small><em> line 121</em></th><th> </th><th><a name="part-r1" /><small>skipping to change at</small><em> line 121</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ready = false;</td><td> </td><td class="right">       ready = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       requireSelection = true;</td><td> </td><td class="right">       requireSelection = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       useMaxEyepieceAngle = true;</td><td> </td><td class="right">       useMaxEyepieceAngle = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       font.setPixelSize(14);</td><td> </td><td class="right">       font.setPixelSize(14);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       maxEyepieceAngle = 0.0;</td><td> </td><td class="right">       maxEyepieceAngle = 0.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ccds = QList&lt;CCD *&gt;();</td><td> </td><td class="right">       ccds = QList&lt;CCD *&gt;();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       oculars = QList&lt;Ocular *&gt;();</td><td> </td><td class="right">       oculars = QList&lt;Ocular *&gt;();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       telescopes = QList&lt;Telescope *&gt;();</td><td> </td><td class="right">       telescopes = QList&lt;Telescope *&gt;();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0001" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">lense = QList&lt;Lens *&gt; ();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ccdRotationSignalMapper = new QSignalMapper(this);</td><td> </td><td class="right">       ccdRotationSignalMapper = new QSignalMapper(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ccdsSignalMapper = new QSignalMapper(this);</td><td> </td><td class="right">       ccdsSignalMapper = new QSignalMapper(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ocularsSignalMapper = new QSignalMapper(this);</td><td> </td><td class="right">       ocularsSignalMapper = new QSignalMapper(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       telescopesSignalMapper = new QSignalMapper(this);</td><td> </td><td class="right">       telescopesSignalMapper = new QSignalMapper(this);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0002" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       lenseSignalMapper = new QSignalMapper(this);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       selectedCCDIndex = -1;</td><td> </td><td class="right">       selectedCCDIndex = -1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       selectedOcularIndex = -1;</td><td> </td><td class="right">       selectedOcularIndex = -1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       selectedTelescopeIndex = -1;</td><td> </td><td class="right">       selectedTelescopeIndex = -1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0003" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       selectedLensIndex = -1;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       usageMessageLabelID = -1;</td><td> </td><td class="right">       usageMessageLabelID = -1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       setObjectName("Oculars");</td><td> </td><td class="right">       setObjectName("Oculars");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#ifdef Q_OS_MAC</td><td> </td><td class="right">#ifdef Q_OS_MAC</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qt_set_sequence_auto_mnemonic(true);</td><td> </td><td class="right">       qt_set_sequence_auto_mnemonic(true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#endif</td><td> </td><td class="right">#endif</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l2" /><small>skipping to change at</small><em> line 159</em></th><th> </th><th><a name="part-r2" /><small>skipping to change at</small><em> line 163</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete pxmapOnIcon;</td><td> </td><td class="right">               delete pxmapOnIcon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (pxmapOffIcon)</td><td> </td><td class="right">       if (pxmapOffIcon)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               delete pxmapOffIcon;</td><td> </td><td class="right">               delete pxmapOffIcon;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDeleteAll(ccds);</td><td> </td><td class="right">       qDeleteAll(ccds);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ccds.clear();</td><td> </td><td class="right">       ccds.clear();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDeleteAll(telescopes);</td><td> </td><td class="right">       qDeleteAll(telescopes);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       telescopes.clear();</td><td> </td><td class="right">       telescopes.clear();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       qDeleteAll(oculars);</td><td> </td><td class="right">       qDeleteAll(oculars);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       oculars.clear();</td><td> </td><td class="right">       oculars.clear();</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0004" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">qDeleteAll(lense);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       lense.clear();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QSettings* Oculars::appSettings()</td><td> </td><td class="right">QSettings* Oculars::appSettings()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return settings;</td><td> </td><td class="right">       return settings;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">/* ********************************************************************* */</td><td> </td><td class="right">/* ********************************************************************* */</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#if 0</td><td> </td><td class="right">#if 0</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">#pragma mark -</td><td> </td><td class="right">#pragma mark -</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l3" /><small>skipping to change at</small><em> line 187</em></th><th> </th><th><a name="part-r3" /><small>skipping to change at</small><em> line 193</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       return ready;</td><td> </td><td class="right">       return ready;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::deinit()</td><td> </td><td class="right">void Oculars::deinit()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // update the ini file.</td><td> </td><td class="right">       // update the ini file.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;remove("ccd");</td><td> </td><td class="right">       settings-&gt;remove("ccd");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;remove("ocular");</td><td> </td><td class="right">       settings-&gt;remove("ocular");</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;remove("telescope");</td><td> </td><td class="right">       settings-&gt;remove("telescope");</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0005" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       settings-&gt;remove("lens");</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int index = 0;</td><td> </td><td class="right">       int index = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach(CCD* ccd, ccds) {</td><td> </td><td class="right">       foreach(CCD* ccd, ccds) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString prefix = "ccd/" + QVariant(index).toString() + "/";</td><td> </td><td class="right">               QString prefix = "ccd/" + QVariant(index).toString() + "/";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "name", ccd-&gt;name());</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "name", ccd-&gt;name());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "resolutionX", ccd-&gt;resolutionX(
));</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "resolutionX", ccd-&gt;resolutionX(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "resolutionY", ccd-&gt;resolutionY(
));</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "resolutionY", ccd-&gt;resolutionY(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "chip_width", ccd-&gt;chipWidth());</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "chip_width", ccd-&gt;chipWidth());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "chip_height", ccd-&gt;chipHeight()
);</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "chip_height", ccd-&gt;chipHeight()
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "pixel_width", ccd-&gt;pixelWidth()
);</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "pixel_width", ccd-&gt;pixelWidth()
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "pixel_height", ccd-&gt;pixelWidth(
));</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "pixel_height", ccd-&gt;pixelWidth(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l4" /><small>skipping to change at</small><em> line 219</em></th><th> </th><th><a name="part-r4" /><small>skipping to change at</small><em> line 226</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       index = 0;</td><td> </td><td class="right">       index = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach(Telescope* telescope, telescopes){</td><td> </td><td class="right">       foreach(Telescope* telescope, telescopes){</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString prefix = "telescope/" + QVariant(index).toString() +
 "/";</td><td> </td><td class="right">               QString prefix = "telescope/" + QVariant(index).toString() +
 "/";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "name", telescope-&gt;name());</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "name", telescope-&gt;name());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "focalLength", telescope-&gt;focalL
ength());</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "focalLength", telescope-&gt;focalL
ength());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "diameter", telescope-&gt;diameter(
));</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "diameter", telescope-&gt;diameter(
));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "hFlip", telescope-&gt;isHFlipped()
);</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "hFlip", telescope-&gt;isHFlipped()
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               settings-&gt;setValue(prefix + "vFlip", telescope-&gt;isVFlipped()
);</td><td> </td><td class="right">               settings-&gt;setValue(prefix + "vFlip", telescope-&gt;isVFlipped()
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               index++;</td><td> </td><td class="right">               index++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0006" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">index = 0;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       foreach(Lens* lens, lense) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString prefix = "lens/" + QVariant(index).toString() + "/";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               settings-&gt;setValue(prefix + "name", lens-&gt;name());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               settings-&gt;setValue(prefix + "multipler", lens-&gt;multipler());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               index++;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("ocular_count", oculars.count());</td><td> </td><td class="right">       settings-&gt;setValue("ocular_count", oculars.count());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("telescope_count", telescopes.count());</td><td> </td><td class="right">       settings-&gt;setValue("telescope_count", telescopes.count());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;setValue("ccd_count", ccds.count());</td><td> </td><td class="right">       settings-&gt;setValue("ccd_count", ccds.count());</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0007" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       settings-&gt;setValue("lens_count", lense.count());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       settings-&gt;sync();</td><td> </td><td class="right">       settings-&gt;sync();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">//! Draw any parts on the screen which are for our module</td><td> </td><td class="right">//! Draw any parts on the screen which are for our module</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::draw(StelCore* core, StelRenderer* renderer)</td><td> </td><td class="right">void Oculars::draw(StelCore* core, StelRenderer* renderer)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flagShowTelrad) {</td><td> </td><td class="right">       if (flagShowTelrad) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               paintTelrad(renderer);</td><td> </td><td class="right">               paintTelrad(renderer);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       } else if (flagShowOculars){</td><td> </td><td class="right">       } else if (flagShowOculars){</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // Ensure there is a selected ocular &amp; telescope</td><td> </td><td class="right">               // Ensure there is a selected ocular &amp; telescope</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l5" /><small>skipping to change at</small><em> line 496</em></th><th> </th><th><a name="part-r5" /><small>skipping to change at</small><em> line 512</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (actualTelescopeCount &lt; telescopeCount) {</td><td> </td><td class="right">                       if (actualTelescopeCount &lt; telescopeCount) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               qWarning() &lt;&lt; "The Oculars ini file appears 
to be corrupt; delete it.";</td><td> </td><td class="right">                               qWarning() &lt;&lt; "The Oculars ini file appears 
to be corrupt; delete it.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       } else {</td><td> </td><td class="right">                       } else {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               qWarning() &lt;&lt; "There are no telescopes defin
ed for the Oculars plugin; plugin will be disabled.";</td><td> </td><td class="right">                               qWarning() &lt;&lt; "There are no telescopes defin
ed for the Oculars plugin; plugin will be disabled.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ready = false;</td><td> </td><td class="right">                       ready = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               } else {</td><td> </td><td class="right">               } else {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       selectedTelescopeIndex = 0;</td><td> </td><td class="right">                       selectedTelescopeIndex = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0008" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">               ocularDialog = new OcularDialog(this, &amp;ccds, &amp;oculars, &amp;tele</td><td> </td><td class="rblock">               <span class="insert">int lensCount = settings-&gt;value("lens_count", 0).toInt();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"><span class="delete">scopes);</span></td><td> </td><td class="rblock"><span class="insert">               int actualLensCount = lensCount;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               for (int index = 0; index&lt;lensCount; index++) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       Lens *newLens = Lens::lensFromSettings(settings, ind</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ex);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       if (newLens != NULL) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               lense.append(newLens);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       else {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               actualLensCount--;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               if (lensCount &gt; 0 &amp;&amp; actualLensCount &lt; lensCount)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       qWarning() &lt;&lt; "The Oculars ini file appears to be co</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">rrupt; delete it.";</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">               ocularDialog = new OcularDialog(this, &amp;ccds, &amp;oculars, &amp;tele</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">scopes, &amp;lense);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               initializeActivationActions();</td><td> </td><td class="right">               initializeActivationActions();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               determineMaxEyepieceAngle();</td><td> </td><td class="right">               determineMaxEyepieceAngle();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               guiPanelEnabled = settings-&gt;value("enable_control_panel", fa
lse).toBool();</td><td> </td><td class="right">               guiPanelEnabled = settings-&gt;value("enable_control_panel", fa
lse).toBool();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               enableGuiPanel(guiPanelEnabled);</td><td> </td><td class="right">               enableGuiPanel(guiPanelEnabled);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               setFlagDecimalDegrees(settings-&gt;value("use_decimal_degrees",
 false).toBool());</td><td> </td><td class="right">               setFlagDecimalDegrees(settings-&gt;value("use_decimal_degrees",
 false).toBool());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       } catch (std::runtime_error&amp; e) {</td><td> </td><td class="right">       } catch (std::runtime_error&amp; e) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               qWarning() &lt;&lt; "WARNING: unable to locate ocular.ini file or 
create a default one for Ocular plugin: " &lt;&lt; e.what();</td><td> </td><td class="right">               qWarning() &lt;&lt; "WARNING: unable to locate ocular.ini file or 
create a default one for Ocular plugin: " &lt;&lt; e.what();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ready = false;</td><td> </td><td class="right">               ready = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l6" /><small>skipping to change at</small><em> line 823</em></th><th> </th><th><a name="part-r6" /><small>skipping to change at</small><em> line 855</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::decrementTelescopeIndex()</td><td> </td><td class="right">void Oculars::decrementTelescopeIndex()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       selectedTelescopeIndex--;</td><td> </td><td class="right">       selectedTelescopeIndex--;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (selectedTelescopeIndex == -1) {</td><td> </td><td class="right">       if (selectedTelescopeIndex == -1) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               selectedTelescopeIndex = telescopes.count() - 1;</td><td> </td><td class="right">               selectedTelescopeIndex = telescopes.count() - 1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       emit(selectedTelescopeChanged());</td><td> </td><td class="right">       emit(selectedTelescopeChanged());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0009" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void Oculars::decrementLensIndex()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       selectedLensIndex++;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (selectedLensIndex == lense.count()) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               selectedLensIndex = -1;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       emit(selectedLensChanged());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::displayPopupMenu()</td><td> </td><td class="right">void Oculars::displayPopupMenu()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QMenu* popup = new QMenu(&amp;StelMainWindow::getInstance());</td><td> </td><td class="right">       QMenu* popup = new QMenu(&amp;StelMainWindow::getInstance());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flagShowOculars)</td><td> </td><td class="right">       if (flagShowOculars)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // We are in Oculars mode</td><td> </td><td class="right">               // We are in Oculars mode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // We want to show all of the Oculars, and if the current oc
ular is not a binocular,</td><td> </td><td class="right">               // We want to show all of the Oculars, and if the current oc
ular is not a binocular,</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // we will also show the telescopes.</td><td> </td><td class="right">               // we will also show the telescopes.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (!oculars.isEmpty())</td><td> </td><td class="right">               if (!oculars.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l7" /><small>skipping to change at</small><em> line 878</em></th><th> </th><th><a name="part-r7" /><small>skipping to change at</small><em> line 919</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       popup-&gt;addMenu(submenu);</td><td> </td><td class="right">                       popup-&gt;addMenu(submenu);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       popup-&gt;addSeparator();</td><td> </td><td class="right">                       popup-&gt;addSeparator();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // If there is more than one telescope, show the prev/next/l
ist complex.</td><td> </td><td class="right">               // If there is more than one telescope, show the prev/next/l
ist complex.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // If the selected ocular is a binoculars, show nothing.</td><td> </td><td class="right">               // If the selected ocular is a binoculars, show nothing.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (telescopes.count() &gt; 1 &amp;&amp; (selectedOcularIndex &gt; -1 &amp;&amp; !
oculars[selectedOcularIndex]-&gt;isBinoculars()))</td><td> </td><td class="right">               if (telescopes.count() &gt; 1 &amp;&amp; (selectedOcularIndex &gt; -1 &amp;&amp; !
oculars[selectedOcularIndex]-&gt;isBinoculars()))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               {</td><td> </td><td class="right">               {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QMenu* submenu = addTelescopeSubmenu(popup);</td><td> </td><td class="right">                       QMenu* submenu = addTelescopeSubmenu(popup);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       popup-&gt;addMenu(submenu);</td><td> </td><td class="right">                       popup-&gt;addMenu(submenu);</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0010" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">submenu = addLensSubmenu(popup);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       popup-&gt;addMenu(submenu);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       popup-&gt;addSeparator();</td><td> </td><td class="right">                       popup-&gt;addSeparator();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QAction* action = popup-&gt;addAction(q_("Toggle &amp;crosshair"));</td><td> </td><td class="right">               QAction* action = popup-&gt;addAction(q_("Toggle &amp;crosshair"));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               action-&gt;setCheckable(true);</td><td> </td><td class="right">               action-&gt;setCheckable(true);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               action-&gt;setChecked(flagShowCrosshairs);</td><td> </td><td class="right">               action-&gt;setChecked(flagShowCrosshairs);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               connect(action, SIGNAL(toggled(bool)),</td><td> </td><td class="right">               connect(action, SIGNAL(toggled(bool)),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               actionShowCrosshairs, SLOT(s
etChecked(bool)));</td><td> </td><td class="right">                                               actionShowCrosshairs, SLOT(s
etChecked(bool)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       } else {</td><td> </td><td class="right">       } else {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               // We are not in ocular mode</td><td> </td><td class="right">               // We are not in ocular mode</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l8" /><small>skipping to change at</small><em> line 1030</em></th><th> </th><th><a name="part-r8" /><small>skipping to change at</small><em> line 1073</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::incrementTelescopeIndex()</td><td> </td><td class="right">void Oculars::incrementTelescopeIndex()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       selectedTelescopeIndex++;</td><td> </td><td class="right">       selectedTelescopeIndex++;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (selectedTelescopeIndex == telescopes.count()) {</td><td> </td><td class="right">       if (selectedTelescopeIndex == telescopes.count()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               selectedTelescopeIndex = 0;</td><td> </td><td class="right">               selectedTelescopeIndex = 0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       emit(selectedTelescopeChanged());</td><td> </td><td class="right">       emit(selectedTelescopeChanged());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0011" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void Oculars::incrementLensIndex()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       selectedLensIndex++;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (selectedLensIndex == lense.count()) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               selectedLensIndex = -1;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       emit(selectedLensChanged());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void Oculars::disableLens()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       selectedLensIndex = -1;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       emit(selectedLensChanged());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::rotateCCD(QString amount)</td><td> </td><td class="right">void Oculars::rotateCCD(QString amount)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       ccdRotationAngle += amount.toInt();</td><td> </td><td class="right">       ccdRotationAngle += amount.toInt();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (ccdRotationAngle &gt;= 360)</td><td> </td><td class="right">       if (ccdRotationAngle &gt;= 360)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ccdRotationAngle -= 360;</td><td> </td><td class="right">               ccdRotationAngle -= 360;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (ccdRotationAngle &lt;= -360)</td><td> </td><td class="right">       if (ccdRotationAngle &lt;= -360)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ccdRotationAngle += 360;</td><td> </td><td class="right">               ccdRotationAngle += 360;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::selectCCDAtIndex(QString indexString)</td><td> </td><td class="right">void Oculars::selectCCDAtIndex(QString indexString)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l9" /><small>skipping to change at</small><em> line 1078</em></th><th> </th><th><a name="part-r9" /><small>skipping to change at</small><em> line 1136</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::selectTelescopeAtIndex(QString indexString)</td><td> </td><td class="right">void Oculars::selectTelescopeAtIndex(QString indexString)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       int index = indexString.toInt();</td><td> </td><td class="right">       int index = indexString.toInt();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (index &gt; -2 &amp;&amp; index &lt; telescopes.count()) {</td><td> </td><td class="right">       if (index &gt; -2 &amp;&amp; index &lt; telescopes.count()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               selectedTelescopeIndex = index;</td><td> </td><td class="right">               selectedTelescopeIndex = index;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               emit(selectedTelescopeChanged());</td><td> </td><td class="right">               emit(selectedTelescopeChanged());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0012" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">void Oculars::selectLensAtIndex(QString indexString)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       int index = indexString.toInt();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       if (index &gt; -2 &amp;&amp; index &lt; lense.count()) {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               selectedLensIndex = index;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               emit(selectedLensChanged());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::toggleCCD(bool show)</td><td> </td><td class="right">void Oculars::toggleCCD(bool show)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       //If there are no sensors...</td><td> </td><td class="right">       //If there are no sensors...</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (ccds.isEmpty() || telescopes.isEmpty())</td><td> </td><td class="right">       if (ccds.isEmpty() || telescopes.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //TODO: BM: Make this an on-screen message and/or disable th
e button</td><td> </td><td class="right">               //TODO: BM: Make this an on-screen message and/or disable th
e button</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               //if there are no sensors.</td><td> </td><td class="right">               //if there are no sensors.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (show)</td><td> </td><td class="right">               if (show)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       qWarning() &lt;&lt; "Oculars plugin: Unable to display a s
ensor boundary:"</td><td> </td><td class="right">                       qWarning() &lt;&lt; "Oculars plugin: Unable to display a s
ensor boundary:"</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                                &lt;&lt; "No sens
ors or telescopes are defined.";</td><td> </td><td class="right">                                                                &lt;&lt; "No sens
ors or telescopes are defined.";</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l10" /><small>skipping to change at</small><em> line 1240</em></th><th> </th><th><a name="part-r10" /><small>skipping to change at</small><em> line 1307</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(actionConfiguration, SIGNAL(toggled(bool)),</td><td> </td><td class="right">       connect(actionConfiguration, SIGNAL(toggled(bool)),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       ocularDialog, SLOT(setVisible(bool))
);</td><td> </td><td class="right">                                       ocularDialog, SLOT(setVisible(bool))
);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ocularDialog, SIGNAL(visibleChanged(bool)),</td><td> </td><td class="right">       connect(ocularDialog, SIGNAL(visibleChanged(bool)),</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                       actionConfiguration, SLOT(setChecked
(bool)));</td><td> </td><td class="right">                                       actionConfiguration, SLOT(setChecked
(bool)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(this, SIGNAL(selectedCCDChanged()), this, SLOT(instrumentCha
nged()));</td><td> </td><td class="right">       connect(this, SIGNAL(selectedCCDChanged()), this, SLOT(instrumentCha
nged()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(this, SIGNAL(selectedCCDChanged()), this, SLOT(setScreenFOVF
orCCD()));</td><td> </td><td class="right">       connect(this, SIGNAL(selectedCCDChanged()), this, SLOT(setScreenFOVF
orCCD()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(this, SIGNAL(selectedOcularChanged()), this, SLOT(instrument
Changed()));</td><td> </td><td class="right">       connect(this, SIGNAL(selectedOcularChanged()), this, SLOT(instrument
Changed()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(this, SIGNAL(selectedTelescopeChanged()), this, SLOT(instrum
entChanged()));</td><td> </td><td class="right">       connect(this, SIGNAL(selectedTelescopeChanged()), this, SLOT(instrum
entChanged()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(this, SIGNAL(selectedTelescopeChanged()), this, SLOT(setScre
enFOVForCCD()));</td><td> </td><td class="right">       connect(this, SIGNAL(selectedTelescopeChanged()), this, SLOT(setScre
enFOVForCCD()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0013" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(this, SIGNAL(selectedLensChanged()), this, SLOT(instrumentCh
anged()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ocularDialog, SIGNAL(requireSelectionChanged(bool)), this, S
LOT(setRequireSelection(bool)));</td><td> </td><td class="right">       connect(ocularDialog, SIGNAL(requireSelectionChanged(bool)), this, S
LOT(setRequireSelection(bool)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ocularDialog, SIGNAL(scaleImageCircleChanged(bool)), this, S
LOT(setScaleImageCircle(bool)));</td><td> </td><td class="right">       connect(ocularDialog, SIGNAL(scaleImageCircleChanged(bool)), this, S
LOT(setScaleImageCircle(bool)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ccdRotationSignalMapper, SIGNAL(mapped(QString)), this, SLOT
(rotateCCD(QString)));</td><td> </td><td class="right">       connect(ccdRotationSignalMapper, SIGNAL(mapped(QString)), this, SLOT
(rotateCCD(QString)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ccdsSignalMapper, SIGNAL(mapped(QString)), this, SLOT(select
CCDAtIndex(QString)));</td><td> </td><td class="right">       connect(ccdsSignalMapper, SIGNAL(mapped(QString)), this, SLOT(select
CCDAtIndex(QString)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ccdsSignalMapper, SIGNAL(mapped(QString)), this, SLOT(setScr
eenFOVForCCD()));</td><td> </td><td class="right">       connect(ccdsSignalMapper, SIGNAL(mapped(QString)), this, SLOT(setScr
eenFOVForCCD()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(ocularsSignalMapper, SIGNAL(mapped(QString)), this, SLOT(sel
ectOcularAtIndex(QString)));</td><td> </td><td class="right">       connect(ocularsSignalMapper, SIGNAL(mapped(QString)), this, SLOT(sel
ectOcularAtIndex(QString)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(telescopesSignalMapper, SIGNAL(mapped(QString)), this, SLOT(
selectTelescopeAtIndex(QString)));</td><td> </td><td class="right">       connect(telescopesSignalMapper, SIGNAL(mapped(QString)), this, SLOT(
selectTelescopeAtIndex(QString)));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       connect(telescopesSignalMapper, SIGNAL(mapped(QString)), this, SLOT(
setScreenFOVForCCD()));</td><td> </td><td class="right">       connect(telescopesSignalMapper, SIGNAL(mapped(QString)), this, SLOT(
setScreenFOVForCCD()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0014" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       connect(lenseSignalMapper, SIGNAL(mapped(QString)), this, SLOT(selec
tLensAtIndex(QString)));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">bool Oculars::isBinocularDefined()</td><td> </td><td class="right">bool Oculars::isBinocularDefined()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       bool binocularFound = false;</td><td> </td><td class="right">       bool binocularFound = false;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       foreach (Ocular* ocular, oculars) {</td><td> </td><td class="right">       foreach (Ocular* ocular, oculars) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               if (ocular-&gt;isBinoculars()) {</td><td> </td><td class="right">               if (ocular-&gt;isBinoculars()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       binocularFound = true;</td><td> </td><td class="right">                       binocularFound = true;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       break;</td><td> </td><td class="right">                       break;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l11" /><small>skipping to change at</small><em> line 1422</em></th><th> </th><th><a name="part-r11" /><small>skipping to change at</small><em> line 1491</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       const StelProjectorP prj = core-&gt;getProjection(StelCore::FrameAltAz)
;</td><td> </td><td class="right">       const StelProjectorP prj = core-&gt;getProjection(StelCore::FrameAltAz)
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Get the current instruments</td><td> </td><td class="right">       // Get the current instruments</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       CCD *ccd = NULL;</td><td> </td><td class="right">       CCD *ccd = NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if(selectedCCDIndex != -1) {</td><td> </td><td class="right">       if(selectedCCDIndex != -1) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               ccd = ccds[selectedCCDIndex];</td><td> </td><td class="right">               ccd = ccds[selectedCCDIndex];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Ocular *ocular = oculars[selectedOcularIndex];</td><td> </td><td class="right">       Ocular *ocular = oculars[selectedOcularIndex];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Telescope *telescope = telescopes[selectedTelescopeIndex];</td><td> </td><td class="right">       Telescope *telescope = telescopes[selectedTelescopeIndex];</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0015" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Lens *lens = selectedLensIndex &gt;=0  ? lense[selectedLensIndex] : NUL
L;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // set up drawing</td><td> </td><td class="right">       // set up drawing</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (StelApp::getInstance().getVisionModeNight())</td><td> </td><td class="right">       if (StelApp::getInstance().getVisionModeNight())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               renderer-&gt;setGlobalColor(0.8f, 0.0f, 0.0f);</td><td> </td><td class="right">               renderer-&gt;setGlobalColor(0.8f, 0.0f, 0.0f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               renderer-&gt;setGlobalColor(0.8f, 0.48f, 0.0f);</td><td> </td><td class="right">               renderer-&gt;setGlobalColor(0.8f, 0.48f, 0.0f);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       renderer-&gt;setBlendMode(BlendMode_Alpha);</td><td> </td><td class="right">       renderer-&gt;setBlendMode(BlendMode_Alpha);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Get the X &amp; Y positions, and the line height</td><td> </td><td class="right">       // Get the X &amp; Y positions, and the line height</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       renderer-&gt;setFont(font);</td><td> </td><td class="right">       renderer-&gt;setFont(font);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l12" /><small>skipping to change at</small><em> line 1478</em></th><th> </th><th><a name="part-r12" /><small>skipping to change at</small><em> line 1548</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       yPosition-=lineHeight;</td><td> </td><td class="right">                       yPosition-=lineHeight;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString ocularFov = QString::number(ocular-&gt;appearen
tFOV());</td><td> </td><td class="right">                       QString ocularFov = QString::number(ocular-&gt;appearen
tFOV());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       ocularFov.append(QChar(0x00B0));//Degree sign</td><td> </td><td class="right">                       ocularFov.append(QChar(0x00B0));//Degree sign</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // TRANSLATORS: aFOV = apparent field of view</td><td> </td><td class="right">                       // TRANSLATORS: aFOV = apparent field of view</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString ocularFOVLabel = QString(q_("Ocular aFOV: %1
"))</td><td> </td><td class="right">                       QString ocularFOVLabel = QString(q_("Ocular aFOV: %1
"))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                .arg(ocularFov);</td><td> </td><td class="right">                                                .arg(ocularFov);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
ocularFOVLabel));</td><td> </td><td class="right">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
ocularFOVLabel));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       yPosition-=lineHeight;</td><td> </td><td class="right">                       yPosition-=lineHeight;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0016" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                       <span class="insert">QString lensNumberLabel;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       // Barlow and Shapley lens</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       if (lens != NULL) // it's null if lens is not select</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ed (lens index = -1)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               QString lensName = lens-&gt;name();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               if (lensName.isEmpty())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       lensNumberLabel = QString(q_("Lens #</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">%1")).arg(selectedLensIndex);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                                       lensNumberLabel = QString (q_("Lens </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">#%1: %2")).arg(selectedLensIndex).arg(lensName);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                               lensNumberLabel = QString (q_("Lens: none"))</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">; //FIXME</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, </span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">lensNumberLabel));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       yPosition-=lineHeight;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // The telescope</td><td> </td><td class="right">                       // The telescope</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString telescopeNumberLabel;</td><td> </td><td class="right">                       QString telescopeNumberLabel;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString telescopeName = telescope-&gt;name();</td><td> </td><td class="right">                       QString telescopeName = telescope-&gt;name();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       if (telescopeName.isEmpty())</td><td> </td><td class="right">                       if (telescopeName.isEmpty())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               telescopeNumberLabel = QString(q_("Telescope
 #%1"))</td><td> </td><td class="right">                               telescopeNumberLabel = QString(q_("Telescope
 #%1"))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               .arg(selectedTelescopeIndex)
;</td><td> </td><td class="right">                                               .arg(selectedTelescopeIndex)
;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       else</td><td> </td><td class="right">                       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       {</td><td> </td><td class="right">                       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                               telescopeNumberLabel = QString(q_("Telescope
 #%1: %2"))</td><td> </td><td class="right">                               telescopeNumberLabel = QString(q_("Telescope
 #%1: %2"))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               .arg(selectedTelescopeIndex)</td><td> </td><td class="right">                                               .arg(selectedTelescopeIndex)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                               .arg(telescopeName);</td><td> </td><td class="right">                                               .arg(telescopeName);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       }</td><td> </td><td class="right">                       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
telescopeNumberLabel));</td><td> </td><td class="right">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
telescopeNumberLabel));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       yPosition-=lineHeight;</td><td> </td><td class="right">                       yPosition-=lineHeight;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       // General info</td><td> </td><td class="right">                       // General info</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0017" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       double magnification = ((int)(ocular-&gt;magnification(
telescope) * 10.0)) / 10.0;</td><td> </td><td class="rblock">                       double magnification = ((int)(ocular-&gt;magnification(
telescope<span class="insert">, lens</span>) * 10.0)) / 10.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString magString = QString::number(magnification);</td><td> </td><td class="right">                       QString magString = QString::number(magnification);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       magString.append(QChar(0x00D7));//Multiplication sig
n</td><td> </td><td class="right">                       magString.append(QChar(0x00D7));//Multiplication sig
n</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString magnificationLabel = QString(q_("Magnificati
on: %1"))</td><td> </td><td class="right">                       QString magnificationLabel = QString(q_("Magnificati
on: %1"))</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                                                    .arg(magString);</td><td> </td><td class="right">                                                    .arg(magString);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
magnificationLabel));</td><td> </td><td class="right">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
magnificationLabel));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       yPosition-=lineHeight;</td><td> </td><td class="right">                       yPosition-=lineHeight;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0018" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">                       double fov = ((int)(ocular-&gt;actualFOV(telescope<span class="delete">) * 1
</span>0000.00)) / 10000.0;</td><td> </td><td class="rblock">                       double fov = ((int)(ocular-&gt;actualFOV(telescope<span class="insert">, len
s) * 1</span>0000.00)) / 10000.0;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString fovString = QString::number(fov);</td><td> </td><td class="right">                       QString fovString = QString::number(fov);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       fovString.append(QChar(0x00B0));//Degree sign</td><td> </td><td class="right">                       fovString.append(QChar(0x00B0));//Degree sign</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       QString fovLabel = QString(q_("FOV: %1")).arg(fovStr
ing);</td><td> </td><td class="right">                       QString fovLabel = QString(q_("FOV: %1")).arg(fovStr
ing);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
fovLabel));</td><td> </td><td class="right">                       renderer-&gt;drawText(TextParams(xPosition, yPosition, 
fovLabel));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               }</td><td> </td><td class="right">               }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // The CCD</td><td> </td><td class="right">       // The CCD</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (flagShowCCD) {</td><td> </td><td class="right">       if (flagShowCCD) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               QString ccdSensorLabel, ccdInfoLabel;</td><td> </td><td class="right">               QString ccdSensorLabel, ccdInfoLabel;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno"></td></tr>
      <tr bgcolor="gray" ><td></td><th><a name="part-l13" /><small>skipping to change at</small><em> line 1699</em></th><th> </th><th><a name="part-r13" /><small>skipping to change at</small><em> line 1790</em></th><td></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // We won't always have a selected object</td><td> </td><td class="right">       // We won't always have a selected object</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (StelApp::getInstance().getStelObjectMgr().getWasSelected()) {</td><td> </td><td class="right">       if (StelApp::getInstance().getStelObjectMgr().getWasSelected()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               StelObjectP selectedObject = StelApp::getInstance().getStelO
bjectMgr().getSelectedObject()[0];</td><td> </td><td class="right">               StelObjectP selectedObject = StelApp::getInstance().getStelO
bjectMgr().getSelectedObject()[0];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               movementManager-&gt;moveToJ2000(selectedObject-&gt;getEquinoxEquat
orialPos(core), 0.0, 1);</td><td> </td><td class="right">               movementManager-&gt;moveToJ2000(selectedObject-&gt;getEquinoxEquat
orialPos(core), 0.0, 1);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Set the screen display</td><td> </td><td class="right">       // Set the screen display</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // core-&gt;setMaskType(StelProjector::MaskDisk);</td><td> </td><td class="right">       // core-&gt;setMaskType(StelProjector::MaskDisk);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Ocular *ocular = oculars[selectedOcularIndex];</td><td> </td><td class="right">       Ocular *ocular = oculars[selectedOcularIndex];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Telescope *telescope = NULL;</td><td> </td><td class="right">       Telescope *telescope = NULL;</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0019" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Lens *lens = NULL;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // Only consider flip is we're not binoculars</td><td> </td><td class="right">       // Only consider flip is we're not binoculars</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (ocular-&gt;isBinoculars())</td><td> </td><td class="right">       if (ocular-&gt;isBinoculars())</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               core-&gt;setFlipHorz(false);</td><td> </td><td class="right">               core-&gt;setFlipHorz(false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               core-&gt;setFlipVert(false);</td><td> </td><td class="right">               core-&gt;setFlipVert(false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       else</td><td> </td><td class="right">       else</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0020" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">       <span class="insert">if (selectedLensIndex &gt;= 0)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               lens = lense[selectedLensIndex];</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               telescope = telescopes[selectedTelescopeIndex];</td><td> </td><td class="right">               telescope = telescopes[selectedTelescopeIndex];</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               core-&gt;setFlipHorz(telescope-&gt;isHFlipped());</td><td> </td><td class="right">               core-&gt;setFlipHorz(telescope-&gt;isHFlipped());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               core-&gt;setFlipVert(telescope-&gt;isVFlipped());</td><td> </td><td class="right">               core-&gt;setFlipVert(telescope-&gt;isVFlipped());</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0021" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock">       double actualFOV = ocular-&gt;actualFOV(telescope);</td><td> </td><td class="rblock">       double actualFOV = ocular-&gt;actualFOV(telescope<span class="insert">, lens</span>);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       // See if the mask was scaled; if so, correct the actualFOV.</td><td> </td><td class="right">       // See if the mask was scaled; if so, correct the actualFOV.</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (useMaxEyepieceAngle &amp;&amp; ocular-&gt;appearentFOV() &gt; 0.0 &amp;&amp; !ocular-&gt;
isBinoculars()) {</td><td> </td><td class="right">       if (useMaxEyepieceAngle &amp;&amp; ocular-&gt;appearentFOV() &gt; 0.0 &amp;&amp; !ocular-&gt;
isBinoculars()) {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               actualFOV = maxEyepieceAngle * actualFOV / ocular-&gt;appearent
FOV();</td><td> </td><td class="right">               actualFOV = maxEyepieceAngle * actualFOV / ocular-&gt;appearent
FOV();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       movementManager-&gt;zoomTo(actualFOV, 0.0);</td><td> </td><td class="right">       movementManager-&gt;zoomTo(actualFOV, 0.0);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">void Oculars::hideUsageMessageIfDisplayed()</td><td> </td><td class="right">void Oculars::hideUsageMessageIfDisplayed()</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       if (usageMessageLabelID &gt; -1)</td><td> </td><td class="right">       if (usageMessageLabelID &gt; -1)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               LabelMgr *labelManager = GETSTELMODULE(LabelMgr);</td><td> </td><td class="right">               LabelMgr *labelManager = GETSTELMODULE(LabelMgr);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               labelManager-&gt;setLabelShow(usageMessageLabelID, false);</td><td> </td><td class="right">               labelManager-&gt;setLabelShow(usageMessageLabelID, false);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               labelManager-&gt;deleteLabel(usageMessageLabelID);</td><td> </td><td class="right">               labelManager-&gt;deleteLabel(usageMessageLabelID);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">               usageMessageLabelID = -1;</td><td> </td><td class="right">               usageMessageLabelID = -1;</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       }</td><td> </td><td class="right">       }</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">}</td><td> </td><td class="right">}</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td><a name="diff0022" /></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">Lens* Oculars::selectedLens()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    if (selectedLensIndex &gt;= 0 &amp;&amp; selectedLensIndex &lt; lense.count())</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return lense[selectedLensIndex];</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">    return NULL;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">QMenu* Oculars::addLensSubmenu(QMenu* parent)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">{</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       Q_ASSERT(parent);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       QMenu *submenu = new QMenu(q_("&amp;Lens"), parent);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       submenu-&gt;addAction(q_("&amp;Previous lens"), this, SLOT(decrementLensInd</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">ex()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       submenu-&gt;addAction(q_("&amp;Next lens"), this, SLOT(incrementLensIndex()</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       submenu-&gt;addSeparator();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       submenu-&gt;addAction(q_("None"), this, SLOT(disableLens()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert"></span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       for (int index = 0; index &lt; lense.count(); ++index)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QString label;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               if (index &lt; 10)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       label = QString("&amp;%1: %2").arg(index).arg(lense[inde</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">x]-&gt;name());</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               else</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       label = lense[index]-&gt;name();</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               QAction* action = submenu-&gt;addAction(label, lenseSignalMappe</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">r, SLOT(map()));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               if (index == selectedLensIndex)</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               {</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       action-&gt;setCheckable(true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">                       action-&gt;setChecked(true);</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">               lenseSignalMapper-&gt;setMapping(action, QString("%1").arg(inde</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">x));</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       }</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">       return submenu;</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock"><span class="insert">}</span></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="lblock"></td><td> </td><td class="rblock">                                                                           </td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">QMenu* Oculars::addTelescopeSubmenu(QMenu *parent)</td><td> </td><td class="right">QMenu* Oculars::addTelescopeSubmenu(QMenu *parent)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">{</td><td> </td><td class="right">{</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       Q_ASSERT(parent);</td><td> </td><td class="right">       Q_ASSERT(parent);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left"></td><td> </td><td class="right"></td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       QMenu* submenu = new QMenu(q_("&amp;Telescope"), parent);</td><td> </td><td class="right">       QMenu* submenu = new QMenu(q_("&amp;Telescope"), parent);</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       submenu-&gt;addAction(q_("&amp;Previous telescope"), this, SLOT(decrementTe
lescopeIndex()));</td><td> </td><td class="right">       submenu-&gt;addAction(q_("&amp;Previous telescope"), this, SLOT(decrementTe
lescopeIndex()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       submenu-&gt;addAction(q_("&amp;Next telescope"), this, SLOT(incrementTelesc
opeIndex()));</td><td> </td><td class="right">       submenu-&gt;addAction(q_("&amp;Next telescope"), this, SLOT(incrementTelesc
opeIndex()));</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       submenu-&gt;addSeparator();</td><td> </td><td class="right">       submenu-&gt;addSeparator();</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       for (int index = 0; index &lt; telescopes.count(); ++index)</td><td> </td><td class="right">       for (int index = 0; index &lt; telescopes.count(); ++index)</td><td class="lineno" valign="top"></td></tr>
      <tr><td class="lineno" valign="top"></td><td class="left">       {</td><td> </td><td class="right">       {</td><td class="lineno" valign="top"></td></tr>

     <tr><td></td><td class="left"></td><td> </td><td class="right"></td><td></td></tr>
     <tr bgcolor="gray"><th colspan="5" align="center"><a name="end">&nbsp;End of changes. 22 change blocks.&nbsp;</a></th></tr>
     <tr class="stats"><td></td><th><i>5 lines changed or deleted</i></th><th><i> </i></th><th><i>150 lines changed or added</i></th><td></td></tr>
     <tr><td colspan="5" align="center" class="small"><br/>This html diff was produced by rfcdiff 1.41. The latest version is available from <a href="http://www.tools.ietf.org/tools/rfcdiff/" >http://tools.ietf.org/tools/rfcdiff/</a> </td></tr>
   </table>
   </body>
   </html>
