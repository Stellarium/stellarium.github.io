# stellarium.github.io

Jekyll-based website for Stellarium project

## Pages
Each page has a stub .md file in the top-level directory which must only include a corresponding layout from the _layouts directory. For example for the screenshots page, we need a `/screenshots.md` and a `/_layouts/screenshots.html` files.

## Posts
Use the regular Jekyll way to add posts, as described [there](https://jekyllrb.com/docs/posts/). An Atom feed is available at `/feed.xml` adress.

## Internationalization
We use a hack allowing to get Jekyll to perform static translation of the website using gettext .po and .pot files.
For this to work, you need to:
 - add the following at the top of your html file: 
 `{% include i18n.html %}`
 - mark strings to translate in the .html file this way:
`{% include tr.html s="String to translate" %}`

The po/stellarium-website.pot file can be re-generated by running the utils/update_pot.py script.

Once translation is done, copy the *.po files into the po/ directory and run the utils/update_po.py script.

## Local testing
Before pushing changes on github, which immediately reflects on the public page, it is better to test the changes locally:

To run Jekyll on your local computer, read the following guide: [Setting up your GitHub Pages site locally with Jekyll](https://help.github.com/articles/setting-up-your-github-pages-site-locally-with-jekyll/)
